webpackJsonp([0],[,,/*!********************************!*\
  !*** ./js/commonpage_entry.js ***!
  \********************************/
/*! no static exports found */
/*! all exports used */
function(module,exports,__webpack_require__){eval("var componentsPath = './components/';\nvar jQuery = __webpack_require__(/*! . */ 1)(componentsPath + 'jquery.js');\nvar $ = jQuery;\n__webpack_require__(/*! . */ 3)(componentsPath + 'bootstrap.js')(this, $);\nvar mensuBlogJs = __webpack_require__(/*! . */ 5)(componentsPath + 'mensu-blog.js');\nvar huxBlogJs = __webpack_require__(/*! . */ 7)(componentsPath + 'hux-blog.js');\nvar tagcloudJs = __webpack_require__(/*! . */ 10)(componentsPath + 'jquery.tagcloud.js');\n// var duoshuoJs = require(componentsPath + 'duoshuo-embed.js');\nfunction duoshuoJs() {}\n\n$(document).ready(function() {\n  huxBlogJs(this, $);\n  mensuBlogJs(this, $);\n  \n  if (siteOptions.tagcloud) {\n    tagcloudJs(this, $);\n    $.fn.tagcloud.defaults = {\n        // size: {start: 1, end: 1, unit: 'em'},\n        \"color\": {\n          \"start\": '#bbbbee',\n          \"end\": '#0085a1'\n        }\n    };\n    $('#tag_cloud a').tagcloud();\n  }\n\n  if (siteOptions.duoshuoQuery) {\n    duoshuoJs();\n  }\n  if (siteOptions.disqus) {\n    window.disqus_config = function() {\n      window.page.url = siteOptions.disqus.page.url;\n      window.page.identifier = siteOptions.disqus.page.id;\n    };\n    siteOptions.disqus.count['name'] = 'disqus count';\n    scriptLoader(siteOptions.disqus.count);\n    scriptLoader({\n      \"src\": siteOptions.disqus.src,\n      \"name\": 'Disqus Comment'\n    }, function($script) {\n      $script.attr('data-timetamp', new Date());\n    }); \n  }\n  if (siteOptions.mathjax) {\n    scriptLoader({\n      \"type\": 'text/x-mathjax-config',\n      \"name\": 'Mathjax Config'\n    }, function($script) {\n      $script.text(\"window.MathJax.Hub.Config({tex2jax: {inlineMath: [['$$','$$'], ['\\\\\\\\(','\\\\\\\\)']]}});\");\n    });\n    scriptLoader({\n      \"src\": 'https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS_CHTML',\n      \"name\": 'Mathjax Src',\n      \"async\": true\n    });\n  }\n  \n});\n\nfunction scriptLoader(options, callback) {\n  var $script = $('<script>');\n  $script.prop('src', options.src);\n  if (options.type) {\n    $script.prop('type', options.type);\n  }\n  if (options.async) {\n    $script.prop('async', options.async);\n    $script.prop('defer', options.async);\n  }\n  if (callback) {\n    callback($script);\n  }\n  $('body').append('\x3c!-- ' + options.name + ' starts --\x3e')\n           .append($script)\n           .append('\x3c!-- ' + options.name + ' ends --\x3e');\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMi5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL2pzL2NvbW1vbnBhZ2VfZW50cnkuanM/MTE2ZiJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgY29tcG9uZW50c1BhdGggPSAnLi9jb21wb25lbnRzLyc7XG52YXIgalF1ZXJ5ID0gcmVxdWlyZShjb21wb25lbnRzUGF0aCArICdqcXVlcnkuanMnKTtcbnZhciAkID0galF1ZXJ5O1xucmVxdWlyZShjb21wb25lbnRzUGF0aCArICdib290c3RyYXAuanMnKSh0aGlzLCAkKTtcbnZhciBtZW5zdUJsb2dKcyA9IHJlcXVpcmUoY29tcG9uZW50c1BhdGggKyAnbWVuc3UtYmxvZy5qcycpO1xudmFyIGh1eEJsb2dKcyA9IHJlcXVpcmUoY29tcG9uZW50c1BhdGggKyAnaHV4LWJsb2cuanMnKTtcbnZhciB0YWdjbG91ZEpzID0gcmVxdWlyZShjb21wb25lbnRzUGF0aCArICdqcXVlcnkudGFnY2xvdWQuanMnKTtcbi8vIHZhciBkdW9zaHVvSnMgPSByZXF1aXJlKGNvbXBvbmVudHNQYXRoICsgJ2R1b3NodW8tZW1iZWQuanMnKTtcbmZ1bmN0aW9uIGR1b3NodW9KcygpIHt9XG5cbiQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uKCkge1xuICBodXhCbG9nSnModGhpcywgJCk7XG4gIG1lbnN1QmxvZ0pzKHRoaXMsICQpO1xuICBcbiAgaWYgKHNpdGVPcHRpb25zLnRhZ2Nsb3VkKSB7XG4gICAgdGFnY2xvdWRKcyh0aGlzLCAkKTtcbiAgICAkLmZuLnRhZ2Nsb3VkLmRlZmF1bHRzID0ge1xuICAgICAgICAvLyBzaXplOiB7c3RhcnQ6IDEsIGVuZDogMSwgdW5pdDogJ2VtJ30sXG4gICAgICAgIFwiY29sb3JcIjoge1xuICAgICAgICAgIFwic3RhcnRcIjogJyNiYmJiZWUnLFxuICAgICAgICAgIFwiZW5kXCI6ICcjMDA4NWExJ1xuICAgICAgICB9XG4gICAgfTtcbiAgICAkKCcjdGFnX2Nsb3VkIGEnKS50YWdjbG91ZCgpO1xuICB9XG5cbiAgaWYgKHNpdGVPcHRpb25zLmR1b3NodW9RdWVyeSkge1xuICAgIGR1b3NodW9KcygpO1xuICB9XG4gIGlmIChzaXRlT3B0aW9ucy5kaXNxdXMpIHtcbiAgICB3aW5kb3cuZGlzcXVzX2NvbmZpZyA9IGZ1bmN0aW9uKCkge1xuICAgICAgd2luZG93LnBhZ2UudXJsID0gc2l0ZU9wdGlvbnMuZGlzcXVzLnBhZ2UudXJsO1xuICAgICAgd2luZG93LnBhZ2UuaWRlbnRpZmllciA9IHNpdGVPcHRpb25zLmRpc3F1cy5wYWdlLmlkO1xuICAgIH07XG4gICAgc2l0ZU9wdGlvbnMuZGlzcXVzLmNvdW50WyduYW1lJ10gPSAnZGlzcXVzIGNvdW50JztcbiAgICBzY3JpcHRMb2FkZXIoc2l0ZU9wdGlvbnMuZGlzcXVzLmNvdW50KTtcbiAgICBzY3JpcHRMb2FkZXIoe1xuICAgICAgXCJzcmNcIjogc2l0ZU9wdGlvbnMuZGlzcXVzLnNyYyxcbiAgICAgIFwibmFtZVwiOiAnRGlzcXVzIENvbW1lbnQnXG4gICAgfSwgZnVuY3Rpb24oJHNjcmlwdCkge1xuICAgICAgJHNjcmlwdC5hdHRyKCdkYXRhLXRpbWV0YW1wJywgbmV3IERhdGUoKSk7XG4gICAgfSk7IFxuICB9XG4gIGlmIChzaXRlT3B0aW9ucy5tYXRoamF4KSB7XG4gICAgc2NyaXB0TG9hZGVyKHtcbiAgICAgIFwidHlwZVwiOiAndGV4dC94LW1hdGhqYXgtY29uZmlnJyxcbiAgICAgIFwibmFtZVwiOiAnTWF0aGpheCBDb25maWcnXG4gICAgfSwgZnVuY3Rpb24oJHNjcmlwdCkge1xuICAgICAgJHNjcmlwdC50ZXh0KFwid2luZG93Lk1hdGhKYXguSHViLkNvbmZpZyh7dGV4MmpheDoge2lubGluZU1hdGg6IFtbJyQkJywnJCQnXSwgWydcXFxcXFxcXCgnLCdcXFxcXFxcXCknXV19fSk7XCIpO1xuICAgIH0pO1xuICAgIHNjcmlwdExvYWRlcih7XG4gICAgICBcInNyY1wiOiAnaHR0cHM6Ly9jZG5qcy5jbG91ZGZsYXJlLmNvbS9hamF4L2xpYnMvbWF0aGpheC8yLjcuMS9NYXRoSmF4LmpzP2NvbmZpZz1UZVgtQU1TX0NIVE1MJyxcbiAgICAgIFwibmFtZVwiOiAnTWF0aGpheCBTcmMnLFxuICAgICAgXCJhc3luY1wiOiB0cnVlXG4gICAgfSk7XG4gIH1cbiAgXG59KTtcblxuZnVuY3Rpb24gc2NyaXB0TG9hZGVyKG9wdGlvbnMsIGNhbGxiYWNrKSB7XG4gIHZhciAkc2NyaXB0ID0gJCgnPHNjcmlwdD4nKTtcbiAgJHNjcmlwdC5wcm9wKCdzcmMnLCBvcHRpb25zLnNyYyk7XG4gIGlmIChvcHRpb25zLnR5cGUpIHtcbiAgICAkc2NyaXB0LnByb3AoJ3R5cGUnLCBvcHRpb25zLnR5cGUpO1xuICB9XG4gIGlmIChvcHRpb25zLmFzeW5jKSB7XG4gICAgJHNjcmlwdC5wcm9wKCdhc3luYycsIG9wdGlvbnMuYXN5bmMpO1xuICAgICRzY3JpcHQucHJvcCgnZGVmZXInLCBvcHRpb25zLmFzeW5jKTtcbiAgfVxuICBpZiAoY2FsbGJhY2spIHtcbiAgICBjYWxsYmFjaygkc2NyaXB0KTtcbiAgfVxuICAkKCdib2R5JykuYXBwZW5kKCc8IS0tICcgKyBvcHRpb25zLm5hbWUgKyAnIHN0YXJ0cyAtLT4nKVxuICAgICAgICAgICAuYXBwZW5kKCRzY3JpcHQpXG4gICAgICAgICAgIC5hcHBlbmQoJzwhLS0gJyArIG9wdGlvbnMubmFtZSArICcgZW5kcyAtLT4nKTtcbn1cblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vanMvY29tbW9ucGFnZV9lbnRyeS5qc1xuLy8gbW9kdWxlIGlkID0gMlxuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///2\n")},/*!******************************!*\
  !*** ./js ^.*bootstrap\.js$ ***!
  \******************************/
/*! no static exports found */
/*! all exports used */
function(module,exports,__webpack_require__){eval('var map = {\n\t"./components/bootstrap.js": 4\n};\nfunction webpackContext(req) {\n\treturn __webpack_require__(webpackContextResolve(req));\n};\nfunction webpackContextResolve(req) {\n\tvar id = map[req];\n\tif(!(id + 1)) // check for number or string\n\t\tthrow new Error("Cannot find module \'" + req + "\'.");\n\treturn id;\n};\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 3;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL2pzIF4uKmJvb3RzdHJhcFxcLmpzJD81ODM3Il0sInNvdXJjZXNDb250ZW50IjpbInZhciBtYXAgPSB7XG5cdFwiLi9jb21wb25lbnRzL2Jvb3RzdHJhcC5qc1wiOiA0XG59O1xuZnVuY3Rpb24gd2VicGFja0NvbnRleHQocmVxKSB7XG5cdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKHdlYnBhY2tDb250ZXh0UmVzb2x2ZShyZXEpKTtcbn07XG5mdW5jdGlvbiB3ZWJwYWNrQ29udGV4dFJlc29sdmUocmVxKSB7XG5cdHZhciBpZCA9IG1hcFtyZXFdO1xuXHRpZighKGlkICsgMSkpIC8vIGNoZWNrIGZvciBudW1iZXIgb3Igc3RyaW5nXG5cdFx0dGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIiArIHJlcSArIFwiJy5cIik7XG5cdHJldHVybiBpZDtcbn07XG53ZWJwYWNrQ29udGV4dC5rZXlzID0gZnVuY3Rpb24gd2VicGFja0NvbnRleHRLZXlzKCkge1xuXHRyZXR1cm4gT2JqZWN0LmtleXMobWFwKTtcbn07XG53ZWJwYWNrQ29udGV4dC5yZXNvbHZlID0gd2VicGFja0NvbnRleHRSZXNvbHZlO1xubW9kdWxlLmV4cG9ydHMgPSB3ZWJwYWNrQ29udGV4dDtcbndlYnBhY2tDb250ZXh0LmlkID0gMztcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL2pzIF4uKmJvb3RzdHJhcFxcLmpzJFxuLy8gbW9kdWxlIGlkID0gM1xuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///3\n')},/*!************************************!*\
  !*** ./js/components/bootstrap.js ***!
  \************************************/
/*! no static exports found */
/*! all exports used */
function(module,exports,__webpack_require__){eval("var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/*!\n * Bootstrap v3.3.2 (http://getbootstrap.com)\n * Copyright 2011-2015 Twitter, Inc.\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)\n */\n(function (factory) {\n  if (typeof module === 'object' && module.exports) {\n    // Node/CommonJS\n    module.exports = function( root, jQuery ) {\n      if ( jQuery === undefined ) {\n        // require('jQuery') returns a factory that requires window to\n        // build a jQuery instance, we normalize how we use modules\n        // that require this pattern but the window provided is a noop\n        // if it's defined (how jquery works)\n        if ( typeof window !== 'undefined' ) {\n          jQuery = __webpack_require__(/*! ./jquery.js */ 0);\n        }\n        else {\n          jQuery = __webpack_require__(/*! ./jquery.js */ 0)(root);\n        }\n      }\n      factory(jQuery);\n      return jQuery;\n    };\n  } else if (true) {\n    // AMD. Register as an anonymous module.\n    !(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(/*! ./jquery.js */ 0)], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?\n\t\t\t\t(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n  } else {\n    // Browser globals\n    factory(jQuery);\n  }\n})(function (jQuery) {\n  if (typeof jQuery === 'undefined') {\n    throw new Error('Bootstrap\\'s JavaScript requires jQuery')\n  }\n\n  +function ($) {\n    'use strict';\n    var version = $.fn.jquery.split(' ')[0].split('.')\n    if ((version[0] < 2 && version[1] < 9) || (version[0] == 1 && version[1] == 9 && version[2] < 1)) {\n      throw new Error('Bootstrap\\'s JavaScript requires jQuery version 1.9.1 or higher')\n    }\n  }(jQuery);\n\n  /* ========================================================================\n  * Bootstrap: transition.js v3.3.2\n  * http://getbootstrap.com/javascript/#transitions\n  * ========================================================================\n  * Copyright 2011-2015 Twitter, Inc.\n  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)\n  * ======================================================================== */\n\n\n  +function ($) {\n    'use strict';\n\n    // CSS TRANSITION SUPPORT (Shoutout: http://www.modernizr.com/)\n    // ============================================================\n\n    function transitionEnd() {\n      var el = document.createElement('bootstrap')\n\n      var transEndEventNames = {\n        WebkitTransition : 'webkitTransitionEnd',\n        MozTransition    : 'transitionend',\n        OTransition      : 'oTransitionEnd otransitionend',\n        transition       : 'transitionend'\n      }\n\n      for (var name in transEndEventNames) {\n        if (el.style[name] !== undefined) {\n          return { end: transEndEventNames[name] }\n        }\n      }\n\n      return false // explicit for ie8 (  ._.)\n    }\n\n    // http://blog.alexmaccaw.com/css-transitions\n    $.fn.emulateTransitionEnd = function (duration) {\n      var called = false\n      var $el = this\n      $(this).one('bsTransitionEnd', function () { called = true })\n      var callback = function () { if (!called) $($el).trigger($.support.transition.end) }\n      setTimeout(callback, duration)\n      return this\n    }\n\n    $(function () {\n      $.support.transition = transitionEnd()\n\n      if (!$.support.transition) return\n\n      $.event.special.bsTransitionEnd = {\n        bindType: $.support.transition.end,\n        delegateType: $.support.transition.end,\n        handle: function (e) {\n          if ($(e.target).is(this)) return e.handleObj.handler.apply(this, arguments)\n        }\n      }\n    })\n\n  }(jQuery);\n\n  /* ========================================================================\n  * Bootstrap: alert.js v3.3.2\n  * http://getbootstrap.com/javascript/#alerts\n  * ========================================================================\n  * Copyright 2011-2015 Twitter, Inc.\n  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)\n  * ======================================================================== */\n\n\n  +function ($) {\n    'use strict';\n\n    // ALERT CLASS DEFINITION\n    // ======================\n\n    var dismiss = '[data-dismiss=\"alert\"]'\n    var Alert   = function (el) {\n      $(el).on('click', dismiss, this.close)\n    }\n\n    Alert.VERSION = '3.3.2'\n\n    Alert.TRANSITION_DURATION = 150\n\n    Alert.prototype.close = function (e) {\n      var $this    = $(this)\n      var selector = $this.attr('data-target')\n\n      if (!selector) {\n        selector = $this.attr('href')\n        selector = selector && selector.replace(/.*(?=#[^\\s]*$)/, '') // strip for ie7\n      }\n\n      var $parent = $(selector)\n\n      if (e) e.preventDefault()\n\n      if (!$parent.length) {\n        $parent = $this.closest('.alert')\n      }\n\n      $parent.trigger(e = $.Event('close.bs.alert'))\n\n      if (e.isDefaultPrevented()) return\n\n      $parent.removeClass('in')\n\n      function removeElement() {\n        // detach from parent, fire event then clean up data\n        $parent.detach().trigger('closed.bs.alert').remove()\n      }\n\n      $.support.transition && $parent.hasClass('fade') ?\n        $parent\n          .one('bsTransitionEnd', removeElement)\n          .emulateTransitionEnd(Alert.TRANSITION_DURATION) :\n        removeElement()\n    }\n\n\n    // ALERT PLUGIN DEFINITION\n    // =======================\n\n    function Plugin(option) {\n      return this.each(function () {\n        var $this = $(this)\n        var data  = $this.data('bs.alert')\n\n        if (!data) $this.data('bs.alert', (data = new Alert(this)))\n        if (typeof option == 'string') data[option].call($this)\n      })\n    }\n\n    var old = $.fn.alert\n\n    $.fn.alert             = Plugin\n    $.fn.alert.Constructor = Alert\n\n\n    // ALERT NO CONFLICT\n    // =================\n\n    $.fn.alert.noConflict = function () {\n      $.fn.alert = old\n      return this\n    }\n\n\n    // ALERT DATA-API\n    // ==============\n\n    $(document).on('click.bs.alert.data-api', dismiss, Alert.prototype.close)\n\n  }(jQuery);\n\n  /* ========================================================================\n  * Bootstrap: button.js v3.3.2\n  * http://getbootstrap.com/javascript/#buttons\n  * ========================================================================\n  * Copyright 2011-2015 Twitter, Inc.\n  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)\n  * ======================================================================== */\n\n\n  +function ($) {\n    'use strict';\n\n    // BUTTON PUBLIC CLASS DEFINITION\n    // ==============================\n\n    var Button = function (element, options) {\n      this.$element  = $(element)\n      this.options   = $.extend({}, Button.DEFAULTS, options)\n      this.isLoading = false\n    }\n\n    Button.VERSION  = '3.3.2'\n\n    Button.DEFAULTS = {\n      loadingText: 'loading...'\n    }\n\n    Button.prototype.setState = function (state) {\n      var d    = 'disabled'\n      var $el  = this.$element\n      var val  = $el.is('input') ? 'val' : 'html'\n      var data = $el.data()\n\n      state = state + 'Text'\n\n      if (data.resetText == null) $el.data('resetText', $el[val]())\n\n      // push to event loop to allow forms to submit\n      setTimeout($.proxy(function () {\n        $el[val](data[state] == null ? this.options[state] : data[state])\n\n        if (state == 'loadingText') {\n          this.isLoading = true\n          $el.addClass(d).attr(d, d)\n        } else if (this.isLoading) {\n          this.isLoading = false\n          $el.removeClass(d).removeAttr(d)\n        }\n      }, this), 0)\n    }\n\n    Button.prototype.toggle = function () {\n      var changed = true\n      var $parent = this.$element.closest('[data-toggle=\"buttons\"]')\n\n      if ($parent.length) {\n        var $input = this.$element.find('input')\n        if ($input.prop('type') == 'radio') {\n          if ($input.prop('checked') && this.$element.hasClass('active')) changed = false\n          else $parent.find('.active').removeClass('active')\n        }\n        if (changed) $input.prop('checked', !this.$element.hasClass('active')).trigger('change')\n      } else {\n        this.$element.attr('aria-pressed', !this.$element.hasClass('active'))\n      }\n\n      if (changed) this.$element.toggleClass('active')\n    }\n\n\n    // BUTTON PLUGIN DEFINITION\n    // ========================\n\n    function Plugin(option) {\n      return this.each(function () {\n        var $this   = $(this)\n        var data    = $this.data('bs.button')\n        var options = typeof option == 'object' && option\n\n        if (!data) $this.data('bs.button', (data = new Button(this, options)))\n\n        if (option == 'toggle') data.toggle()\n        else if (option) data.setState(option)\n      })\n    }\n\n    var old = $.fn.button\n\n    $.fn.button             = Plugin\n    $.fn.button.Constructor = Button\n\n\n    // BUTTON NO CONFLICT\n    // ==================\n\n    $.fn.button.noConflict = function () {\n      $.fn.button = old\n      return this\n    }\n\n\n    // BUTTON DATA-API\n    // ===============\n\n    $(document)\n      .on('click.bs.button.data-api', '[data-toggle^=\"button\"]', function (e) {\n        var $btn = $(e.target)\n        if (!$btn.hasClass('btn')) $btn = $btn.closest('.btn')\n        Plugin.call($btn, 'toggle')\n        e.preventDefault()\n      })\n      .on('focus.bs.button.data-api blur.bs.button.data-api', '[data-toggle^=\"button\"]', function (e) {\n        $(e.target).closest('.btn').toggleClass('focus', /^focus(in)?$/.test(e.type))\n      })\n\n  }(jQuery);\n\n  /* ========================================================================\n  * Bootstrap: carousel.js v3.3.2\n  * http://getbootstrap.com/javascript/#carousel\n  * ========================================================================\n  * Copyright 2011-2015 Twitter, Inc.\n  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)\n  * ======================================================================== */\n\n\n  +function ($) {\n    'use strict';\n\n    // CAROUSEL CLASS DEFINITION\n    // =========================\n\n    var Carousel = function (element, options) {\n      this.$element    = $(element)\n      this.$indicators = this.$element.find('.carousel-indicators')\n      this.options     = options\n      this.paused      =\n      this.sliding     =\n      this.interval    =\n      this.$active     =\n      this.$items      = null\n\n      this.options.keyboard && this.$element.on('keydown.bs.carousel', $.proxy(this.keydown, this))\n\n      this.options.pause == 'hover' && !('ontouchstart' in document.documentElement) && this.$element\n        .on('mouseenter.bs.carousel', $.proxy(this.pause, this))\n        .on('mouseleave.bs.carousel', $.proxy(this.cycle, this))\n    }\n\n    Carousel.VERSION  = '3.3.2'\n\n    Carousel.TRANSITION_DURATION = 600\n\n    Carousel.DEFAULTS = {\n      interval: 5000,\n      pause: 'hover',\n      wrap: true,\n      keyboard: true\n    }\n\n    Carousel.prototype.keydown = function (e) {\n      if (/input|textarea/i.test(e.target.tagName)) return\n      switch (e.which) {\n        case 37: this.prev(); break\n        case 39: this.next(); break\n        default: return\n      }\n\n      e.preventDefault()\n    }\n\n    Carousel.prototype.cycle = function (e) {\n      e || (this.paused = false)\n\n      this.interval && clearInterval(this.interval)\n\n      this.options.interval\n        && !this.paused\n        && (this.interval = setInterval($.proxy(this.next, this), this.options.interval))\n\n      return this\n    }\n\n    Carousel.prototype.getItemIndex = function (item) {\n      this.$items = item.parent().children('.item')\n      return this.$items.index(item || this.$active)\n    }\n\n    Carousel.prototype.getItemForDirection = function (direction, active) {\n      var activeIndex = this.getItemIndex(active)\n      var willWrap = (direction == 'prev' && activeIndex === 0)\n                  || (direction == 'next' && activeIndex == (this.$items.length - 1))\n      if (willWrap && !this.options.wrap) return active\n      var delta = direction == 'prev' ? -1 : 1\n      var itemIndex = (activeIndex + delta) % this.$items.length\n      return this.$items.eq(itemIndex)\n    }\n\n    Carousel.prototype.to = function (pos) {\n      var that        = this\n      var activeIndex = this.getItemIndex(this.$active = this.$element.find('.item.active'))\n\n      if (pos > (this.$items.length - 1) || pos < 0) return\n\n      if (this.sliding)       return this.$element.one('slid.bs.carousel', function () { that.to(pos) }) // yes, \"slid\"\n      if (activeIndex == pos) return this.pause().cycle()\n\n      return this.slide(pos > activeIndex ? 'next' : 'prev', this.$items.eq(pos))\n    }\n\n    Carousel.prototype.pause = function (e) {\n      e || (this.paused = true)\n\n      if (this.$element.find('.next, .prev').length && $.support.transition) {\n        this.$element.trigger($.support.transition.end)\n        this.cycle(true)\n      }\n\n      this.interval = clearInterval(this.interval)\n\n      return this\n    }\n\n    Carousel.prototype.next = function () {\n      if (this.sliding) return\n      return this.slide('next')\n    }\n\n    Carousel.prototype.prev = function () {\n      if (this.sliding) return\n      return this.slide('prev')\n    }\n\n    Carousel.prototype.slide = function (type, next) {\n      var $active   = this.$element.find('.item.active')\n      var $next     = next || this.getItemForDirection(type, $active)\n      var isCycling = this.interval\n      var direction = type == 'next' ? 'left' : 'right'\n      var that      = this\n\n      if ($next.hasClass('active')) return (this.sliding = false)\n\n      var relatedTarget = $next[0]\n      var slideEvent = $.Event('slide.bs.carousel', {\n        relatedTarget: relatedTarget,\n        direction: direction\n      })\n      this.$element.trigger(slideEvent)\n      if (slideEvent.isDefaultPrevented()) return\n\n      this.sliding = true\n\n      isCycling && this.pause()\n\n      if (this.$indicators.length) {\n        this.$indicators.find('.active').removeClass('active')\n        var $nextIndicator = $(this.$indicators.children()[this.getItemIndex($next)])\n        $nextIndicator && $nextIndicator.addClass('active')\n      }\n\n      var slidEvent = $.Event('slid.bs.carousel', { relatedTarget: relatedTarget, direction: direction }) // yes, \"slid\"\n      if ($.support.transition && this.$element.hasClass('slide')) {\n        $next.addClass(type)\n        $next[0].offsetWidth // force reflow\n        $active.addClass(direction)\n        $next.addClass(direction)\n        $active\n          .one('bsTransitionEnd', function () {\n            $next.removeClass([type, direction].join(' ')).addClass('active')\n            $active.removeClass(['active', direction].join(' '))\n            that.sliding = false\n            setTimeout(function () {\n              that.$element.trigger(slidEvent)\n            }, 0)\n          })\n          .emulateTransitionEnd(Carousel.TRANSITION_DURATION)\n      } else {\n        $active.removeClass('active')\n        $next.addClass('active')\n        this.sliding = false\n        this.$element.trigger(slidEvent)\n      }\n\n      isCycling && this.cycle()\n\n      return this\n    }\n\n\n    // CAROUSEL PLUGIN DEFINITION\n    // ==========================\n\n    function Plugin(option) {\n      return this.each(function () {\n        var $this   = $(this)\n        var data    = $this.data('bs.carousel')\n        var options = $.extend({}, Carousel.DEFAULTS, $this.data(), typeof option == 'object' && option)\n        var action  = typeof option == 'string' ? option : options.slide\n\n        if (!data) $this.data('bs.carousel', (data = new Carousel(this, options)))\n        if (typeof option == 'number') data.to(option)\n        else if (action) data[action]()\n        else if (options.interval) data.pause().cycle()\n      })\n    }\n\n    var old = $.fn.carousel\n\n    $.fn.carousel             = Plugin\n    $.fn.carousel.Constructor = Carousel\n\n\n    // CAROUSEL NO CONFLICT\n    // ====================\n\n    $.fn.carousel.noConflict = function () {\n      $.fn.carousel = old\n      return this\n    }\n\n\n    // CAROUSEL DATA-API\n    // =================\n\n    var clickHandler = function (e) {\n      var href\n      var $this   = $(this)\n      var $target = $($this.attr('data-target') || (href = $this.attr('href')) && href.replace(/.*(?=#[^\\s]+$)/, '')) // strip for ie7\n      if (!$target.hasClass('carousel')) return\n      var options = $.extend({}, $target.data(), $this.data())\n      var slideIndex = $this.attr('data-slide-to')\n      if (slideIndex) options.interval = false\n\n      Plugin.call($target, options)\n\n      if (slideIndex) {\n        $target.data('bs.carousel').to(slideIndex)\n      }\n\n      e.preventDefault()\n    }\n\n    $(document)\n      .on('click.bs.carousel.data-api', '[data-slide]', clickHandler)\n      .on('click.bs.carousel.data-api', '[data-slide-to]', clickHandler)\n\n    $(window).on('load', function () {\n      $('[data-ride=\"carousel\"]').each(function () {\n        var $carousel = $(this)\n        Plugin.call($carousel, $carousel.data())\n      })\n    })\n\n  }(jQuery);\n\n  /* ========================================================================\n  * Bootstrap: collapse.js v3.3.2\n  * http://getbootstrap.com/javascript/#collapse\n  * ========================================================================\n  * Copyright 2011-2015 Twitter, Inc.\n  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)\n  * ======================================================================== */\n\n\n  +function ($) {\n    'use strict';\n\n    // COLLAPSE PUBLIC CLASS DEFINITION\n    // ================================\n\n    var Collapse = function (element, options) {\n      this.$element      = $(element)\n      this.options       = $.extend({}, Collapse.DEFAULTS, options)\n      this.$trigger      = $(this.options.trigger).filter('[href=\"#' + element.id + '\"], [data-target=\"#' + element.id + '\"]')\n      this.transitioning = null\n\n      if (this.options.parent) {\n        this.$parent = this.getParent()\n      } else {\n        this.addAriaAndCollapsedClass(this.$element, this.$trigger)\n      }\n\n      if (this.options.toggle) this.toggle()\n    }\n\n    Collapse.VERSION  = '3.3.2'\n\n    Collapse.TRANSITION_DURATION = 350\n\n    Collapse.DEFAULTS = {\n      toggle: true,\n      trigger: '[data-toggle=\"collapse\"]'\n    }\n\n    Collapse.prototype.dimension = function () {\n      var hasWidth = this.$element.hasClass('width')\n      return hasWidth ? 'width' : 'height'\n    }\n\n    Collapse.prototype.show = function () {\n      if (this.transitioning || this.$element.hasClass('in')) return\n\n      var activesData\n      var actives = this.$parent && this.$parent.children('.panel').children('.in, .collapsing')\n\n      if (actives && actives.length) {\n        activesData = actives.data('bs.collapse')\n        if (activesData && activesData.transitioning) return\n      }\n\n      var startEvent = $.Event('show.bs.collapse')\n      this.$element.trigger(startEvent)\n      if (startEvent.isDefaultPrevented()) return\n\n      if (actives && actives.length) {\n        Plugin.call(actives, 'hide')\n        activesData || actives.data('bs.collapse', null)\n      }\n\n      var dimension = this.dimension()\n\n      this.$element\n        .removeClass('collapse')\n        .addClass('collapsing')[dimension](0)\n        .attr('aria-expanded', true)\n\n      this.$trigger\n        .removeClass('collapsed')\n        .attr('aria-expanded', true)\n\n      this.transitioning = 1\n\n      var complete = function () {\n        this.$element\n          .removeClass('collapsing')\n          .addClass('collapse in')[dimension]('')\n        this.transitioning = 0\n        this.$element\n          .trigger('shown.bs.collapse')\n      }\n\n      if (!$.support.transition) return complete.call(this)\n\n      var scrollSize = $.camelCase(['scroll', dimension].join('-'))\n\n      this.$element\n        .one('bsTransitionEnd', $.proxy(complete, this))\n        .emulateTransitionEnd(Collapse.TRANSITION_DURATION)[dimension](this.$element[0][scrollSize])\n    }\n\n    Collapse.prototype.hide = function () {\n      if (this.transitioning || !this.$element.hasClass('in')) return\n\n      var startEvent = $.Event('hide.bs.collapse')\n      this.$element.trigger(startEvent)\n      if (startEvent.isDefaultPrevented()) return\n\n      var dimension = this.dimension()\n\n      this.$element[dimension](this.$element[dimension]())[0].offsetHeight\n\n      this.$element\n        .addClass('collapsing')\n        .removeClass('collapse in')\n        .attr('aria-expanded', false)\n\n      this.$trigger\n        .addClass('collapsed')\n        .attr('aria-expanded', false)\n\n      this.transitioning = 1\n\n      var complete = function () {\n        this.transitioning = 0\n        this.$element\n          .removeClass('collapsing')\n          .addClass('collapse')\n          .trigger('hidden.bs.collapse')\n      }\n\n      if (!$.support.transition) return complete.call(this)\n\n      this.$element\n        [dimension](0)\n        .one('bsTransitionEnd', $.proxy(complete, this))\n        .emulateTransitionEnd(Collapse.TRANSITION_DURATION)\n    }\n\n    Collapse.prototype.toggle = function () {\n      this[this.$element.hasClass('in') ? 'hide' : 'show']()\n    }\n\n    Collapse.prototype.getParent = function () {\n      return $(this.options.parent)\n        .find('[data-toggle=\"collapse\"][data-parent=\"' + this.options.parent + '\"]')\n        .each($.proxy(function (i, element) {\n          var $element = $(element)\n          this.addAriaAndCollapsedClass(getTargetFromTrigger($element), $element)\n        }, this))\n        .end()\n    }\n\n    Collapse.prototype.addAriaAndCollapsedClass = function ($element, $trigger) {\n      var isOpen = $element.hasClass('in')\n\n      $element.attr('aria-expanded', isOpen)\n      $trigger\n        .toggleClass('collapsed', !isOpen)\n        .attr('aria-expanded', isOpen)\n    }\n\n    function getTargetFromTrigger($trigger) {\n      var href\n      var target = $trigger.attr('data-target')\n        || (href = $trigger.attr('href')) && href.replace(/.*(?=#[^\\s]+$)/, '') // strip for ie7\n\n      return $(target)\n    }\n\n\n    // COLLAPSE PLUGIN DEFINITION\n    // ==========================\n\n    function Plugin(option) {\n      return this.each(function () {\n        var $this   = $(this)\n        var data    = $this.data('bs.collapse')\n        var options = $.extend({}, Collapse.DEFAULTS, $this.data(), typeof option == 'object' && option)\n\n        if (!data && options.toggle && option == 'show') options.toggle = false\n        if (!data) $this.data('bs.collapse', (data = new Collapse(this, options)))\n        if (typeof option == 'string') data[option]()\n      })\n    }\n\n    var old = $.fn.collapse\n\n    $.fn.collapse             = Plugin\n    $.fn.collapse.Constructor = Collapse\n\n\n    // COLLAPSE NO CONFLICT\n    // ====================\n\n    $.fn.collapse.noConflict = function () {\n      $.fn.collapse = old\n      return this\n    }\n\n\n    // COLLAPSE DATA-API\n    // =================\n\n    $(document).on('click.bs.collapse.data-api', '[data-toggle=\"collapse\"]', function (e) {\n      var $this   = $(this)\n\n      if (!$this.attr('data-target')) e.preventDefault()\n\n      var $target = getTargetFromTrigger($this)\n      var data    = $target.data('bs.collapse')\n      var option  = data ? 'toggle' : $.extend({}, $this.data(), { trigger: this })\n\n      Plugin.call($target, option)\n    })\n\n  }(jQuery);\n\n  /* ========================================================================\n  * Bootstrap: dropdown.js v3.3.2\n  * http://getbootstrap.com/javascript/#dropdowns\n  * ========================================================================\n  * Copyright 2011-2015 Twitter, Inc.\n  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)\n  * ======================================================================== */\n\n\n  +function ($) {\n    'use strict';\n\n    // DROPDOWN CLASS DEFINITION\n    // =========================\n\n    var backdrop = '.dropdown-backdrop'\n    var toggle   = '[data-toggle=\"dropdown\"]'\n    var Dropdown = function (element) {\n      $(element).on('click.bs.dropdown', this.toggle)\n    }\n\n    Dropdown.VERSION = '3.3.2'\n\n    Dropdown.prototype.toggle = function (e) {\n      var $this = $(this)\n\n      if ($this.is('.disabled, :disabled')) return\n\n      var $parent  = getParent($this)\n      var isActive = $parent.hasClass('open')\n\n      clearMenus()\n\n      if (!isActive) {\n        if ('ontouchstart' in document.documentElement && !$parent.closest('.navbar-nav').length) {\n          // if mobile we use a backdrop because click events don't delegate\n          $('<div class=\"dropdown-backdrop\"/>').insertAfter($(this)).on('click', clearMenus)\n        }\n\n        var relatedTarget = { relatedTarget: this }\n        $parent.trigger(e = $.Event('show.bs.dropdown', relatedTarget))\n\n        if (e.isDefaultPrevented()) return\n\n        $this\n          .trigger('focus')\n          .attr('aria-expanded', 'true')\n\n        $parent\n          .toggleClass('open')\n          .trigger('shown.bs.dropdown', relatedTarget)\n      }\n\n      return false\n    }\n\n    Dropdown.prototype.keydown = function (e) {\n      if (!/(38|40|27|32)/.test(e.which) || /input|textarea/i.test(e.target.tagName)) return\n\n      var $this = $(this)\n\n      e.preventDefault()\n      e.stopPropagation()\n\n      if ($this.is('.disabled, :disabled')) return\n\n      var $parent  = getParent($this)\n      var isActive = $parent.hasClass('open')\n\n      if ((!isActive && e.which != 27) || (isActive && e.which == 27)) {\n        if (e.which == 27) $parent.find(toggle).trigger('focus')\n        return $this.trigger('click')\n      }\n\n      var desc = ' li:not(.divider):visible a'\n      var $items = $parent.find('[role=\"menu\"]' + desc + ', [role=\"listbox\"]' + desc)\n\n      if (!$items.length) return\n\n      var index = $items.index(e.target)\n\n      if (e.which == 38 && index > 0)                 index--                        // up\n      if (e.which == 40 && index < $items.length - 1) index++                        // down\n      if (!~index)                                      index = 0\n\n      $items.eq(index).trigger('focus')\n    }\n\n    function clearMenus(e) {\n      if (e && e.which === 3) return\n      $(backdrop).remove()\n      $(toggle).each(function () {\n        var $this         = $(this)\n        var $parent       = getParent($this)\n        var relatedTarget = { relatedTarget: this }\n\n        if (!$parent.hasClass('open')) return\n\n        $parent.trigger(e = $.Event('hide.bs.dropdown', relatedTarget))\n\n        if (e.isDefaultPrevented()) return\n\n        $this.attr('aria-expanded', 'false')\n        $parent.removeClass('open').trigger('hidden.bs.dropdown', relatedTarget)\n      })\n    }\n\n    function getParent($this) {\n      var selector = $this.attr('data-target')\n\n      if (!selector) {\n        selector = $this.attr('href')\n        selector = selector && /#[A-Za-z]/.test(selector) && selector.replace(/.*(?=#[^\\s]*$)/, '') // strip for ie7\n      }\n\n      var $parent = selector && $(selector)\n\n      return $parent && $parent.length ? $parent : $this.parent()\n    }\n\n\n    // DROPDOWN PLUGIN DEFINITION\n    // ==========================\n\n    function Plugin(option) {\n      return this.each(function () {\n        var $this = $(this)\n        var data  = $this.data('bs.dropdown')\n\n        if (!data) $this.data('bs.dropdown', (data = new Dropdown(this)))\n        if (typeof option == 'string') data[option].call($this)\n      })\n    }\n\n    var old = $.fn.dropdown\n\n    $.fn.dropdown             = Plugin\n    $.fn.dropdown.Constructor = Dropdown\n\n\n    // DROPDOWN NO CONFLICT\n    // ====================\n\n    $.fn.dropdown.noConflict = function () {\n      $.fn.dropdown = old\n      return this\n    }\n\n\n    // APPLY TO STANDARD DROPDOWN ELEMENTS\n    // ===================================\n\n    $(document)\n      .on('click.bs.dropdown.data-api', clearMenus)\n      .on('click.bs.dropdown.data-api', '.dropdown form', function (e) { e.stopPropagation() })\n      .on('click.bs.dropdown.data-api', toggle, Dropdown.prototype.toggle)\n      .on('keydown.bs.dropdown.data-api', toggle, Dropdown.prototype.keydown)\n      .on('keydown.bs.dropdown.data-api', '[role=\"menu\"]', Dropdown.prototype.keydown)\n      .on('keydown.bs.dropdown.data-api', '[role=\"listbox\"]', Dropdown.prototype.keydown)\n\n  }(jQuery);\n\n  /* ========================================================================\n  * Bootstrap: modal.js v3.3.2\n  * http://getbootstrap.com/javascript/#modals\n  * ========================================================================\n  * Copyright 2011-2015 Twitter, Inc.\n  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)\n  * ======================================================================== */\n\n\n  +function ($) {\n    'use strict';\n\n    // MODAL CLASS DEFINITION\n    // ======================\n\n    var Modal = function (element, options) {\n      this.options        = options\n      this.$body          = $(document.body)\n      this.$element       = $(element)\n      this.$backdrop      =\n      this.isShown        = null\n      this.scrollbarWidth = 0\n\n      if (this.options.remote) {\n        this.$element\n          .find('.modal-content')\n          .load(this.options.remote, $.proxy(function () {\n            this.$element.trigger('loaded.bs.modal')\n          }, this))\n      }\n    }\n\n    Modal.VERSION  = '3.3.2'\n\n    Modal.TRANSITION_DURATION = 300\n    Modal.BACKDROP_TRANSITION_DURATION = 150\n\n    Modal.DEFAULTS = {\n      backdrop: true,\n      keyboard: true,\n      show: true\n    }\n\n    Modal.prototype.toggle = function (_relatedTarget) {\n      return this.isShown ? this.hide() : this.show(_relatedTarget)\n    }\n\n    Modal.prototype.show = function (_relatedTarget) {\n      var that = this\n      var e    = $.Event('show.bs.modal', { relatedTarget: _relatedTarget })\n\n      this.$element.trigger(e)\n\n      if (this.isShown || e.isDefaultPrevented()) return\n\n      this.isShown = true\n\n      this.checkScrollbar()\n      this.setScrollbar()\n      this.$body.addClass('modal-open')\n\n      this.escape()\n      this.resize()\n\n      this.$element.on('click.dismiss.bs.modal', '[data-dismiss=\"modal\"]', $.proxy(this.hide, this))\n\n      this.backdrop(function () {\n        var transition = $.support.transition && that.$element.hasClass('fade')\n\n        if (!that.$element.parent().length) {\n          that.$element.appendTo(that.$body) // don't move modals dom position\n        }\n\n        that.$element\n          .show()\n          .scrollTop(0)\n\n        if (that.options.backdrop) that.adjustBackdrop()\n        that.adjustDialog()\n\n        if (transition) {\n          that.$element[0].offsetWidth // force reflow\n        }\n\n        that.$element\n          .addClass('in')\n          .attr('aria-hidden', false)\n\n        that.enforceFocus()\n\n        var e = $.Event('shown.bs.modal', { relatedTarget: _relatedTarget })\n\n        transition ?\n          that.$element.find('.modal-dialog') // wait for modal to slide in\n            .one('bsTransitionEnd', function () {\n              that.$element.trigger('focus').trigger(e)\n            })\n            .emulateTransitionEnd(Modal.TRANSITION_DURATION) :\n          that.$element.trigger('focus').trigger(e)\n      })\n    }\n\n    Modal.prototype.hide = function (e) {\n      if (e) e.preventDefault()\n\n      e = $.Event('hide.bs.modal')\n\n      this.$element.trigger(e)\n\n      if (!this.isShown || e.isDefaultPrevented()) return\n\n      this.isShown = false\n\n      this.escape()\n      this.resize()\n\n      $(document).off('focusin.bs.modal')\n\n      this.$element\n        .removeClass('in')\n        .attr('aria-hidden', true)\n        .off('click.dismiss.bs.modal')\n\n      $.support.transition && this.$element.hasClass('fade') ?\n        this.$element\n          .one('bsTransitionEnd', $.proxy(this.hideModal, this))\n          .emulateTransitionEnd(Modal.TRANSITION_DURATION) :\n        this.hideModal()\n    }\n\n    Modal.prototype.enforceFocus = function () {\n      $(document)\n        .off('focusin.bs.modal') // guard against infinite focus loop\n        .on('focusin.bs.modal', $.proxy(function (e) {\n          if (this.$element[0] !== e.target && !this.$element.has(e.target).length) {\n            this.$element.trigger('focus')\n          }\n        }, this))\n    }\n\n    Modal.prototype.escape = function () {\n      if (this.isShown && this.options.keyboard) {\n        this.$element.on('keydown.dismiss.bs.modal', $.proxy(function (e) {\n          e.which == 27 && this.hide()\n        }, this))\n      } else if (!this.isShown) {\n        this.$element.off('keydown.dismiss.bs.modal')\n      }\n    }\n\n    Modal.prototype.resize = function () {\n      if (this.isShown) {\n        $(window).on('resize.bs.modal', $.proxy(this.handleUpdate, this))\n      } else {\n        $(window).off('resize.bs.modal')\n      }\n    }\n\n    Modal.prototype.hideModal = function () {\n      var that = this\n      this.$element.hide()\n      this.backdrop(function () {\n        that.$body.removeClass('modal-open')\n        that.resetAdjustments()\n        that.resetScrollbar()\n        that.$element.trigger('hidden.bs.modal')\n      })\n    }\n\n    Modal.prototype.removeBackdrop = function () {\n      this.$backdrop && this.$backdrop.remove()\n      this.$backdrop = null\n    }\n\n    Modal.prototype.backdrop = function (callback) {\n      var that = this\n      var animate = this.$element.hasClass('fade') ? 'fade' : ''\n\n      if (this.isShown && this.options.backdrop) {\n        var doAnimate = $.support.transition && animate\n\n        this.$backdrop = $('<div class=\"modal-backdrop ' + animate + '\" />')\n          .prependTo(this.$element)\n          .on('click.dismiss.bs.modal', $.proxy(function (e) {\n            if (e.target !== e.currentTarget) return\n            this.options.backdrop == 'static'\n              ? this.$element[0].focus.call(this.$element[0])\n              : this.hide.call(this)\n          }, this))\n\n        if (doAnimate) this.$backdrop[0].offsetWidth // force reflow\n\n        this.$backdrop.addClass('in')\n\n        if (!callback) return\n\n        doAnimate ?\n          this.$backdrop\n            .one('bsTransitionEnd', callback)\n            .emulateTransitionEnd(Modal.BACKDROP_TRANSITION_DURATION) :\n          callback()\n\n      } else if (!this.isShown && this.$backdrop) {\n        this.$backdrop.removeClass('in')\n\n        var callbackRemove = function () {\n          that.removeBackdrop()\n          callback && callback()\n        }\n        $.support.transition && this.$element.hasClass('fade') ?\n          this.$backdrop\n            .one('bsTransitionEnd', callbackRemove)\n            .emulateTransitionEnd(Modal.BACKDROP_TRANSITION_DURATION) :\n          callbackRemove()\n\n      } else if (callback) {\n        callback()\n      }\n    }\n\n    // these following methods are used to handle overflowing modals\n\n    Modal.prototype.handleUpdate = function () {\n      if (this.options.backdrop) this.adjustBackdrop()\n      this.adjustDialog()\n    }\n\n    Modal.prototype.adjustBackdrop = function () {\n      this.$backdrop\n        .css('height', 0)\n        .css('height', this.$element[0].scrollHeight)\n    }\n\n    Modal.prototype.adjustDialog = function () {\n      var modalIsOverflowing = this.$element[0].scrollHeight > document.documentElement.clientHeight\n\n      this.$element.css({\n        paddingLeft:  !this.bodyIsOverflowing && modalIsOverflowing ? this.scrollbarWidth : '',\n        paddingRight: this.bodyIsOverflowing && !modalIsOverflowing ? this.scrollbarWidth : ''\n      })\n    }\n\n    Modal.prototype.resetAdjustments = function () {\n      this.$element.css({\n        paddingLeft: '',\n        paddingRight: ''\n      })\n    }\n\n    Modal.prototype.checkScrollbar = function () {\n      this.bodyIsOverflowing = document.body.scrollHeight > document.documentElement.clientHeight\n      this.scrollbarWidth = this.measureScrollbar()\n    }\n\n    Modal.prototype.setScrollbar = function () {\n      var bodyPad = parseInt((this.$body.css('padding-right') || 0), 10)\n      if (this.bodyIsOverflowing) this.$body.css('padding-right', bodyPad + this.scrollbarWidth)\n    }\n\n    Modal.prototype.resetScrollbar = function () {\n      this.$body.css('padding-right', '')\n    }\n\n    Modal.prototype.measureScrollbar = function () { // thx walsh\n      var scrollDiv = document.createElement('div')\n      scrollDiv.className = 'modal-scrollbar-measure'\n      this.$body.append(scrollDiv)\n      var scrollbarWidth = scrollDiv.offsetWidth - scrollDiv.clientWidth\n      this.$body[0].removeChild(scrollDiv)\n      return scrollbarWidth\n    }\n\n\n    // MODAL PLUGIN DEFINITION\n    // =======================\n\n    function Plugin(option, _relatedTarget) {\n      return this.each(function () {\n        var $this   = $(this)\n        var data    = $this.data('bs.modal')\n        var options = $.extend({}, Modal.DEFAULTS, $this.data(), typeof option == 'object' && option)\n\n        if (!data) $this.data('bs.modal', (data = new Modal(this, options)))\n        if (typeof option == 'string') data[option](_relatedTarget)\n        else if (options.show) data.show(_relatedTarget)\n      })\n    }\n\n    var old = $.fn.modal\n\n    $.fn.modal             = Plugin\n    $.fn.modal.Constructor = Modal\n\n\n    // MODAL NO CONFLICT\n    // =================\n\n    $.fn.modal.noConflict = function () {\n      $.fn.modal = old\n      return this\n    }\n\n\n    // MODAL DATA-API\n    // ==============\n\n    $(document).on('click.bs.modal.data-api', '[data-toggle=\"modal\"]', function (e) {\n      var $this   = $(this)\n      var href    = $this.attr('href')\n      var $target = $($this.attr('data-target') || (href && href.replace(/.*(?=#[^\\s]+$)/, ''))) // strip for ie7\n      var option  = $target.data('bs.modal') ? 'toggle' : $.extend({ remote: !/#/.test(href) && href }, $target.data(), $this.data())\n\n      if ($this.is('a')) e.preventDefault()\n\n      $target.one('show.bs.modal', function (showEvent) {\n        if (showEvent.isDefaultPrevented()) return // only register focus restorer if modal will actually get shown\n        $target.one('hidden.bs.modal', function () {\n          $this.is(':visible') && $this.trigger('focus')\n        })\n      })\n      Plugin.call($target, option, this)\n    })\n\n  }(jQuery);\n\n  /* ========================================================================\n  * Bootstrap: tooltip.js v3.3.2\n  * http://getbootstrap.com/javascript/#tooltip\n  * Inspired by the original jQuery.tipsy by Jason Frame\n  * ========================================================================\n  * Copyright 2011-2015 Twitter, Inc.\n  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)\n  * ======================================================================== */\n\n\n  +function ($) {\n    'use strict';\n\n    // TOOLTIP PUBLIC CLASS DEFINITION\n    // ===============================\n\n    var Tooltip = function (element, options) {\n      this.type       =\n      this.options    =\n      this.enabled    =\n      this.timeout    =\n      this.hoverState =\n      this.$element   = null\n\n      this.init('tooltip', element, options)\n    }\n\n    Tooltip.VERSION  = '3.3.2'\n\n    Tooltip.TRANSITION_DURATION = 150\n\n    Tooltip.DEFAULTS = {\n      animation: true,\n      placement: 'top',\n      selector: false,\n      template: '<div class=\"tooltip\" role=\"tooltip\"><div class=\"tooltip-arrow\"></div><div class=\"tooltip-inner\"></div></div>',\n      trigger: 'hover focus',\n      title: '',\n      delay: 0,\n      html: false,\n      container: false,\n      viewport: {\n        selector: 'body',\n        padding: 0\n      }\n    }\n\n    Tooltip.prototype.init = function (type, element, options) {\n      this.enabled   = true\n      this.type      = type\n      this.$element  = $(element)\n      this.options   = this.getOptions(options)\n      this.$viewport = this.options.viewport && $(this.options.viewport.selector || this.options.viewport)\n\n      var triggers = this.options.trigger.split(' ')\n\n      for (var i = triggers.length; i--;) {\n        var trigger = triggers[i]\n\n        if (trigger == 'click') {\n          this.$element.on('click.' + this.type, this.options.selector, $.proxy(this.toggle, this))\n        } else if (trigger != 'manual') {\n          var eventIn  = trigger == 'hover' ? 'mouseenter' : 'focusin'\n          var eventOut = trigger == 'hover' ? 'mouseleave' : 'focusout'\n\n          this.$element.on(eventIn  + '.' + this.type, this.options.selector, $.proxy(this.enter, this))\n          this.$element.on(eventOut + '.' + this.type, this.options.selector, $.proxy(this.leave, this))\n        }\n      }\n\n      this.options.selector ?\n        (this._options = $.extend({}, this.options, { trigger: 'manual', selector: '' })) :\n        this.fixTitle()\n    }\n\n    Tooltip.prototype.getDefaults = function () {\n      return Tooltip.DEFAULTS\n    }\n\n    Tooltip.prototype.getOptions = function (options) {\n      options = $.extend({}, this.getDefaults(), this.$element.data(), options)\n\n      if (options.delay && typeof options.delay == 'number') {\n        options.delay = {\n          show: options.delay,\n          hide: options.delay\n        }\n      }\n\n      return options\n    }\n\n    Tooltip.prototype.getDelegateOptions = function () {\n      var options  = {}\n      var defaults = this.getDefaults()\n\n      this._options && $.each(this._options, function (key, value) {\n        if (defaults[key] != value) options[key] = value\n      })\n\n      return options\n    }\n\n    Tooltip.prototype.enter = function (obj) {\n      var self = obj instanceof this.constructor ?\n        obj : $(obj.currentTarget).data('bs.' + this.type)\n\n      if (self && self.$tip && self.$tip.is(':visible')) {\n        self.hoverState = 'in'\n        return\n      }\n\n      if (!self) {\n        self = new this.constructor(obj.currentTarget, this.getDelegateOptions())\n        $(obj.currentTarget).data('bs.' + this.type, self)\n      }\n\n      clearTimeout(self.timeout)\n\n      self.hoverState = 'in'\n\n      if (!self.options.delay || !self.options.delay.show) return self.show()\n\n      self.timeout = setTimeout(function () {\n        if (self.hoverState == 'in') self.show()\n      }, self.options.delay.show)\n    }\n\n    Tooltip.prototype.leave = function (obj) {\n      var self = obj instanceof this.constructor ?\n        obj : $(obj.currentTarget).data('bs.' + this.type)\n\n      if (!self) {\n        self = new this.constructor(obj.currentTarget, this.getDelegateOptions())\n        $(obj.currentTarget).data('bs.' + this.type, self)\n      }\n\n      clearTimeout(self.timeout)\n\n      self.hoverState = 'out'\n\n      if (!self.options.delay || !self.options.delay.hide) return self.hide()\n\n      self.timeout = setTimeout(function () {\n        if (self.hoverState == 'out') self.hide()\n      }, self.options.delay.hide)\n    }\n\n    Tooltip.prototype.show = function () {\n      var e = $.Event('show.bs.' + this.type)\n\n      if (this.hasContent() && this.enabled) {\n        this.$element.trigger(e)\n\n        var inDom = $.contains(this.$element[0].ownerDocument.documentElement, this.$element[0])\n        if (e.isDefaultPrevented() || !inDom) return\n        var that = this\n\n        var $tip = this.tip()\n\n        var tipId = this.getUID(this.type)\n\n        this.setContent()\n        $tip.attr('id', tipId)\n        this.$element.attr('aria-describedby', tipId)\n\n        if (this.options.animation) $tip.addClass('fade')\n\n        var placement = typeof this.options.placement == 'function' ?\n          this.options.placement.call(this, $tip[0], this.$element[0]) :\n          this.options.placement\n\n        var autoToken = /\\s?auto?\\s?/i\n        var autoPlace = autoToken.test(placement)\n        if (autoPlace) placement = placement.replace(autoToken, '') || 'top'\n\n        $tip\n          .detach()\n          .css({ top: 0, left: 0, display: 'block' })\n          .addClass(placement)\n          .data('bs.' + this.type, this)\n\n        this.options.container ? $tip.appendTo(this.options.container) : $tip.insertAfter(this.$element)\n\n        var pos          = this.getPosition()\n        var actualWidth  = $tip[0].offsetWidth\n        var actualHeight = $tip[0].offsetHeight\n\n        if (autoPlace) {\n          var orgPlacement = placement\n          var $container   = this.options.container ? $(this.options.container) : this.$element.parent()\n          var containerDim = this.getPosition($container)\n\n          placement = placement == 'bottom' && pos.bottom + actualHeight > containerDim.bottom ? 'top'    :\n                      placement == 'top'    && pos.top    - actualHeight < containerDim.top    ? 'bottom' :\n                      placement == 'right'  && pos.right  + actualWidth  > containerDim.width  ? 'left'   :\n                      placement == 'left'   && pos.left   - actualWidth  < containerDim.left   ? 'right'  :\n                      placement\n\n          $tip\n            .removeClass(orgPlacement)\n            .addClass(placement)\n        }\n\n        var calculatedOffset = this.getCalculatedOffset(placement, pos, actualWidth, actualHeight)\n\n        this.applyPlacement(calculatedOffset, placement)\n\n        var complete = function () {\n          var prevHoverState = that.hoverState\n          that.$element.trigger('shown.bs.' + that.type)\n          that.hoverState = null\n\n          if (prevHoverState == 'out') that.leave(that)\n        }\n\n        $.support.transition && this.$tip.hasClass('fade') ?\n          $tip\n            .one('bsTransitionEnd', complete)\n            .emulateTransitionEnd(Tooltip.TRANSITION_DURATION) :\n          complete()\n      }\n    }\n\n    Tooltip.prototype.applyPlacement = function (offset, placement) {\n      var $tip   = this.tip()\n      var width  = $tip[0].offsetWidth\n      var height = $tip[0].offsetHeight\n\n      // manually read margins because getBoundingClientRect includes difference\n      var marginTop = parseInt($tip.css('margin-top'), 10)\n      var marginLeft = parseInt($tip.css('margin-left'), 10)\n\n      // we must check for NaN for ie 8/9\n      if (isNaN(marginTop))  marginTop  = 0\n      if (isNaN(marginLeft)) marginLeft = 0\n\n      offset.top  = offset.top  + marginTop\n      offset.left = offset.left + marginLeft\n\n      // $.fn.offset doesn't round pixel values\n      // so we use setOffset directly with our own function B-0\n      $.offset.setOffset($tip[0], $.extend({\n        using: function (props) {\n          $tip.css({\n            top: Math.round(props.top),\n            left: Math.round(props.left)\n          })\n        }\n      }, offset), 0)\n\n      $tip.addClass('in')\n\n      // check to see if placing tip in new offset caused the tip to resize itself\n      var actualWidth  = $tip[0].offsetWidth\n      var actualHeight = $tip[0].offsetHeight\n\n      if (placement == 'top' && actualHeight != height) {\n        offset.top = offset.top + height - actualHeight\n      }\n\n      var delta = this.getViewportAdjustedDelta(placement, offset, actualWidth, actualHeight)\n\n      if (delta.left) offset.left += delta.left\n      else offset.top += delta.top\n\n      var isVertical          = /top|bottom/.test(placement)\n      var arrowDelta          = isVertical ? delta.left * 2 - width + actualWidth : delta.top * 2 - height + actualHeight\n      var arrowOffsetPosition = isVertical ? 'offsetWidth' : 'offsetHeight'\n\n      $tip.offset(offset)\n      this.replaceArrow(arrowDelta, $tip[0][arrowOffsetPosition], isVertical)\n    }\n\n    Tooltip.prototype.replaceArrow = function (delta, dimension, isHorizontal) {\n      this.arrow()\n        .css(isHorizontal ? 'left' : 'top', 50 /** (1 - delta / dimension)*/ + '%')\n        .css(isHorizontal ? 'top' : 'left', '')\n    }\n\n    Tooltip.prototype.setContent = function () {\n      var $tip  = this.tip()\n      var title = this.getTitle()\n\n      $tip.find('.tooltip-inner')[this.options.html ? 'html' : 'text'](title)\n      $tip.removeClass('fade in top bottom left right')\n    }\n\n    Tooltip.prototype.hide = function (callback) {\n      var that = this\n      var $tip = this.tip()\n      var e    = $.Event('hide.bs.' + this.type)\n\n      function complete() {\n        if (that.hoverState != 'in') $tip.detach()\n        that.$element\n          .removeAttr('aria-describedby')\n          .trigger('hidden.bs.' + that.type)\n        callback && callback()\n      }\n\n      this.$element.trigger(e)\n\n      if (e.isDefaultPrevented()) return\n\n      $tip.removeClass('in')\n\n      $.support.transition && this.$tip.hasClass('fade') ?\n        $tip\n          .one('bsTransitionEnd', complete)\n          .emulateTransitionEnd(Tooltip.TRANSITION_DURATION) :\n        complete()\n\n      this.hoverState = null\n\n      return this\n    }\n\n    Tooltip.prototype.fixTitle = function () {\n      var $e = this.$element\n      if ($e.attr('title') || typeof ($e.attr('data-original-title')) != 'string') {\n        $e.attr('data-original-title', $e.attr('title') || '').attr('title', '')\n      }\n    }\n\n    Tooltip.prototype.hasContent = function () {\n      return this.getTitle()\n    }\n\n    Tooltip.prototype.getPosition = function ($element) {\n      $element   = $element || this.$element\n\n      var el     = $element[0]\n      var isBody = el.tagName == 'BODY'\n\n      var elRect    = el.getBoundingClientRect()\n      if (elRect.width == null) {\n        // width and height are missing in IE8, so compute them manually; see https://github.com/twbs/bootstrap/issues/14093\n        elRect = $.extend({}, elRect, { width: elRect.right - elRect.left, height: elRect.bottom - elRect.top })\n      }\n      var elOffset  = isBody ? { top: 0, left: 0 } : $element.offset()\n      var scroll    = { scroll: isBody ? document.documentElement.scrollTop || document.body.scrollTop : $element.scrollTop() }\n      var outerDims = isBody ? { width: $(window).width(), height: $(window).height() } : null\n\n      return $.extend({}, elRect, scroll, outerDims, elOffset)\n    }\n\n    Tooltip.prototype.getCalculatedOffset = function (placement, pos, actualWidth, actualHeight) {\n      return placement == 'bottom' ? { top: pos.top + pos.height,   left: pos.left + pos.width / 2 - actualWidth / 2 } :\n            placement == 'top'    ? { top: pos.top - actualHeight, left: pos.left + pos.width / 2 - actualWidth / 2 } :\n            placement == 'left'   ? { top: pos.top + pos.height / 2 - actualHeight / 2, left: pos.left - actualWidth } :\n          /* placement == 'right' */ { top: pos.top + pos.height / 2 - actualHeight / 2, left: pos.left + pos.width }\n\n    }\n\n    Tooltip.prototype.getViewportAdjustedDelta = function (placement, pos, actualWidth, actualHeight) {\n      var delta = { top: 0, left: 0 }\n      if (!this.$viewport) return delta\n\n      var viewportPadding = this.options.viewport && this.options.viewport.padding || 0\n      var viewportDimensions = this.getPosition(this.$viewport)\n\n      if (/right|left/.test(placement)) {\n        var topEdgeOffset    = pos.top - viewportPadding - viewportDimensions.scroll\n        var bottomEdgeOffset = pos.top + viewportPadding - viewportDimensions.scroll + actualHeight\n        if (topEdgeOffset < viewportDimensions.top) { // top overflow\n          delta.top = viewportDimensions.top - topEdgeOffset\n        } else if (bottomEdgeOffset > viewportDimensions.top + viewportDimensions.height) { // bottom overflow\n          delta.top = viewportDimensions.top + viewportDimensions.height - bottomEdgeOffset\n        }\n      } else {\n        var leftEdgeOffset  = pos.left - viewportPadding\n        var rightEdgeOffset = pos.left + viewportPadding + actualWidth\n        if (leftEdgeOffset < viewportDimensions.left) { // left overflow\n          delta.left = viewportDimensions.left - leftEdgeOffset\n        } else if (rightEdgeOffset > viewportDimensions.width) { // right overflow\n          delta.left = viewportDimensions.left + viewportDimensions.width - rightEdgeOffset\n        }\n      }\n\n      return delta\n    }\n\n    Tooltip.prototype.getTitle = function () {\n      var title\n      var $e = this.$element\n      var o  = this.options\n\n      title = $e.attr('data-original-title')\n        || (typeof o.title == 'function' ? o.title.call($e[0]) :  o.title)\n\n      return title\n    }\n\n    Tooltip.prototype.getUID = function (prefix) {\n      do prefix += ~~(Math.random() * 1000000)\n      while (document.getElementById(prefix))\n      return prefix\n    }\n\n    Tooltip.prototype.tip = function () {\n      return (this.$tip = this.$tip || $(this.options.template))\n    }\n\n    Tooltip.prototype.arrow = function () {\n      return (this.$arrow = this.$arrow || this.tip().find('.tooltip-arrow'))\n    }\n\n    Tooltip.prototype.enable = function () {\n      this.enabled = true\n    }\n\n    Tooltip.prototype.disable = function () {\n      this.enabled = false\n    }\n\n    Tooltip.prototype.toggleEnabled = function () {\n      this.enabled = !this.enabled\n    }\n\n    Tooltip.prototype.toggle = function (e) {\n      var self = this\n      if (e) {\n        self = $(e.currentTarget).data('bs.' + this.type)\n        if (!self) {\n          self = new this.constructor(e.currentTarget, this.getDelegateOptions())\n          $(e.currentTarget).data('bs.' + this.type, self)\n        }\n      }\n\n      self.tip().hasClass('in') ? self.leave(self) : self.enter(self)\n    }\n\n    Tooltip.prototype.destroy = function () {\n      var that = this\n      clearTimeout(this.timeout)\n      this.hide(function () {\n        that.$element.off('.' + that.type).removeData('bs.' + that.type)\n      })\n    }\n\n\n    // TOOLTIP PLUGIN DEFINITION\n    // =========================\n\n    function Plugin(option) {\n      return this.each(function () {\n        var $this   = $(this)\n        var data    = $this.data('bs.tooltip')\n        var options = typeof option == 'object' && option\n\n        if (!data && option == 'destroy') return\n        if (!data) $this.data('bs.tooltip', (data = new Tooltip(this, options)))\n        if (typeof option == 'string') data[option]()\n      })\n    }\n\n    var old = $.fn.tooltip\n\n    $.fn.tooltip             = Plugin\n    $.fn.tooltip.Constructor = Tooltip\n\n\n    // TOOLTIP NO CONFLICT\n    // ===================\n\n    $.fn.tooltip.noConflict = function () {\n      $.fn.tooltip = old\n      return this\n    }\n\n  }(jQuery);\n\n  /* ========================================================================\n  * Bootstrap: popover.js v3.3.2\n  * http://getbootstrap.com/javascript/#popovers\n  * ========================================================================\n  * Copyright 2011-2015 Twitter, Inc.\n  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)\n  * ======================================================================== */\n\n\n  +function ($) {\n    'use strict';\n\n    // POPOVER PUBLIC CLASS DEFINITION\n    // ===============================\n\n    var Popover = function (element, options) {\n      this.init('popover', element, options)\n    }\n\n    if (!$.fn.tooltip) throw new Error('Popover requires tooltip.js')\n\n    Popover.VERSION  = '3.3.2'\n\n    Popover.DEFAULTS = $.extend({}, $.fn.tooltip.Constructor.DEFAULTS, {\n      placement: 'right',\n      trigger: 'click',\n      content: '',\n      template: '<div class=\"popover\" role=\"tooltip\"><div class=\"arrow\"></div><h3 class=\"popover-title\"></h3><div class=\"popover-content\"></div></div>'\n    })\n\n\n    // NOTE: POPOVER EXTENDS tooltip.js\n    // ================================\n\n    Popover.prototype = $.extend({}, $.fn.tooltip.Constructor.prototype)\n\n    Popover.prototype.constructor = Popover\n\n    Popover.prototype.getDefaults = function () {\n      return Popover.DEFAULTS\n    }\n\n    Popover.prototype.setContent = function () {\n      var $tip    = this.tip()\n      var title   = this.getTitle()\n      var content = this.getContent()\n\n      $tip.find('.popover-title')[this.options.html ? 'html' : 'text'](title)\n      $tip.find('.popover-content').children().detach().end()[ // we use append for html objects to maintain js events\n        this.options.html ? (typeof content == 'string' ? 'html' : 'append') : 'text'\n      ](content)\n\n      $tip.removeClass('fade top bottom left right in')\n\n      // IE8 doesn't accept hiding via the `:empty` pseudo selector, we have to do\n      // this manually by checking the contents.\n      if (!$tip.find('.popover-title').html()) $tip.find('.popover-title').hide()\n    }\n\n    Popover.prototype.hasContent = function () {\n      return this.getTitle() || this.getContent()\n    }\n\n    Popover.prototype.getContent = function () {\n      var $e = this.$element\n      var o  = this.options\n\n      return $e.attr('data-content')\n        || (typeof o.content == 'function' ?\n              o.content.call($e[0]) :\n              o.content)\n    }\n\n    Popover.prototype.arrow = function () {\n      return (this.$arrow = this.$arrow || this.tip().find('.arrow'))\n    }\n\n    Popover.prototype.tip = function () {\n      if (!this.$tip) this.$tip = $(this.options.template)\n      return this.$tip\n    }\n\n\n    // POPOVER PLUGIN DEFINITION\n    // =========================\n\n    function Plugin(option) {\n      return this.each(function () {\n        var $this   = $(this)\n        var data    = $this.data('bs.popover')\n        var options = typeof option == 'object' && option\n\n        if (!data && option == 'destroy') return\n        if (!data) $this.data('bs.popover', (data = new Popover(this, options)))\n        if (typeof option == 'string') data[option]()\n      })\n    }\n\n    var old = $.fn.popover\n\n    $.fn.popover             = Plugin\n    $.fn.popover.Constructor = Popover\n\n\n    // POPOVER NO CONFLICT\n    // ===================\n\n    $.fn.popover.noConflict = function () {\n      $.fn.popover = old\n      return this\n    }\n\n  }(jQuery);\n\n  /* ========================================================================\n  * Bootstrap: scrollspy.js v3.3.2\n  * http://getbootstrap.com/javascript/#scrollspy\n  * ========================================================================\n  * Copyright 2011-2015 Twitter, Inc.\n  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)\n  * ======================================================================== */\n\n\n  +function ($) {\n    'use strict';\n\n    // SCROLLSPY CLASS DEFINITION\n    // ==========================\n\n    function ScrollSpy(element, options) {\n      var process  = $.proxy(this.process, this)\n\n      this.$body          = $('body')\n      this.$scrollElement = $(element).is('body') ? $(window) : $(element)\n      this.options        = $.extend({}, ScrollSpy.DEFAULTS, options)\n      this.selector       = (this.options.target || '') + ' .nav li > a'\n      this.offsets        = []\n      this.targets        = []\n      this.activeTarget   = null\n      this.scrollHeight   = 0\n\n      this.$scrollElement.on('scroll.bs.scrollspy', process)\n      this.refresh()\n      this.process()\n    }\n\n    ScrollSpy.VERSION  = '3.3.2'\n\n    ScrollSpy.DEFAULTS = {\n      offset: 10\n    }\n\n    ScrollSpy.prototype.getScrollHeight = function () {\n      return this.$scrollElement[0].scrollHeight || Math.max(this.$body[0].scrollHeight, document.documentElement.scrollHeight)\n    }\n\n    ScrollSpy.prototype.refresh = function () {\n      var offsetMethod = 'offset'\n      var offsetBase   = 0\n\n      if (!$.isWindow(this.$scrollElement[0])) {\n        offsetMethod = 'position'\n        offsetBase   = this.$scrollElement.scrollTop()\n      }\n\n      this.offsets = []\n      this.targets = []\n      this.scrollHeight = this.getScrollHeight()\n\n      var self     = this\n\n      this.$body\n        .find(this.selector)\n        .map(function () {\n          var $el   = $(this)\n          var href  = $el.data('target') || $el.attr('href')\n          var $href = /^#./.test(href) && $(href)\n\n          return ($href\n            && $href.length\n            && $href.is(':visible')\n            && [[$href[offsetMethod]().top + offsetBase, href]]) || null\n        })\n        .sort(function (a, b) { return a[0] - b[0] })\n        .each(function () {\n          self.offsets.push(this[0])\n          self.targets.push(this[1])\n        })\n    }\n\n    ScrollSpy.prototype.process = function () {\n      var scrollTop    = this.$scrollElement.scrollTop() + this.options.offset\n      var scrollHeight = this.getScrollHeight()\n      var maxScroll    = this.options.offset + scrollHeight - this.$scrollElement.height()\n      var offsets      = this.offsets\n      var targets      = this.targets\n      var activeTarget = this.activeTarget\n      var i\n\n      if (this.scrollHeight != scrollHeight) {\n        this.refresh()\n      }\n\n      if (scrollTop >= maxScroll) {\n        return activeTarget != (i = targets[targets.length - 1]) && this.activate(i)\n      }\n\n      if (activeTarget && scrollTop < offsets[0]) {\n        this.activeTarget = null\n        return this.clear()\n      }\n\n      for (i = offsets.length; i--;) {\n        activeTarget != targets[i]\n          && scrollTop >= offsets[i]\n          && (!offsets[i + 1] || scrollTop <= offsets[i + 1])\n          && this.activate(targets[i])\n      }\n    }\n\n    ScrollSpy.prototype.activate = function (target) {\n      this.activeTarget = target\n\n      this.clear()\n\n      var selector = this.selector +\n          '[data-target=\"' + target + '\"],' +\n          this.selector + '[href=\"' + target + '\"]'\n\n      var active = $(selector)\n        .parents('li')\n        .addClass('active')\n\n      if (active.parent('.dropdown-menu').length) {\n        active = active\n          .closest('li.dropdown')\n          .addClass('active')\n      }\n\n      active.trigger('activate.bs.scrollspy')\n    }\n\n    ScrollSpy.prototype.clear = function () {\n      $(this.selector)\n        .parentsUntil(this.options.target, '.active')\n        .removeClass('active')\n    }\n\n\n    // SCROLLSPY PLUGIN DEFINITION\n    // ===========================\n\n    function Plugin(option) {\n      return this.each(function () {\n        var $this   = $(this)\n        var data    = $this.data('bs.scrollspy')\n        var options = typeof option == 'object' && option\n\n        if (!data) $this.data('bs.scrollspy', (data = new ScrollSpy(this, options)))\n        if (typeof option == 'string') data[option]()\n      })\n    }\n\n    var old = $.fn.scrollspy\n\n    $.fn.scrollspy             = Plugin\n    $.fn.scrollspy.Constructor = ScrollSpy\n\n\n    // SCROLLSPY NO CONFLICT\n    // =====================\n\n    $.fn.scrollspy.noConflict = function () {\n      $.fn.scrollspy = old\n      return this\n    }\n\n\n    // SCROLLSPY DATA-API\n    // ==================\n\n    $(window).on('load.bs.scrollspy.data-api', function () {\n      $('[data-spy=\"scroll\"]').each(function () {\n        var $spy = $(this)\n        Plugin.call($spy, $spy.data())\n      })\n    })\n\n  }(jQuery);\n\n  /* ========================================================================\n  * Bootstrap: tab.js v3.3.2\n  * http://getbootstrap.com/javascript/#tabs\n  * ========================================================================\n  * Copyright 2011-2015 Twitter, Inc.\n  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)\n  * ======================================================================== */\n\n\n  +function ($) {\n    'use strict';\n\n    // TAB CLASS DEFINITION\n    // ====================\n\n    var Tab = function (element) {\n      this.element = $(element)\n    }\n\n    Tab.VERSION = '3.3.2'\n\n    Tab.TRANSITION_DURATION = 150\n\n    Tab.prototype.show = function () {\n      var $this    = this.element\n      var $ul      = $this.closest('ul:not(.dropdown-menu)')\n      var selector = $this.data('target')\n\n      if (!selector) {\n        selector = $this.attr('href')\n        selector = selector && selector.replace(/.*(?=#[^\\s]*$)/, '') // strip for ie7\n      }\n\n      if ($this.parent('li').hasClass('active')) return\n\n      var $previous = $ul.find('.active:last a')\n      var hideEvent = $.Event('hide.bs.tab', {\n        relatedTarget: $this[0]\n      })\n      var showEvent = $.Event('show.bs.tab', {\n        relatedTarget: $previous[0]\n      })\n\n      $previous.trigger(hideEvent)\n      $this.trigger(showEvent)\n\n      if (showEvent.isDefaultPrevented() || hideEvent.isDefaultPrevented()) return\n\n      var $target = $(selector)\n\n      this.activate($this.closest('li'), $ul)\n      this.activate($target, $target.parent(), function () {\n        $previous.trigger({\n          type: 'hidden.bs.tab',\n          relatedTarget: $this[0]\n        })\n        $this.trigger({\n          type: 'shown.bs.tab',\n          relatedTarget: $previous[0]\n        })\n      })\n    }\n\n    Tab.prototype.activate = function (element, container, callback) {\n      var $active    = container.find('> .active')\n      var transition = callback\n        && $.support.transition\n        && (($active.length && $active.hasClass('fade')) || !!container.find('> .fade').length)\n\n      function next() {\n        $active\n          .removeClass('active')\n          .find('> .dropdown-menu > .active')\n            .removeClass('active')\n          .end()\n          .find('[data-toggle=\"tab\"]')\n            .attr('aria-expanded', false)\n\n        element\n          .addClass('active')\n          .find('[data-toggle=\"tab\"]')\n            .attr('aria-expanded', true)\n\n        if (transition) {\n          element[0].offsetWidth // reflow for transition\n          element.addClass('in')\n        } else {\n          element.removeClass('fade')\n        }\n\n        if (element.parent('.dropdown-menu')) {\n          element\n            .closest('li.dropdown')\n              .addClass('active')\n            .end()\n            .find('[data-toggle=\"tab\"]')\n              .attr('aria-expanded', true)\n        }\n\n        callback && callback()\n      }\n\n      $active.length && transition ?\n        $active\n          .one('bsTransitionEnd', next)\n          .emulateTransitionEnd(Tab.TRANSITION_DURATION) :\n        next()\n\n      $active.removeClass('in')\n    }\n\n\n    // TAB PLUGIN DEFINITION\n    // =====================\n\n    function Plugin(option) {\n      return this.each(function () {\n        var $this = $(this)\n        var data  = $this.data('bs.tab')\n\n        if (!data) $this.data('bs.tab', (data = new Tab(this)))\n        if (typeof option == 'string') data[option]()\n      })\n    }\n\n    var old = $.fn.tab\n\n    $.fn.tab             = Plugin\n    $.fn.tab.Constructor = Tab\n\n\n    // TAB NO CONFLICT\n    // ===============\n\n    $.fn.tab.noConflict = function () {\n      $.fn.tab = old\n      return this\n    }\n\n\n    // TAB DATA-API\n    // ============\n\n    var clickHandler = function (e) {\n      e.preventDefault()\n      Plugin.call($(this), 'show')\n    }\n\n    $(document)\n      .on('click.bs.tab.data-api', '[data-toggle=\"tab\"]', clickHandler)\n      .on('click.bs.tab.data-api', '[data-toggle=\"pill\"]', clickHandler)\n\n  }(jQuery);\n\n  /* ========================================================================\n  * Bootstrap: affix.js v3.3.2\n  * http://getbootstrap.com/javascript/#affix\n  * ========================================================================\n  * Copyright 2011-2015 Twitter, Inc.\n  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)\n  * ======================================================================== */\n\n\n  +function ($) {\n    'use strict';\n\n    // AFFIX CLASS DEFINITION\n    // ======================\n\n    var Affix = function (element, options) {\n      this.options = $.extend({}, Affix.DEFAULTS, options)\n\n      this.$target = $(this.options.target)\n        .on('scroll.bs.affix.data-api', $.proxy(this.checkPosition, this))\n        .on('click.bs.affix.data-api',  $.proxy(this.checkPositionWithEventLoop, this))\n\n      this.$element     = $(element)\n      this.affixed      =\n      this.unpin        =\n      this.pinnedOffset = null\n\n      this.checkPosition()\n    }\n\n    Affix.VERSION  = '3.3.2'\n\n    Affix.RESET    = 'affix affix-top affix-bottom'\n\n    Affix.DEFAULTS = {\n      offset: 0,\n      target: window\n    }\n\n    Affix.prototype.getState = function (scrollHeight, height, offsetTop, offsetBottom) {\n      var scrollTop    = this.$target.scrollTop()\n      var position     = this.$element.offset()\n      var targetHeight = this.$target.height()\n\n      if (offsetTop != null && this.affixed == 'top') return scrollTop < offsetTop ? 'top' : false\n\n      if (this.affixed == 'bottom') {\n        if (offsetTop != null) return (scrollTop + this.unpin <= position.top) ? false : 'bottom'\n        return (scrollTop + targetHeight <= scrollHeight - offsetBottom) ? false : 'bottom'\n      }\n\n      var initializing   = this.affixed == null\n      var colliderTop    = initializing ? scrollTop : position.top\n      var colliderHeight = initializing ? targetHeight : height\n\n      if (offsetTop != null && scrollTop <= offsetTop) return 'top'\n      if (offsetBottom != null && (colliderTop + colliderHeight >= scrollHeight - offsetBottom)) return 'bottom'\n\n      return false\n    }\n\n    Affix.prototype.getPinnedOffset = function () {\n      if (this.pinnedOffset) return this.pinnedOffset\n      this.$element.removeClass(Affix.RESET).addClass('affix')\n      var scrollTop = this.$target.scrollTop()\n      var position  = this.$element.offset()\n      return (this.pinnedOffset = position.top - scrollTop)\n    }\n\n    Affix.prototype.checkPositionWithEventLoop = function () {\n      setTimeout($.proxy(this.checkPosition, this), 1)\n    }\n\n    Affix.prototype.checkPosition = function () {\n      if (!this.$element.is(':visible')) return\n\n      var height       = this.$element.height()\n      var offset       = this.options.offset\n      var offsetTop    = offset.top\n      var offsetBottom = offset.bottom\n      var scrollHeight = $('body').height()\n\n      if (typeof offset != 'object')         offsetBottom = offsetTop = offset\n      if (typeof offsetTop == 'function')    offsetTop    = offset.top(this.$element)\n      if (typeof offsetBottom == 'function') offsetBottom = offset.bottom(this.$element)\n\n      var affix = this.getState(scrollHeight, height, offsetTop, offsetBottom)\n\n      if (this.affixed != affix) {\n        if (this.unpin != null) this.$element.css('top', '')\n\n        var affixType = 'affix' + (affix ? '-' + affix : '')\n        var e         = $.Event(affixType + '.bs.affix')\n\n        this.$element.trigger(e)\n\n        if (e.isDefaultPrevented()) return\n\n        this.affixed = affix\n        this.unpin = affix == 'bottom' ? this.getPinnedOffset() : null\n\n        this.$element\n          .removeClass(Affix.RESET)\n          .addClass(affixType)\n          .trigger(affixType.replace('affix', 'affixed') + '.bs.affix')\n      }\n\n      if (affix == 'bottom') {\n        this.$element.offset({\n          top: scrollHeight - height - offsetBottom\n        })\n      }\n    }\n\n\n    // AFFIX PLUGIN DEFINITION\n    // =======================\n\n    function Plugin(option) {\n      return this.each(function () {\n        var $this   = $(this)\n        var data    = $this.data('bs.affix')\n        var options = typeof option == 'object' && option\n\n        if (!data) $this.data('bs.affix', (data = new Affix(this, options)))\n        if (typeof option == 'string') data[option]()\n      })\n    }\n\n    var old = $.fn.affix\n\n    $.fn.affix             = Plugin\n    $.fn.affix.Constructor = Affix\n\n\n    // AFFIX NO CONFLICT\n    // =================\n\n    $.fn.affix.noConflict = function () {\n      $.fn.affix = old\n      return this\n    }\n\n\n    // AFFIX DATA-API\n    // ==============\n\n    $(window).on('load', function () {\n      $('[data-spy=\"affix\"]').each(function () {\n        var $spy = $(this)\n        var data = $spy.data()\n\n        data.offset = data.offset || {}\n\n        if (data.offsetBottom != null) data.offset.bottom = data.offsetBottom\n        if (data.offsetTop    != null) data.offset.top    = data.offsetTop\n\n        Plugin.call($spy, data)\n      })\n    })\n\n  }(jQuery);\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL2pzL2NvbXBvbmVudHMvYm9vdHN0cmFwLmpzPzRlMjIiXSwic291cmNlc0NvbnRlbnQiOlsiLyohXG4gKiBCb290c3RyYXAgdjMuMy4yIChodHRwOi8vZ2V0Ym9vdHN0cmFwLmNvbSlcbiAqIENvcHlyaWdodCAyMDExLTIwMTUgVHdpdHRlciwgSW5jLlxuICogTGljZW5zZWQgdW5kZXIgTUlUIChodHRwczovL2dpdGh1Yi5jb20vdHdicy9ib290c3RyYXAvYmxvYi9tYXN0ZXIvTElDRU5TRSlcbiAqL1xuKGZ1bmN0aW9uIChmYWN0b3J5KSB7XG4gIGlmICh0eXBlb2YgbW9kdWxlID09PSAnb2JqZWN0JyAmJiBtb2R1bGUuZXhwb3J0cykge1xuICAgIC8vIE5vZGUvQ29tbW9uSlNcbiAgICBtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKCByb290LCBqUXVlcnkgKSB7XG4gICAgICBpZiAoIGpRdWVyeSA9PT0gdW5kZWZpbmVkICkge1xuICAgICAgICAvLyByZXF1aXJlKCdqUXVlcnknKSByZXR1cm5zIGEgZmFjdG9yeSB0aGF0IHJlcXVpcmVzIHdpbmRvdyB0b1xuICAgICAgICAvLyBidWlsZCBhIGpRdWVyeSBpbnN0YW5jZSwgd2Ugbm9ybWFsaXplIGhvdyB3ZSB1c2UgbW9kdWxlc1xuICAgICAgICAvLyB0aGF0IHJlcXVpcmUgdGhpcyBwYXR0ZXJuIGJ1dCB0aGUgd2luZG93IHByb3ZpZGVkIGlzIGEgbm9vcFxuICAgICAgICAvLyBpZiBpdCdzIGRlZmluZWQgKGhvdyBqcXVlcnkgd29ya3MpXG4gICAgICAgIGlmICggdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgKSB7XG4gICAgICAgICAgalF1ZXJ5ID0gcmVxdWlyZSgnLi9qcXVlcnkuanMnKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICBqUXVlcnkgPSByZXF1aXJlKCcuL2pxdWVyeS5qcycpKHJvb3QpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBmYWN0b3J5KGpRdWVyeSk7XG4gICAgICByZXR1cm4galF1ZXJ5O1xuICAgIH07XG4gIH0gZWxzZSBpZiAodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKSB7XG4gICAgLy8gQU1ELiBSZWdpc3RlciBhcyBhbiBhbm9ueW1vdXMgbW9kdWxlLlxuICAgIGRlZmluZShbJy4vanF1ZXJ5LmpzJ10sIGZhY3RvcnkpO1xuICB9IGVsc2Uge1xuICAgIC8vIEJyb3dzZXIgZ2xvYmFsc1xuICAgIGZhY3RvcnkoalF1ZXJ5KTtcbiAgfVxufSkoZnVuY3Rpb24gKGpRdWVyeSkge1xuICBpZiAodHlwZW9mIGpRdWVyeSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ0Jvb3RzdHJhcFxcJ3MgSmF2YVNjcmlwdCByZXF1aXJlcyBqUXVlcnknKVxuICB9XG5cbiAgK2Z1bmN0aW9uICgkKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuICAgIHZhciB2ZXJzaW9uID0gJC5mbi5qcXVlcnkuc3BsaXQoJyAnKVswXS5zcGxpdCgnLicpXG4gICAgaWYgKCh2ZXJzaW9uWzBdIDwgMiAmJiB2ZXJzaW9uWzFdIDwgOSkgfHwgKHZlcnNpb25bMF0gPT0gMSAmJiB2ZXJzaW9uWzFdID09IDkgJiYgdmVyc2lvblsyXSA8IDEpKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Jvb3RzdHJhcFxcJ3MgSmF2YVNjcmlwdCByZXF1aXJlcyBqUXVlcnkgdmVyc2lvbiAxLjkuMSBvciBoaWdoZXInKVxuICAgIH1cbiAgfShqUXVlcnkpO1xuXG4gIC8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAqIEJvb3RzdHJhcDogdHJhbnNpdGlvbi5qcyB2My4zLjJcbiAgKiBodHRwOi8vZ2V0Ym9vdHN0cmFwLmNvbS9qYXZhc2NyaXB0LyN0cmFuc2l0aW9uc1xuICAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAqIENvcHlyaWdodCAyMDExLTIwMTUgVHdpdHRlciwgSW5jLlxuICAqIExpY2Vuc2VkIHVuZGVyIE1JVCAoaHR0cHM6Ly9naXRodWIuY29tL3R3YnMvYm9vdHN0cmFwL2Jsb2IvbWFzdGVyL0xJQ0VOU0UpXG4gICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXG5cblxuICArZnVuY3Rpb24gKCQpIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICAvLyBDU1MgVFJBTlNJVElPTiBTVVBQT1JUIChTaG91dG91dDogaHR0cDovL3d3dy5tb2Rlcm5penIuY29tLylcbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICAgIGZ1bmN0aW9uIHRyYW5zaXRpb25FbmQoKSB7XG4gICAgICB2YXIgZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdib290c3RyYXAnKVxuXG4gICAgICB2YXIgdHJhbnNFbmRFdmVudE5hbWVzID0ge1xuICAgICAgICBXZWJraXRUcmFuc2l0aW9uIDogJ3dlYmtpdFRyYW5zaXRpb25FbmQnLFxuICAgICAgICBNb3pUcmFuc2l0aW9uICAgIDogJ3RyYW5zaXRpb25lbmQnLFxuICAgICAgICBPVHJhbnNpdGlvbiAgICAgIDogJ29UcmFuc2l0aW9uRW5kIG90cmFuc2l0aW9uZW5kJyxcbiAgICAgICAgdHJhbnNpdGlvbiAgICAgICA6ICd0cmFuc2l0aW9uZW5kJ1xuICAgICAgfVxuXG4gICAgICBmb3IgKHZhciBuYW1lIGluIHRyYW5zRW5kRXZlbnROYW1lcykge1xuICAgICAgICBpZiAoZWwuc3R5bGVbbmFtZV0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIHJldHVybiB7IGVuZDogdHJhbnNFbmRFdmVudE5hbWVzW25hbWVdIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gZmFsc2UgLy8gZXhwbGljaXQgZm9yIGllOCAoICAuXy4pXG4gICAgfVxuXG4gICAgLy8gaHR0cDovL2Jsb2cuYWxleG1hY2Nhdy5jb20vY3NzLXRyYW5zaXRpb25zXG4gICAgJC5mbi5lbXVsYXRlVHJhbnNpdGlvbkVuZCA9IGZ1bmN0aW9uIChkdXJhdGlvbikge1xuICAgICAgdmFyIGNhbGxlZCA9IGZhbHNlXG4gICAgICB2YXIgJGVsID0gdGhpc1xuICAgICAgJCh0aGlzKS5vbmUoJ2JzVHJhbnNpdGlvbkVuZCcsIGZ1bmN0aW9uICgpIHsgY2FsbGVkID0gdHJ1ZSB9KVxuICAgICAgdmFyIGNhbGxiYWNrID0gZnVuY3Rpb24gKCkgeyBpZiAoIWNhbGxlZCkgJCgkZWwpLnRyaWdnZXIoJC5zdXBwb3J0LnRyYW5zaXRpb24uZW5kKSB9XG4gICAgICBzZXRUaW1lb3V0KGNhbGxiYWNrLCBkdXJhdGlvbilcbiAgICAgIHJldHVybiB0aGlzXG4gICAgfVxuXG4gICAgJChmdW5jdGlvbiAoKSB7XG4gICAgICAkLnN1cHBvcnQudHJhbnNpdGlvbiA9IHRyYW5zaXRpb25FbmQoKVxuXG4gICAgICBpZiAoISQuc3VwcG9ydC50cmFuc2l0aW9uKSByZXR1cm5cblxuICAgICAgJC5ldmVudC5zcGVjaWFsLmJzVHJhbnNpdGlvbkVuZCA9IHtcbiAgICAgICAgYmluZFR5cGU6ICQuc3VwcG9ydC50cmFuc2l0aW9uLmVuZCxcbiAgICAgICAgZGVsZWdhdGVUeXBlOiAkLnN1cHBvcnQudHJhbnNpdGlvbi5lbmQsXG4gICAgICAgIGhhbmRsZTogZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICBpZiAoJChlLnRhcmdldCkuaXModGhpcykpIHJldHVybiBlLmhhbmRsZU9iai5oYW5kbGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cylcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pXG5cbiAgfShqUXVlcnkpO1xuXG4gIC8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAqIEJvb3RzdHJhcDogYWxlcnQuanMgdjMuMy4yXG4gICogaHR0cDovL2dldGJvb3RzdHJhcC5jb20vamF2YXNjcmlwdC8jYWxlcnRzXG4gICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICogQ29weXJpZ2h0IDIwMTEtMjAxNSBUd2l0dGVyLCBJbmMuXG4gICogTGljZW5zZWQgdW5kZXIgTUlUIChodHRwczovL2dpdGh1Yi5jb20vdHdicy9ib290c3RyYXAvYmxvYi9tYXN0ZXIvTElDRU5TRSlcbiAgKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cblxuXG4gICtmdW5jdGlvbiAoJCkge1xuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIC8vIEFMRVJUIENMQVNTIERFRklOSVRJT05cbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09XG5cbiAgICB2YXIgZGlzbWlzcyA9ICdbZGF0YS1kaXNtaXNzPVwiYWxlcnRcIl0nXG4gICAgdmFyIEFsZXJ0ICAgPSBmdW5jdGlvbiAoZWwpIHtcbiAgICAgICQoZWwpLm9uKCdjbGljaycsIGRpc21pc3MsIHRoaXMuY2xvc2UpXG4gICAgfVxuXG4gICAgQWxlcnQuVkVSU0lPTiA9ICczLjMuMidcblxuICAgIEFsZXJ0LlRSQU5TSVRJT05fRFVSQVRJT04gPSAxNTBcblxuICAgIEFsZXJ0LnByb3RvdHlwZS5jbG9zZSA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICB2YXIgJHRoaXMgICAgPSAkKHRoaXMpXG4gICAgICB2YXIgc2VsZWN0b3IgPSAkdGhpcy5hdHRyKCdkYXRhLXRhcmdldCcpXG5cbiAgICAgIGlmICghc2VsZWN0b3IpIHtcbiAgICAgICAgc2VsZWN0b3IgPSAkdGhpcy5hdHRyKCdocmVmJylcbiAgICAgICAgc2VsZWN0b3IgPSBzZWxlY3RvciAmJiBzZWxlY3Rvci5yZXBsYWNlKC8uKig/PSNbXlxcc10qJCkvLCAnJykgLy8gc3RyaXAgZm9yIGllN1xuICAgICAgfVxuXG4gICAgICB2YXIgJHBhcmVudCA9ICQoc2VsZWN0b3IpXG5cbiAgICAgIGlmIChlKSBlLnByZXZlbnREZWZhdWx0KClcblxuICAgICAgaWYgKCEkcGFyZW50Lmxlbmd0aCkge1xuICAgICAgICAkcGFyZW50ID0gJHRoaXMuY2xvc2VzdCgnLmFsZXJ0JylcbiAgICAgIH1cblxuICAgICAgJHBhcmVudC50cmlnZ2VyKGUgPSAkLkV2ZW50KCdjbG9zZS5icy5hbGVydCcpKVxuXG4gICAgICBpZiAoZS5pc0RlZmF1bHRQcmV2ZW50ZWQoKSkgcmV0dXJuXG5cbiAgICAgICRwYXJlbnQucmVtb3ZlQ2xhc3MoJ2luJylcblxuICAgICAgZnVuY3Rpb24gcmVtb3ZlRWxlbWVudCgpIHtcbiAgICAgICAgLy8gZGV0YWNoIGZyb20gcGFyZW50LCBmaXJlIGV2ZW50IHRoZW4gY2xlYW4gdXAgZGF0YVxuICAgICAgICAkcGFyZW50LmRldGFjaCgpLnRyaWdnZXIoJ2Nsb3NlZC5icy5hbGVydCcpLnJlbW92ZSgpXG4gICAgICB9XG5cbiAgICAgICQuc3VwcG9ydC50cmFuc2l0aW9uICYmICRwYXJlbnQuaGFzQ2xhc3MoJ2ZhZGUnKSA/XG4gICAgICAgICRwYXJlbnRcbiAgICAgICAgICAub25lKCdic1RyYW5zaXRpb25FbmQnLCByZW1vdmVFbGVtZW50KVxuICAgICAgICAgIC5lbXVsYXRlVHJhbnNpdGlvbkVuZChBbGVydC5UUkFOU0lUSU9OX0RVUkFUSU9OKSA6XG4gICAgICAgIHJlbW92ZUVsZW1lbnQoKVxuICAgIH1cblxuXG4gICAgLy8gQUxFUlQgUExVR0lOIERFRklOSVRJT05cbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PVxuXG4gICAgZnVuY3Rpb24gUGx1Z2luKG9wdGlvbikge1xuICAgICAgcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciAkdGhpcyA9ICQodGhpcylcbiAgICAgICAgdmFyIGRhdGEgID0gJHRoaXMuZGF0YSgnYnMuYWxlcnQnKVxuXG4gICAgICAgIGlmICghZGF0YSkgJHRoaXMuZGF0YSgnYnMuYWxlcnQnLCAoZGF0YSA9IG5ldyBBbGVydCh0aGlzKSkpXG4gICAgICAgIGlmICh0eXBlb2Ygb3B0aW9uID09ICdzdHJpbmcnKSBkYXRhW29wdGlvbl0uY2FsbCgkdGhpcylcbiAgICAgIH0pXG4gICAgfVxuXG4gICAgdmFyIG9sZCA9ICQuZm4uYWxlcnRcblxuICAgICQuZm4uYWxlcnQgICAgICAgICAgICAgPSBQbHVnaW5cbiAgICAkLmZuLmFsZXJ0LkNvbnN0cnVjdG9yID0gQWxlcnRcblxuXG4gICAgLy8gQUxFUlQgTk8gQ09ORkxJQ1RcbiAgICAvLyA9PT09PT09PT09PT09PT09PVxuXG4gICAgJC5mbi5hbGVydC5ub0NvbmZsaWN0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgJC5mbi5hbGVydCA9IG9sZFxuICAgICAgcmV0dXJuIHRoaXNcbiAgICB9XG5cblxuICAgIC8vIEFMRVJUIERBVEEtQVBJXG4gICAgLy8gPT09PT09PT09PT09PT1cblxuICAgICQoZG9jdW1lbnQpLm9uKCdjbGljay5icy5hbGVydC5kYXRhLWFwaScsIGRpc21pc3MsIEFsZXJ0LnByb3RvdHlwZS5jbG9zZSlcblxuICB9KGpRdWVyeSk7XG5cbiAgLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICogQm9vdHN0cmFwOiBidXR0b24uanMgdjMuMy4yXG4gICogaHR0cDovL2dldGJvb3RzdHJhcC5jb20vamF2YXNjcmlwdC8jYnV0dG9uc1xuICAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAqIENvcHlyaWdodCAyMDExLTIwMTUgVHdpdHRlciwgSW5jLlxuICAqIExpY2Vuc2VkIHVuZGVyIE1JVCAoaHR0cHM6Ly9naXRodWIuY29tL3R3YnMvYm9vdHN0cmFwL2Jsb2IvbWFzdGVyL0xJQ0VOU0UpXG4gICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXG5cblxuICArZnVuY3Rpb24gKCQpIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICAvLyBCVVRUT04gUFVCTElDIENMQVNTIERFRklOSVRJT05cbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICAgIHZhciBCdXR0b24gPSBmdW5jdGlvbiAoZWxlbWVudCwgb3B0aW9ucykge1xuICAgICAgdGhpcy4kZWxlbWVudCAgPSAkKGVsZW1lbnQpXG4gICAgICB0aGlzLm9wdGlvbnMgICA9ICQuZXh0ZW5kKHt9LCBCdXR0b24uREVGQVVMVFMsIG9wdGlvbnMpXG4gICAgICB0aGlzLmlzTG9hZGluZyA9IGZhbHNlXG4gICAgfVxuXG4gICAgQnV0dG9uLlZFUlNJT04gID0gJzMuMy4yJ1xuXG4gICAgQnV0dG9uLkRFRkFVTFRTID0ge1xuICAgICAgbG9hZGluZ1RleHQ6ICdsb2FkaW5nLi4uJ1xuICAgIH1cblxuICAgIEJ1dHRvbi5wcm90b3R5cGUuc2V0U3RhdGUgPSBmdW5jdGlvbiAoc3RhdGUpIHtcbiAgICAgIHZhciBkICAgID0gJ2Rpc2FibGVkJ1xuICAgICAgdmFyICRlbCAgPSB0aGlzLiRlbGVtZW50XG4gICAgICB2YXIgdmFsICA9ICRlbC5pcygnaW5wdXQnKSA/ICd2YWwnIDogJ2h0bWwnXG4gICAgICB2YXIgZGF0YSA9ICRlbC5kYXRhKClcblxuICAgICAgc3RhdGUgPSBzdGF0ZSArICdUZXh0J1xuXG4gICAgICBpZiAoZGF0YS5yZXNldFRleHQgPT0gbnVsbCkgJGVsLmRhdGEoJ3Jlc2V0VGV4dCcsICRlbFt2YWxdKCkpXG5cbiAgICAgIC8vIHB1c2ggdG8gZXZlbnQgbG9vcCB0byBhbGxvdyBmb3JtcyB0byBzdWJtaXRcbiAgICAgIHNldFRpbWVvdXQoJC5wcm94eShmdW5jdGlvbiAoKSB7XG4gICAgICAgICRlbFt2YWxdKGRhdGFbc3RhdGVdID09IG51bGwgPyB0aGlzLm9wdGlvbnNbc3RhdGVdIDogZGF0YVtzdGF0ZV0pXG5cbiAgICAgICAgaWYgKHN0YXRlID09ICdsb2FkaW5nVGV4dCcpIHtcbiAgICAgICAgICB0aGlzLmlzTG9hZGluZyA9IHRydWVcbiAgICAgICAgICAkZWwuYWRkQ2xhc3MoZCkuYXR0cihkLCBkKVxuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuaXNMb2FkaW5nKSB7XG4gICAgICAgICAgdGhpcy5pc0xvYWRpbmcgPSBmYWxzZVxuICAgICAgICAgICRlbC5yZW1vdmVDbGFzcyhkKS5yZW1vdmVBdHRyKGQpXG4gICAgICAgIH1cbiAgICAgIH0sIHRoaXMpLCAwKVxuICAgIH1cblxuICAgIEJ1dHRvbi5wcm90b3R5cGUudG9nZ2xlID0gZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIGNoYW5nZWQgPSB0cnVlXG4gICAgICB2YXIgJHBhcmVudCA9IHRoaXMuJGVsZW1lbnQuY2xvc2VzdCgnW2RhdGEtdG9nZ2xlPVwiYnV0dG9uc1wiXScpXG5cbiAgICAgIGlmICgkcGFyZW50Lmxlbmd0aCkge1xuICAgICAgICB2YXIgJGlucHV0ID0gdGhpcy4kZWxlbWVudC5maW5kKCdpbnB1dCcpXG4gICAgICAgIGlmICgkaW5wdXQucHJvcCgndHlwZScpID09ICdyYWRpbycpIHtcbiAgICAgICAgICBpZiAoJGlucHV0LnByb3AoJ2NoZWNrZWQnKSAmJiB0aGlzLiRlbGVtZW50Lmhhc0NsYXNzKCdhY3RpdmUnKSkgY2hhbmdlZCA9IGZhbHNlXG4gICAgICAgICAgZWxzZSAkcGFyZW50LmZpbmQoJy5hY3RpdmUnKS5yZW1vdmVDbGFzcygnYWN0aXZlJylcbiAgICAgICAgfVxuICAgICAgICBpZiAoY2hhbmdlZCkgJGlucHV0LnByb3AoJ2NoZWNrZWQnLCAhdGhpcy4kZWxlbWVudC5oYXNDbGFzcygnYWN0aXZlJykpLnRyaWdnZXIoJ2NoYW5nZScpXG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLiRlbGVtZW50LmF0dHIoJ2FyaWEtcHJlc3NlZCcsICF0aGlzLiRlbGVtZW50Lmhhc0NsYXNzKCdhY3RpdmUnKSlcbiAgICAgIH1cblxuICAgICAgaWYgKGNoYW5nZWQpIHRoaXMuJGVsZW1lbnQudG9nZ2xlQ2xhc3MoJ2FjdGl2ZScpXG4gICAgfVxuXG5cbiAgICAvLyBCVVRUT04gUExVR0lOIERFRklOSVRJT05cbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT1cblxuICAgIGZ1bmN0aW9uIFBsdWdpbihvcHRpb24pIHtcbiAgICAgIHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgJHRoaXMgICA9ICQodGhpcylcbiAgICAgICAgdmFyIGRhdGEgICAgPSAkdGhpcy5kYXRhKCdicy5idXR0b24nKVxuICAgICAgICB2YXIgb3B0aW9ucyA9IHR5cGVvZiBvcHRpb24gPT0gJ29iamVjdCcgJiYgb3B0aW9uXG5cbiAgICAgICAgaWYgKCFkYXRhKSAkdGhpcy5kYXRhKCdicy5idXR0b24nLCAoZGF0YSA9IG5ldyBCdXR0b24odGhpcywgb3B0aW9ucykpKVxuXG4gICAgICAgIGlmIChvcHRpb24gPT0gJ3RvZ2dsZScpIGRhdGEudG9nZ2xlKClcbiAgICAgICAgZWxzZSBpZiAob3B0aW9uKSBkYXRhLnNldFN0YXRlKG9wdGlvbilcbiAgICAgIH0pXG4gICAgfVxuXG4gICAgdmFyIG9sZCA9ICQuZm4uYnV0dG9uXG5cbiAgICAkLmZuLmJ1dHRvbiAgICAgICAgICAgICA9IFBsdWdpblxuICAgICQuZm4uYnV0dG9uLkNvbnN0cnVjdG9yID0gQnV0dG9uXG5cblxuICAgIC8vIEJVVFRPTiBOTyBDT05GTElDVFxuICAgIC8vID09PT09PT09PT09PT09PT09PVxuXG4gICAgJC5mbi5idXR0b24ubm9Db25mbGljdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICQuZm4uYnV0dG9uID0gb2xkXG4gICAgICByZXR1cm4gdGhpc1xuICAgIH1cblxuXG4gICAgLy8gQlVUVE9OIERBVEEtQVBJXG4gICAgLy8gPT09PT09PT09PT09PT09XG5cbiAgICAkKGRvY3VtZW50KVxuICAgICAgLm9uKCdjbGljay5icy5idXR0b24uZGF0YS1hcGknLCAnW2RhdGEtdG9nZ2xlXj1cImJ1dHRvblwiXScsIGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIHZhciAkYnRuID0gJChlLnRhcmdldClcbiAgICAgICAgaWYgKCEkYnRuLmhhc0NsYXNzKCdidG4nKSkgJGJ0biA9ICRidG4uY2xvc2VzdCgnLmJ0bicpXG4gICAgICAgIFBsdWdpbi5jYWxsKCRidG4sICd0b2dnbGUnKVxuICAgICAgICBlLnByZXZlbnREZWZhdWx0KClcbiAgICAgIH0pXG4gICAgICAub24oJ2ZvY3VzLmJzLmJ1dHRvbi5kYXRhLWFwaSBibHVyLmJzLmJ1dHRvbi5kYXRhLWFwaScsICdbZGF0YS10b2dnbGVePVwiYnV0dG9uXCJdJywgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgJChlLnRhcmdldCkuY2xvc2VzdCgnLmJ0bicpLnRvZ2dsZUNsYXNzKCdmb2N1cycsIC9eZm9jdXMoaW4pPyQvLnRlc3QoZS50eXBlKSlcbiAgICAgIH0pXG5cbiAgfShqUXVlcnkpO1xuXG4gIC8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAqIEJvb3RzdHJhcDogY2Fyb3VzZWwuanMgdjMuMy4yXG4gICogaHR0cDovL2dldGJvb3RzdHJhcC5jb20vamF2YXNjcmlwdC8jY2Fyb3VzZWxcbiAgKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgKiBDb3B5cmlnaHQgMjAxMS0yMDE1IFR3aXR0ZXIsIEluYy5cbiAgKiBMaWNlbnNlZCB1bmRlciBNSVQgKGh0dHBzOi8vZ2l0aHViLmNvbS90d2JzL2Jvb3RzdHJhcC9ibG9iL21hc3Rlci9MSUNFTlNFKVxuICAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xuXG5cbiAgK2Z1bmN0aW9uICgkKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgLy8gQ0FST1VTRUwgQ0xBU1MgREVGSU5JVElPTlxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICAgIHZhciBDYXJvdXNlbCA9IGZ1bmN0aW9uIChlbGVtZW50LCBvcHRpb25zKSB7XG4gICAgICB0aGlzLiRlbGVtZW50ICAgID0gJChlbGVtZW50KVxuICAgICAgdGhpcy4kaW5kaWNhdG9ycyA9IHRoaXMuJGVsZW1lbnQuZmluZCgnLmNhcm91c2VsLWluZGljYXRvcnMnKVxuICAgICAgdGhpcy5vcHRpb25zICAgICA9IG9wdGlvbnNcbiAgICAgIHRoaXMucGF1c2VkICAgICAgPVxuICAgICAgdGhpcy5zbGlkaW5nICAgICA9XG4gICAgICB0aGlzLmludGVydmFsICAgID1cbiAgICAgIHRoaXMuJGFjdGl2ZSAgICAgPVxuICAgICAgdGhpcy4kaXRlbXMgICAgICA9IG51bGxcblxuICAgICAgdGhpcy5vcHRpb25zLmtleWJvYXJkICYmIHRoaXMuJGVsZW1lbnQub24oJ2tleWRvd24uYnMuY2Fyb3VzZWwnLCAkLnByb3h5KHRoaXMua2V5ZG93biwgdGhpcykpXG5cbiAgICAgIHRoaXMub3B0aW9ucy5wYXVzZSA9PSAnaG92ZXInICYmICEoJ29udG91Y2hzdGFydCcgaW4gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50KSAmJiB0aGlzLiRlbGVtZW50XG4gICAgICAgIC5vbignbW91c2VlbnRlci5icy5jYXJvdXNlbCcsICQucHJveHkodGhpcy5wYXVzZSwgdGhpcykpXG4gICAgICAgIC5vbignbW91c2VsZWF2ZS5icy5jYXJvdXNlbCcsICQucHJveHkodGhpcy5jeWNsZSwgdGhpcykpXG4gICAgfVxuXG4gICAgQ2Fyb3VzZWwuVkVSU0lPTiAgPSAnMy4zLjInXG5cbiAgICBDYXJvdXNlbC5UUkFOU0lUSU9OX0RVUkFUSU9OID0gNjAwXG5cbiAgICBDYXJvdXNlbC5ERUZBVUxUUyA9IHtcbiAgICAgIGludGVydmFsOiA1MDAwLFxuICAgICAgcGF1c2U6ICdob3ZlcicsXG4gICAgICB3cmFwOiB0cnVlLFxuICAgICAga2V5Ym9hcmQ6IHRydWVcbiAgICB9XG5cbiAgICBDYXJvdXNlbC5wcm90b3R5cGUua2V5ZG93biA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICBpZiAoL2lucHV0fHRleHRhcmVhL2kudGVzdChlLnRhcmdldC50YWdOYW1lKSkgcmV0dXJuXG4gICAgICBzd2l0Y2ggKGUud2hpY2gpIHtcbiAgICAgICAgY2FzZSAzNzogdGhpcy5wcmV2KCk7IGJyZWFrXG4gICAgICAgIGNhc2UgMzk6IHRoaXMubmV4dCgpOyBicmVha1xuICAgICAgICBkZWZhdWx0OiByZXR1cm5cbiAgICAgIH1cblxuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpXG4gICAgfVxuXG4gICAgQ2Fyb3VzZWwucHJvdG90eXBlLmN5Y2xlID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgIGUgfHwgKHRoaXMucGF1c2VkID0gZmFsc2UpXG5cbiAgICAgIHRoaXMuaW50ZXJ2YWwgJiYgY2xlYXJJbnRlcnZhbCh0aGlzLmludGVydmFsKVxuXG4gICAgICB0aGlzLm9wdGlvbnMuaW50ZXJ2YWxcbiAgICAgICAgJiYgIXRoaXMucGF1c2VkXG4gICAgICAgICYmICh0aGlzLmludGVydmFsID0gc2V0SW50ZXJ2YWwoJC5wcm94eSh0aGlzLm5leHQsIHRoaXMpLCB0aGlzLm9wdGlvbnMuaW50ZXJ2YWwpKVxuXG4gICAgICByZXR1cm4gdGhpc1xuICAgIH1cblxuICAgIENhcm91c2VsLnByb3RvdHlwZS5nZXRJdGVtSW5kZXggPSBmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgdGhpcy4kaXRlbXMgPSBpdGVtLnBhcmVudCgpLmNoaWxkcmVuKCcuaXRlbScpXG4gICAgICByZXR1cm4gdGhpcy4kaXRlbXMuaW5kZXgoaXRlbSB8fCB0aGlzLiRhY3RpdmUpXG4gICAgfVxuXG4gICAgQ2Fyb3VzZWwucHJvdG90eXBlLmdldEl0ZW1Gb3JEaXJlY3Rpb24gPSBmdW5jdGlvbiAoZGlyZWN0aW9uLCBhY3RpdmUpIHtcbiAgICAgIHZhciBhY3RpdmVJbmRleCA9IHRoaXMuZ2V0SXRlbUluZGV4KGFjdGl2ZSlcbiAgICAgIHZhciB3aWxsV3JhcCA9IChkaXJlY3Rpb24gPT0gJ3ByZXYnICYmIGFjdGl2ZUluZGV4ID09PSAwKVxuICAgICAgICAgICAgICAgICAgfHwgKGRpcmVjdGlvbiA9PSAnbmV4dCcgJiYgYWN0aXZlSW5kZXggPT0gKHRoaXMuJGl0ZW1zLmxlbmd0aCAtIDEpKVxuICAgICAgaWYgKHdpbGxXcmFwICYmICF0aGlzLm9wdGlvbnMud3JhcCkgcmV0dXJuIGFjdGl2ZVxuICAgICAgdmFyIGRlbHRhID0gZGlyZWN0aW9uID09ICdwcmV2JyA/IC0xIDogMVxuICAgICAgdmFyIGl0ZW1JbmRleCA9IChhY3RpdmVJbmRleCArIGRlbHRhKSAlIHRoaXMuJGl0ZW1zLmxlbmd0aFxuICAgICAgcmV0dXJuIHRoaXMuJGl0ZW1zLmVxKGl0ZW1JbmRleClcbiAgICB9XG5cbiAgICBDYXJvdXNlbC5wcm90b3R5cGUudG8gPSBmdW5jdGlvbiAocG9zKSB7XG4gICAgICB2YXIgdGhhdCAgICAgICAgPSB0aGlzXG4gICAgICB2YXIgYWN0aXZlSW5kZXggPSB0aGlzLmdldEl0ZW1JbmRleCh0aGlzLiRhY3RpdmUgPSB0aGlzLiRlbGVtZW50LmZpbmQoJy5pdGVtLmFjdGl2ZScpKVxuXG4gICAgICBpZiAocG9zID4gKHRoaXMuJGl0ZW1zLmxlbmd0aCAtIDEpIHx8IHBvcyA8IDApIHJldHVyblxuXG4gICAgICBpZiAodGhpcy5zbGlkaW5nKSAgICAgICByZXR1cm4gdGhpcy4kZWxlbWVudC5vbmUoJ3NsaWQuYnMuY2Fyb3VzZWwnLCBmdW5jdGlvbiAoKSB7IHRoYXQudG8ocG9zKSB9KSAvLyB5ZXMsIFwic2xpZFwiXG4gICAgICBpZiAoYWN0aXZlSW5kZXggPT0gcG9zKSByZXR1cm4gdGhpcy5wYXVzZSgpLmN5Y2xlKClcblxuICAgICAgcmV0dXJuIHRoaXMuc2xpZGUocG9zID4gYWN0aXZlSW5kZXggPyAnbmV4dCcgOiAncHJldicsIHRoaXMuJGl0ZW1zLmVxKHBvcykpXG4gICAgfVxuXG4gICAgQ2Fyb3VzZWwucHJvdG90eXBlLnBhdXNlID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgIGUgfHwgKHRoaXMucGF1c2VkID0gdHJ1ZSlcblxuICAgICAgaWYgKHRoaXMuJGVsZW1lbnQuZmluZCgnLm5leHQsIC5wcmV2JykubGVuZ3RoICYmICQuc3VwcG9ydC50cmFuc2l0aW9uKSB7XG4gICAgICAgIHRoaXMuJGVsZW1lbnQudHJpZ2dlcigkLnN1cHBvcnQudHJhbnNpdGlvbi5lbmQpXG4gICAgICAgIHRoaXMuY3ljbGUodHJ1ZSlcbiAgICAgIH1cblxuICAgICAgdGhpcy5pbnRlcnZhbCA9IGNsZWFySW50ZXJ2YWwodGhpcy5pbnRlcnZhbClcblxuICAgICAgcmV0dXJuIHRoaXNcbiAgICB9XG5cbiAgICBDYXJvdXNlbC5wcm90b3R5cGUubmV4dCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmICh0aGlzLnNsaWRpbmcpIHJldHVyblxuICAgICAgcmV0dXJuIHRoaXMuc2xpZGUoJ25leHQnKVxuICAgIH1cblxuICAgIENhcm91c2VsLnByb3RvdHlwZS5wcmV2ID0gZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKHRoaXMuc2xpZGluZykgcmV0dXJuXG4gICAgICByZXR1cm4gdGhpcy5zbGlkZSgncHJldicpXG4gICAgfVxuXG4gICAgQ2Fyb3VzZWwucHJvdG90eXBlLnNsaWRlID0gZnVuY3Rpb24gKHR5cGUsIG5leHQpIHtcbiAgICAgIHZhciAkYWN0aXZlICAgPSB0aGlzLiRlbGVtZW50LmZpbmQoJy5pdGVtLmFjdGl2ZScpXG4gICAgICB2YXIgJG5leHQgICAgID0gbmV4dCB8fCB0aGlzLmdldEl0ZW1Gb3JEaXJlY3Rpb24odHlwZSwgJGFjdGl2ZSlcbiAgICAgIHZhciBpc0N5Y2xpbmcgPSB0aGlzLmludGVydmFsXG4gICAgICB2YXIgZGlyZWN0aW9uID0gdHlwZSA9PSAnbmV4dCcgPyAnbGVmdCcgOiAncmlnaHQnXG4gICAgICB2YXIgdGhhdCAgICAgID0gdGhpc1xuXG4gICAgICBpZiAoJG5leHQuaGFzQ2xhc3MoJ2FjdGl2ZScpKSByZXR1cm4gKHRoaXMuc2xpZGluZyA9IGZhbHNlKVxuXG4gICAgICB2YXIgcmVsYXRlZFRhcmdldCA9ICRuZXh0WzBdXG4gICAgICB2YXIgc2xpZGVFdmVudCA9ICQuRXZlbnQoJ3NsaWRlLmJzLmNhcm91c2VsJywge1xuICAgICAgICByZWxhdGVkVGFyZ2V0OiByZWxhdGVkVGFyZ2V0LFxuICAgICAgICBkaXJlY3Rpb246IGRpcmVjdGlvblxuICAgICAgfSlcbiAgICAgIHRoaXMuJGVsZW1lbnQudHJpZ2dlcihzbGlkZUV2ZW50KVxuICAgICAgaWYgKHNsaWRlRXZlbnQuaXNEZWZhdWx0UHJldmVudGVkKCkpIHJldHVyblxuXG4gICAgICB0aGlzLnNsaWRpbmcgPSB0cnVlXG5cbiAgICAgIGlzQ3ljbGluZyAmJiB0aGlzLnBhdXNlKClcblxuICAgICAgaWYgKHRoaXMuJGluZGljYXRvcnMubGVuZ3RoKSB7XG4gICAgICAgIHRoaXMuJGluZGljYXRvcnMuZmluZCgnLmFjdGl2ZScpLnJlbW92ZUNsYXNzKCdhY3RpdmUnKVxuICAgICAgICB2YXIgJG5leHRJbmRpY2F0b3IgPSAkKHRoaXMuJGluZGljYXRvcnMuY2hpbGRyZW4oKVt0aGlzLmdldEl0ZW1JbmRleCgkbmV4dCldKVxuICAgICAgICAkbmV4dEluZGljYXRvciAmJiAkbmV4dEluZGljYXRvci5hZGRDbGFzcygnYWN0aXZlJylcbiAgICAgIH1cblxuICAgICAgdmFyIHNsaWRFdmVudCA9ICQuRXZlbnQoJ3NsaWQuYnMuY2Fyb3VzZWwnLCB7IHJlbGF0ZWRUYXJnZXQ6IHJlbGF0ZWRUYXJnZXQsIGRpcmVjdGlvbjogZGlyZWN0aW9uIH0pIC8vIHllcywgXCJzbGlkXCJcbiAgICAgIGlmICgkLnN1cHBvcnQudHJhbnNpdGlvbiAmJiB0aGlzLiRlbGVtZW50Lmhhc0NsYXNzKCdzbGlkZScpKSB7XG4gICAgICAgICRuZXh0LmFkZENsYXNzKHR5cGUpXG4gICAgICAgICRuZXh0WzBdLm9mZnNldFdpZHRoIC8vIGZvcmNlIHJlZmxvd1xuICAgICAgICAkYWN0aXZlLmFkZENsYXNzKGRpcmVjdGlvbilcbiAgICAgICAgJG5leHQuYWRkQ2xhc3MoZGlyZWN0aW9uKVxuICAgICAgICAkYWN0aXZlXG4gICAgICAgICAgLm9uZSgnYnNUcmFuc2l0aW9uRW5kJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgJG5leHQucmVtb3ZlQ2xhc3MoW3R5cGUsIGRpcmVjdGlvbl0uam9pbignICcpKS5hZGRDbGFzcygnYWN0aXZlJylcbiAgICAgICAgICAgICRhY3RpdmUucmVtb3ZlQ2xhc3MoWydhY3RpdmUnLCBkaXJlY3Rpb25dLmpvaW4oJyAnKSlcbiAgICAgICAgICAgIHRoYXQuc2xpZGluZyA9IGZhbHNlXG4gICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgdGhhdC4kZWxlbWVudC50cmlnZ2VyKHNsaWRFdmVudClcbiAgICAgICAgICAgIH0sIDApXG4gICAgICAgICAgfSlcbiAgICAgICAgICAuZW11bGF0ZVRyYW5zaXRpb25FbmQoQ2Fyb3VzZWwuVFJBTlNJVElPTl9EVVJBVElPTilcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgICRhY3RpdmUucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpXG4gICAgICAgICRuZXh0LmFkZENsYXNzKCdhY3RpdmUnKVxuICAgICAgICB0aGlzLnNsaWRpbmcgPSBmYWxzZVxuICAgICAgICB0aGlzLiRlbGVtZW50LnRyaWdnZXIoc2xpZEV2ZW50KVxuICAgICAgfVxuXG4gICAgICBpc0N5Y2xpbmcgJiYgdGhpcy5jeWNsZSgpXG5cbiAgICAgIHJldHVybiB0aGlzXG4gICAgfVxuXG5cbiAgICAvLyBDQVJPVVNFTCBQTFVHSU4gREVGSU5JVElPTlxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgICBmdW5jdGlvbiBQbHVnaW4ob3B0aW9uKSB7XG4gICAgICByZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyICR0aGlzICAgPSAkKHRoaXMpXG4gICAgICAgIHZhciBkYXRhICAgID0gJHRoaXMuZGF0YSgnYnMuY2Fyb3VzZWwnKVxuICAgICAgICB2YXIgb3B0aW9ucyA9ICQuZXh0ZW5kKHt9LCBDYXJvdXNlbC5ERUZBVUxUUywgJHRoaXMuZGF0YSgpLCB0eXBlb2Ygb3B0aW9uID09ICdvYmplY3QnICYmIG9wdGlvbilcbiAgICAgICAgdmFyIGFjdGlvbiAgPSB0eXBlb2Ygb3B0aW9uID09ICdzdHJpbmcnID8gb3B0aW9uIDogb3B0aW9ucy5zbGlkZVxuXG4gICAgICAgIGlmICghZGF0YSkgJHRoaXMuZGF0YSgnYnMuY2Fyb3VzZWwnLCAoZGF0YSA9IG5ldyBDYXJvdXNlbCh0aGlzLCBvcHRpb25zKSkpXG4gICAgICAgIGlmICh0eXBlb2Ygb3B0aW9uID09ICdudW1iZXInKSBkYXRhLnRvKG9wdGlvbilcbiAgICAgICAgZWxzZSBpZiAoYWN0aW9uKSBkYXRhW2FjdGlvbl0oKVxuICAgICAgICBlbHNlIGlmIChvcHRpb25zLmludGVydmFsKSBkYXRhLnBhdXNlKCkuY3ljbGUoKVxuICAgICAgfSlcbiAgICB9XG5cbiAgICB2YXIgb2xkID0gJC5mbi5jYXJvdXNlbFxuXG4gICAgJC5mbi5jYXJvdXNlbCAgICAgICAgICAgICA9IFBsdWdpblxuICAgICQuZm4uY2Fyb3VzZWwuQ29uc3RydWN0b3IgPSBDYXJvdXNlbFxuXG5cbiAgICAvLyBDQVJPVVNFTCBOTyBDT05GTElDVFxuICAgIC8vID09PT09PT09PT09PT09PT09PT09XG5cbiAgICAkLmZuLmNhcm91c2VsLm5vQ29uZmxpY3QgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAkLmZuLmNhcm91c2VsID0gb2xkXG4gICAgICByZXR1cm4gdGhpc1xuICAgIH1cblxuXG4gICAgLy8gQ0FST1VTRUwgREFUQS1BUElcbiAgICAvLyA9PT09PT09PT09PT09PT09PVxuXG4gICAgdmFyIGNsaWNrSGFuZGxlciA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICB2YXIgaHJlZlxuICAgICAgdmFyICR0aGlzICAgPSAkKHRoaXMpXG4gICAgICB2YXIgJHRhcmdldCA9ICQoJHRoaXMuYXR0cignZGF0YS10YXJnZXQnKSB8fCAoaHJlZiA9ICR0aGlzLmF0dHIoJ2hyZWYnKSkgJiYgaHJlZi5yZXBsYWNlKC8uKig/PSNbXlxcc10rJCkvLCAnJykpIC8vIHN0cmlwIGZvciBpZTdcbiAgICAgIGlmICghJHRhcmdldC5oYXNDbGFzcygnY2Fyb3VzZWwnKSkgcmV0dXJuXG4gICAgICB2YXIgb3B0aW9ucyA9ICQuZXh0ZW5kKHt9LCAkdGFyZ2V0LmRhdGEoKSwgJHRoaXMuZGF0YSgpKVxuICAgICAgdmFyIHNsaWRlSW5kZXggPSAkdGhpcy5hdHRyKCdkYXRhLXNsaWRlLXRvJylcbiAgICAgIGlmIChzbGlkZUluZGV4KSBvcHRpb25zLmludGVydmFsID0gZmFsc2VcblxuICAgICAgUGx1Z2luLmNhbGwoJHRhcmdldCwgb3B0aW9ucylcblxuICAgICAgaWYgKHNsaWRlSW5kZXgpIHtcbiAgICAgICAgJHRhcmdldC5kYXRhKCdicy5jYXJvdXNlbCcpLnRvKHNsaWRlSW5kZXgpXG4gICAgICB9XG5cbiAgICAgIGUucHJldmVudERlZmF1bHQoKVxuICAgIH1cblxuICAgICQoZG9jdW1lbnQpXG4gICAgICAub24oJ2NsaWNrLmJzLmNhcm91c2VsLmRhdGEtYXBpJywgJ1tkYXRhLXNsaWRlXScsIGNsaWNrSGFuZGxlcilcbiAgICAgIC5vbignY2xpY2suYnMuY2Fyb3VzZWwuZGF0YS1hcGknLCAnW2RhdGEtc2xpZGUtdG9dJywgY2xpY2tIYW5kbGVyKVxuXG4gICAgJCh3aW5kb3cpLm9uKCdsb2FkJywgZnVuY3Rpb24gKCkge1xuICAgICAgJCgnW2RhdGEtcmlkZT1cImNhcm91c2VsXCJdJykuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciAkY2Fyb3VzZWwgPSAkKHRoaXMpXG4gICAgICAgIFBsdWdpbi5jYWxsKCRjYXJvdXNlbCwgJGNhcm91c2VsLmRhdGEoKSlcbiAgICAgIH0pXG4gICAgfSlcblxuICB9KGpRdWVyeSk7XG5cbiAgLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICogQm9vdHN0cmFwOiBjb2xsYXBzZS5qcyB2My4zLjJcbiAgKiBodHRwOi8vZ2V0Ym9vdHN0cmFwLmNvbS9qYXZhc2NyaXB0LyNjb2xsYXBzZVxuICAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAqIENvcHlyaWdodCAyMDExLTIwMTUgVHdpdHRlciwgSW5jLlxuICAqIExpY2Vuc2VkIHVuZGVyIE1JVCAoaHR0cHM6Ly9naXRodWIuY29tL3R3YnMvYm9vdHN0cmFwL2Jsb2IvbWFzdGVyL0xJQ0VOU0UpXG4gICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXG5cblxuICArZnVuY3Rpb24gKCQpIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICAvLyBDT0xMQVBTRSBQVUJMSUMgQ0xBU1MgREVGSU5JVElPTlxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgICB2YXIgQ29sbGFwc2UgPSBmdW5jdGlvbiAoZWxlbWVudCwgb3B0aW9ucykge1xuICAgICAgdGhpcy4kZWxlbWVudCAgICAgID0gJChlbGVtZW50KVxuICAgICAgdGhpcy5vcHRpb25zICAgICAgID0gJC5leHRlbmQoe30sIENvbGxhcHNlLkRFRkFVTFRTLCBvcHRpb25zKVxuICAgICAgdGhpcy4kdHJpZ2dlciAgICAgID0gJCh0aGlzLm9wdGlvbnMudHJpZ2dlcikuZmlsdGVyKCdbaHJlZj1cIiMnICsgZWxlbWVudC5pZCArICdcIl0sIFtkYXRhLXRhcmdldD1cIiMnICsgZWxlbWVudC5pZCArICdcIl0nKVxuICAgICAgdGhpcy50cmFuc2l0aW9uaW5nID0gbnVsbFxuXG4gICAgICBpZiAodGhpcy5vcHRpb25zLnBhcmVudCkge1xuICAgICAgICB0aGlzLiRwYXJlbnQgPSB0aGlzLmdldFBhcmVudCgpXG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLmFkZEFyaWFBbmRDb2xsYXBzZWRDbGFzcyh0aGlzLiRlbGVtZW50LCB0aGlzLiR0cmlnZ2VyKVxuICAgICAgfVxuXG4gICAgICBpZiAodGhpcy5vcHRpb25zLnRvZ2dsZSkgdGhpcy50b2dnbGUoKVxuICAgIH1cblxuICAgIENvbGxhcHNlLlZFUlNJT04gID0gJzMuMy4yJ1xuXG4gICAgQ29sbGFwc2UuVFJBTlNJVElPTl9EVVJBVElPTiA9IDM1MFxuXG4gICAgQ29sbGFwc2UuREVGQVVMVFMgPSB7XG4gICAgICB0b2dnbGU6IHRydWUsXG4gICAgICB0cmlnZ2VyOiAnW2RhdGEtdG9nZ2xlPVwiY29sbGFwc2VcIl0nXG4gICAgfVxuXG4gICAgQ29sbGFwc2UucHJvdG90eXBlLmRpbWVuc2lvbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBoYXNXaWR0aCA9IHRoaXMuJGVsZW1lbnQuaGFzQ2xhc3MoJ3dpZHRoJylcbiAgICAgIHJldHVybiBoYXNXaWR0aCA/ICd3aWR0aCcgOiAnaGVpZ2h0J1xuICAgIH1cblxuICAgIENvbGxhcHNlLnByb3RvdHlwZS5zaG93ID0gZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKHRoaXMudHJhbnNpdGlvbmluZyB8fCB0aGlzLiRlbGVtZW50Lmhhc0NsYXNzKCdpbicpKSByZXR1cm5cblxuICAgICAgdmFyIGFjdGl2ZXNEYXRhXG4gICAgICB2YXIgYWN0aXZlcyA9IHRoaXMuJHBhcmVudCAmJiB0aGlzLiRwYXJlbnQuY2hpbGRyZW4oJy5wYW5lbCcpLmNoaWxkcmVuKCcuaW4sIC5jb2xsYXBzaW5nJylcblxuICAgICAgaWYgKGFjdGl2ZXMgJiYgYWN0aXZlcy5sZW5ndGgpIHtcbiAgICAgICAgYWN0aXZlc0RhdGEgPSBhY3RpdmVzLmRhdGEoJ2JzLmNvbGxhcHNlJylcbiAgICAgICAgaWYgKGFjdGl2ZXNEYXRhICYmIGFjdGl2ZXNEYXRhLnRyYW5zaXRpb25pbmcpIHJldHVyblxuICAgICAgfVxuXG4gICAgICB2YXIgc3RhcnRFdmVudCA9ICQuRXZlbnQoJ3Nob3cuYnMuY29sbGFwc2UnKVxuICAgICAgdGhpcy4kZWxlbWVudC50cmlnZ2VyKHN0YXJ0RXZlbnQpXG4gICAgICBpZiAoc3RhcnRFdmVudC5pc0RlZmF1bHRQcmV2ZW50ZWQoKSkgcmV0dXJuXG5cbiAgICAgIGlmIChhY3RpdmVzICYmIGFjdGl2ZXMubGVuZ3RoKSB7XG4gICAgICAgIFBsdWdpbi5jYWxsKGFjdGl2ZXMsICdoaWRlJylcbiAgICAgICAgYWN0aXZlc0RhdGEgfHwgYWN0aXZlcy5kYXRhKCdicy5jb2xsYXBzZScsIG51bGwpXG4gICAgICB9XG5cbiAgICAgIHZhciBkaW1lbnNpb24gPSB0aGlzLmRpbWVuc2lvbigpXG5cbiAgICAgIHRoaXMuJGVsZW1lbnRcbiAgICAgICAgLnJlbW92ZUNsYXNzKCdjb2xsYXBzZScpXG4gICAgICAgIC5hZGRDbGFzcygnY29sbGFwc2luZycpW2RpbWVuc2lvbl0oMClcbiAgICAgICAgLmF0dHIoJ2FyaWEtZXhwYW5kZWQnLCB0cnVlKVxuXG4gICAgICB0aGlzLiR0cmlnZ2VyXG4gICAgICAgIC5yZW1vdmVDbGFzcygnY29sbGFwc2VkJylcbiAgICAgICAgLmF0dHIoJ2FyaWEtZXhwYW5kZWQnLCB0cnVlKVxuXG4gICAgICB0aGlzLnRyYW5zaXRpb25pbmcgPSAxXG5cbiAgICAgIHZhciBjb21wbGV0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy4kZWxlbWVudFxuICAgICAgICAgIC5yZW1vdmVDbGFzcygnY29sbGFwc2luZycpXG4gICAgICAgICAgLmFkZENsYXNzKCdjb2xsYXBzZSBpbicpW2RpbWVuc2lvbl0oJycpXG4gICAgICAgIHRoaXMudHJhbnNpdGlvbmluZyA9IDBcbiAgICAgICAgdGhpcy4kZWxlbWVudFxuICAgICAgICAgIC50cmlnZ2VyKCdzaG93bi5icy5jb2xsYXBzZScpXG4gICAgICB9XG5cbiAgICAgIGlmICghJC5zdXBwb3J0LnRyYW5zaXRpb24pIHJldHVybiBjb21wbGV0ZS5jYWxsKHRoaXMpXG5cbiAgICAgIHZhciBzY3JvbGxTaXplID0gJC5jYW1lbENhc2UoWydzY3JvbGwnLCBkaW1lbnNpb25dLmpvaW4oJy0nKSlcblxuICAgICAgdGhpcy4kZWxlbWVudFxuICAgICAgICAub25lKCdic1RyYW5zaXRpb25FbmQnLCAkLnByb3h5KGNvbXBsZXRlLCB0aGlzKSlcbiAgICAgICAgLmVtdWxhdGVUcmFuc2l0aW9uRW5kKENvbGxhcHNlLlRSQU5TSVRJT05fRFVSQVRJT04pW2RpbWVuc2lvbl0odGhpcy4kZWxlbWVudFswXVtzY3JvbGxTaXplXSlcbiAgICB9XG5cbiAgICBDb2xsYXBzZS5wcm90b3R5cGUuaGlkZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmICh0aGlzLnRyYW5zaXRpb25pbmcgfHwgIXRoaXMuJGVsZW1lbnQuaGFzQ2xhc3MoJ2luJykpIHJldHVyblxuXG4gICAgICB2YXIgc3RhcnRFdmVudCA9ICQuRXZlbnQoJ2hpZGUuYnMuY29sbGFwc2UnKVxuICAgICAgdGhpcy4kZWxlbWVudC50cmlnZ2VyKHN0YXJ0RXZlbnQpXG4gICAgICBpZiAoc3RhcnRFdmVudC5pc0RlZmF1bHRQcmV2ZW50ZWQoKSkgcmV0dXJuXG5cbiAgICAgIHZhciBkaW1lbnNpb24gPSB0aGlzLmRpbWVuc2lvbigpXG5cbiAgICAgIHRoaXMuJGVsZW1lbnRbZGltZW5zaW9uXSh0aGlzLiRlbGVtZW50W2RpbWVuc2lvbl0oKSlbMF0ub2Zmc2V0SGVpZ2h0XG5cbiAgICAgIHRoaXMuJGVsZW1lbnRcbiAgICAgICAgLmFkZENsYXNzKCdjb2xsYXBzaW5nJylcbiAgICAgICAgLnJlbW92ZUNsYXNzKCdjb2xsYXBzZSBpbicpXG4gICAgICAgIC5hdHRyKCdhcmlhLWV4cGFuZGVkJywgZmFsc2UpXG5cbiAgICAgIHRoaXMuJHRyaWdnZXJcbiAgICAgICAgLmFkZENsYXNzKCdjb2xsYXBzZWQnKVxuICAgICAgICAuYXR0cignYXJpYS1leHBhbmRlZCcsIGZhbHNlKVxuXG4gICAgICB0aGlzLnRyYW5zaXRpb25pbmcgPSAxXG5cbiAgICAgIHZhciBjb21wbGV0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy50cmFuc2l0aW9uaW5nID0gMFxuICAgICAgICB0aGlzLiRlbGVtZW50XG4gICAgICAgICAgLnJlbW92ZUNsYXNzKCdjb2xsYXBzaW5nJylcbiAgICAgICAgICAuYWRkQ2xhc3MoJ2NvbGxhcHNlJylcbiAgICAgICAgICAudHJpZ2dlcignaGlkZGVuLmJzLmNvbGxhcHNlJylcbiAgICAgIH1cblxuICAgICAgaWYgKCEkLnN1cHBvcnQudHJhbnNpdGlvbikgcmV0dXJuIGNvbXBsZXRlLmNhbGwodGhpcylcblxuICAgICAgdGhpcy4kZWxlbWVudFxuICAgICAgICBbZGltZW5zaW9uXSgwKVxuICAgICAgICAub25lKCdic1RyYW5zaXRpb25FbmQnLCAkLnByb3h5KGNvbXBsZXRlLCB0aGlzKSlcbiAgICAgICAgLmVtdWxhdGVUcmFuc2l0aW9uRW5kKENvbGxhcHNlLlRSQU5TSVRJT05fRFVSQVRJT04pXG4gICAgfVxuXG4gICAgQ29sbGFwc2UucHJvdG90eXBlLnRvZ2dsZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHRoaXNbdGhpcy4kZWxlbWVudC5oYXNDbGFzcygnaW4nKSA/ICdoaWRlJyA6ICdzaG93J10oKVxuICAgIH1cblxuICAgIENvbGxhcHNlLnByb3RvdHlwZS5nZXRQYXJlbnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gJCh0aGlzLm9wdGlvbnMucGFyZW50KVxuICAgICAgICAuZmluZCgnW2RhdGEtdG9nZ2xlPVwiY29sbGFwc2VcIl1bZGF0YS1wYXJlbnQ9XCInICsgdGhpcy5vcHRpb25zLnBhcmVudCArICdcIl0nKVxuICAgICAgICAuZWFjaCgkLnByb3h5KGZ1bmN0aW9uIChpLCBlbGVtZW50KSB7XG4gICAgICAgICAgdmFyICRlbGVtZW50ID0gJChlbGVtZW50KVxuICAgICAgICAgIHRoaXMuYWRkQXJpYUFuZENvbGxhcHNlZENsYXNzKGdldFRhcmdldEZyb21UcmlnZ2VyKCRlbGVtZW50KSwgJGVsZW1lbnQpXG4gICAgICAgIH0sIHRoaXMpKVxuICAgICAgICAuZW5kKClcbiAgICB9XG5cbiAgICBDb2xsYXBzZS5wcm90b3R5cGUuYWRkQXJpYUFuZENvbGxhcHNlZENsYXNzID0gZnVuY3Rpb24gKCRlbGVtZW50LCAkdHJpZ2dlcikge1xuICAgICAgdmFyIGlzT3BlbiA9ICRlbGVtZW50Lmhhc0NsYXNzKCdpbicpXG5cbiAgICAgICRlbGVtZW50LmF0dHIoJ2FyaWEtZXhwYW5kZWQnLCBpc09wZW4pXG4gICAgICAkdHJpZ2dlclxuICAgICAgICAudG9nZ2xlQ2xhc3MoJ2NvbGxhcHNlZCcsICFpc09wZW4pXG4gICAgICAgIC5hdHRyKCdhcmlhLWV4cGFuZGVkJywgaXNPcGVuKVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGdldFRhcmdldEZyb21UcmlnZ2VyKCR0cmlnZ2VyKSB7XG4gICAgICB2YXIgaHJlZlxuICAgICAgdmFyIHRhcmdldCA9ICR0cmlnZ2VyLmF0dHIoJ2RhdGEtdGFyZ2V0JylcbiAgICAgICAgfHwgKGhyZWYgPSAkdHJpZ2dlci5hdHRyKCdocmVmJykpICYmIGhyZWYucmVwbGFjZSgvLiooPz0jW15cXHNdKyQpLywgJycpIC8vIHN0cmlwIGZvciBpZTdcblxuICAgICAgcmV0dXJuICQodGFyZ2V0KVxuICAgIH1cblxuXG4gICAgLy8gQ09MTEFQU0UgUExVR0lOIERFRklOSVRJT05cbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4gICAgZnVuY3Rpb24gUGx1Z2luKG9wdGlvbikge1xuICAgICAgcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciAkdGhpcyAgID0gJCh0aGlzKVxuICAgICAgICB2YXIgZGF0YSAgICA9ICR0aGlzLmRhdGEoJ2JzLmNvbGxhcHNlJylcbiAgICAgICAgdmFyIG9wdGlvbnMgPSAkLmV4dGVuZCh7fSwgQ29sbGFwc2UuREVGQVVMVFMsICR0aGlzLmRhdGEoKSwgdHlwZW9mIG9wdGlvbiA9PSAnb2JqZWN0JyAmJiBvcHRpb24pXG5cbiAgICAgICAgaWYgKCFkYXRhICYmIG9wdGlvbnMudG9nZ2xlICYmIG9wdGlvbiA9PSAnc2hvdycpIG9wdGlvbnMudG9nZ2xlID0gZmFsc2VcbiAgICAgICAgaWYgKCFkYXRhKSAkdGhpcy5kYXRhKCdicy5jb2xsYXBzZScsIChkYXRhID0gbmV3IENvbGxhcHNlKHRoaXMsIG9wdGlvbnMpKSlcbiAgICAgICAgaWYgKHR5cGVvZiBvcHRpb24gPT0gJ3N0cmluZycpIGRhdGFbb3B0aW9uXSgpXG4gICAgICB9KVxuICAgIH1cblxuICAgIHZhciBvbGQgPSAkLmZuLmNvbGxhcHNlXG5cbiAgICAkLmZuLmNvbGxhcHNlICAgICAgICAgICAgID0gUGx1Z2luXG4gICAgJC5mbi5jb2xsYXBzZS5Db25zdHJ1Y3RvciA9IENvbGxhcHNlXG5cblxuICAgIC8vIENPTExBUFNFIE5PIENPTkZMSUNUXG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT1cblxuICAgICQuZm4uY29sbGFwc2Uubm9Db25mbGljdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICQuZm4uY29sbGFwc2UgPSBvbGRcbiAgICAgIHJldHVybiB0aGlzXG4gICAgfVxuXG5cbiAgICAvLyBDT0xMQVBTRSBEQVRBLUFQSVxuICAgIC8vID09PT09PT09PT09PT09PT09XG5cbiAgICAkKGRvY3VtZW50KS5vbignY2xpY2suYnMuY29sbGFwc2UuZGF0YS1hcGknLCAnW2RhdGEtdG9nZ2xlPVwiY29sbGFwc2VcIl0nLCBmdW5jdGlvbiAoZSkge1xuICAgICAgdmFyICR0aGlzICAgPSAkKHRoaXMpXG5cbiAgICAgIGlmICghJHRoaXMuYXR0cignZGF0YS10YXJnZXQnKSkgZS5wcmV2ZW50RGVmYXVsdCgpXG5cbiAgICAgIHZhciAkdGFyZ2V0ID0gZ2V0VGFyZ2V0RnJvbVRyaWdnZXIoJHRoaXMpXG4gICAgICB2YXIgZGF0YSAgICA9ICR0YXJnZXQuZGF0YSgnYnMuY29sbGFwc2UnKVxuICAgICAgdmFyIG9wdGlvbiAgPSBkYXRhID8gJ3RvZ2dsZScgOiAkLmV4dGVuZCh7fSwgJHRoaXMuZGF0YSgpLCB7IHRyaWdnZXI6IHRoaXMgfSlcblxuICAgICAgUGx1Z2luLmNhbGwoJHRhcmdldCwgb3B0aW9uKVxuICAgIH0pXG5cbiAgfShqUXVlcnkpO1xuXG4gIC8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAqIEJvb3RzdHJhcDogZHJvcGRvd24uanMgdjMuMy4yXG4gICogaHR0cDovL2dldGJvb3RzdHJhcC5jb20vamF2YXNjcmlwdC8jZHJvcGRvd25zXG4gICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICogQ29weXJpZ2h0IDIwMTEtMjAxNSBUd2l0dGVyLCBJbmMuXG4gICogTGljZW5zZWQgdW5kZXIgTUlUIChodHRwczovL2dpdGh1Yi5jb20vdHdicy9ib290c3RyYXAvYmxvYi9tYXN0ZXIvTElDRU5TRSlcbiAgKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cblxuXG4gICtmdW5jdGlvbiAoJCkge1xuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIC8vIERST1BET1dOIENMQVNTIERFRklOSVRJT05cbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgICB2YXIgYmFja2Ryb3AgPSAnLmRyb3Bkb3duLWJhY2tkcm9wJ1xuICAgIHZhciB0b2dnbGUgICA9ICdbZGF0YS10b2dnbGU9XCJkcm9wZG93blwiXSdcbiAgICB2YXIgRHJvcGRvd24gPSBmdW5jdGlvbiAoZWxlbWVudCkge1xuICAgICAgJChlbGVtZW50KS5vbignY2xpY2suYnMuZHJvcGRvd24nLCB0aGlzLnRvZ2dsZSlcbiAgICB9XG5cbiAgICBEcm9wZG93bi5WRVJTSU9OID0gJzMuMy4yJ1xuXG4gICAgRHJvcGRvd24ucHJvdG90eXBlLnRvZ2dsZSA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICB2YXIgJHRoaXMgPSAkKHRoaXMpXG5cbiAgICAgIGlmICgkdGhpcy5pcygnLmRpc2FibGVkLCA6ZGlzYWJsZWQnKSkgcmV0dXJuXG5cbiAgICAgIHZhciAkcGFyZW50ICA9IGdldFBhcmVudCgkdGhpcylcbiAgICAgIHZhciBpc0FjdGl2ZSA9ICRwYXJlbnQuaGFzQ2xhc3MoJ29wZW4nKVxuXG4gICAgICBjbGVhck1lbnVzKClcblxuICAgICAgaWYgKCFpc0FjdGl2ZSkge1xuICAgICAgICBpZiAoJ29udG91Y2hzdGFydCcgaW4gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50ICYmICEkcGFyZW50LmNsb3Nlc3QoJy5uYXZiYXItbmF2JykubGVuZ3RoKSB7XG4gICAgICAgICAgLy8gaWYgbW9iaWxlIHdlIHVzZSBhIGJhY2tkcm9wIGJlY2F1c2UgY2xpY2sgZXZlbnRzIGRvbid0IGRlbGVnYXRlXG4gICAgICAgICAgJCgnPGRpdiBjbGFzcz1cImRyb3Bkb3duLWJhY2tkcm9wXCIvPicpLmluc2VydEFmdGVyKCQodGhpcykpLm9uKCdjbGljaycsIGNsZWFyTWVudXMpXG4gICAgICAgIH1cblxuICAgICAgICB2YXIgcmVsYXRlZFRhcmdldCA9IHsgcmVsYXRlZFRhcmdldDogdGhpcyB9XG4gICAgICAgICRwYXJlbnQudHJpZ2dlcihlID0gJC5FdmVudCgnc2hvdy5icy5kcm9wZG93bicsIHJlbGF0ZWRUYXJnZXQpKVxuXG4gICAgICAgIGlmIChlLmlzRGVmYXVsdFByZXZlbnRlZCgpKSByZXR1cm5cblxuICAgICAgICAkdGhpc1xuICAgICAgICAgIC50cmlnZ2VyKCdmb2N1cycpXG4gICAgICAgICAgLmF0dHIoJ2FyaWEtZXhwYW5kZWQnLCAndHJ1ZScpXG5cbiAgICAgICAgJHBhcmVudFxuICAgICAgICAgIC50b2dnbGVDbGFzcygnb3BlbicpXG4gICAgICAgICAgLnRyaWdnZXIoJ3Nob3duLmJzLmRyb3Bkb3duJywgcmVsYXRlZFRhcmdldClcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGZhbHNlXG4gICAgfVxuXG4gICAgRHJvcGRvd24ucHJvdG90eXBlLmtleWRvd24gPSBmdW5jdGlvbiAoZSkge1xuICAgICAgaWYgKCEvKDM4fDQwfDI3fDMyKS8udGVzdChlLndoaWNoKSB8fCAvaW5wdXR8dGV4dGFyZWEvaS50ZXN0KGUudGFyZ2V0LnRhZ05hbWUpKSByZXR1cm5cblxuICAgICAgdmFyICR0aGlzID0gJCh0aGlzKVxuXG4gICAgICBlLnByZXZlbnREZWZhdWx0KClcbiAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKClcblxuICAgICAgaWYgKCR0aGlzLmlzKCcuZGlzYWJsZWQsIDpkaXNhYmxlZCcpKSByZXR1cm5cblxuICAgICAgdmFyICRwYXJlbnQgID0gZ2V0UGFyZW50KCR0aGlzKVxuICAgICAgdmFyIGlzQWN0aXZlID0gJHBhcmVudC5oYXNDbGFzcygnb3BlbicpXG5cbiAgICAgIGlmICgoIWlzQWN0aXZlICYmIGUud2hpY2ggIT0gMjcpIHx8IChpc0FjdGl2ZSAmJiBlLndoaWNoID09IDI3KSkge1xuICAgICAgICBpZiAoZS53aGljaCA9PSAyNykgJHBhcmVudC5maW5kKHRvZ2dsZSkudHJpZ2dlcignZm9jdXMnKVxuICAgICAgICByZXR1cm4gJHRoaXMudHJpZ2dlcignY2xpY2snKVxuICAgICAgfVxuXG4gICAgICB2YXIgZGVzYyA9ICcgbGk6bm90KC5kaXZpZGVyKTp2aXNpYmxlIGEnXG4gICAgICB2YXIgJGl0ZW1zID0gJHBhcmVudC5maW5kKCdbcm9sZT1cIm1lbnVcIl0nICsgZGVzYyArICcsIFtyb2xlPVwibGlzdGJveFwiXScgKyBkZXNjKVxuXG4gICAgICBpZiAoISRpdGVtcy5sZW5ndGgpIHJldHVyblxuXG4gICAgICB2YXIgaW5kZXggPSAkaXRlbXMuaW5kZXgoZS50YXJnZXQpXG5cbiAgICAgIGlmIChlLndoaWNoID09IDM4ICYmIGluZGV4ID4gMCkgICAgICAgICAgICAgICAgIGluZGV4LS0gICAgICAgICAgICAgICAgICAgICAgICAvLyB1cFxuICAgICAgaWYgKGUud2hpY2ggPT0gNDAgJiYgaW5kZXggPCAkaXRlbXMubGVuZ3RoIC0gMSkgaW5kZXgrKyAgICAgICAgICAgICAgICAgICAgICAgIC8vIGRvd25cbiAgICAgIGlmICghfmluZGV4KSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5kZXggPSAwXG5cbiAgICAgICRpdGVtcy5lcShpbmRleCkudHJpZ2dlcignZm9jdXMnKVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGNsZWFyTWVudXMoZSkge1xuICAgICAgaWYgKGUgJiYgZS53aGljaCA9PT0gMykgcmV0dXJuXG4gICAgICAkKGJhY2tkcm9wKS5yZW1vdmUoKVxuICAgICAgJCh0b2dnbGUpLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgJHRoaXMgICAgICAgICA9ICQodGhpcylcbiAgICAgICAgdmFyICRwYXJlbnQgICAgICAgPSBnZXRQYXJlbnQoJHRoaXMpXG4gICAgICAgIHZhciByZWxhdGVkVGFyZ2V0ID0geyByZWxhdGVkVGFyZ2V0OiB0aGlzIH1cblxuICAgICAgICBpZiAoISRwYXJlbnQuaGFzQ2xhc3MoJ29wZW4nKSkgcmV0dXJuXG5cbiAgICAgICAgJHBhcmVudC50cmlnZ2VyKGUgPSAkLkV2ZW50KCdoaWRlLmJzLmRyb3Bkb3duJywgcmVsYXRlZFRhcmdldCkpXG5cbiAgICAgICAgaWYgKGUuaXNEZWZhdWx0UHJldmVudGVkKCkpIHJldHVyblxuXG4gICAgICAgICR0aGlzLmF0dHIoJ2FyaWEtZXhwYW5kZWQnLCAnZmFsc2UnKVxuICAgICAgICAkcGFyZW50LnJlbW92ZUNsYXNzKCdvcGVuJykudHJpZ2dlcignaGlkZGVuLmJzLmRyb3Bkb3duJywgcmVsYXRlZFRhcmdldClcbiAgICAgIH0pXG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZ2V0UGFyZW50KCR0aGlzKSB7XG4gICAgICB2YXIgc2VsZWN0b3IgPSAkdGhpcy5hdHRyKCdkYXRhLXRhcmdldCcpXG5cbiAgICAgIGlmICghc2VsZWN0b3IpIHtcbiAgICAgICAgc2VsZWN0b3IgPSAkdGhpcy5hdHRyKCdocmVmJylcbiAgICAgICAgc2VsZWN0b3IgPSBzZWxlY3RvciAmJiAvI1tBLVphLXpdLy50ZXN0KHNlbGVjdG9yKSAmJiBzZWxlY3Rvci5yZXBsYWNlKC8uKig/PSNbXlxcc10qJCkvLCAnJykgLy8gc3RyaXAgZm9yIGllN1xuICAgICAgfVxuXG4gICAgICB2YXIgJHBhcmVudCA9IHNlbGVjdG9yICYmICQoc2VsZWN0b3IpXG5cbiAgICAgIHJldHVybiAkcGFyZW50ICYmICRwYXJlbnQubGVuZ3RoID8gJHBhcmVudCA6ICR0aGlzLnBhcmVudCgpXG4gICAgfVxuXG5cbiAgICAvLyBEUk9QRE9XTiBQTFVHSU4gREVGSU5JVElPTlxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgICBmdW5jdGlvbiBQbHVnaW4ob3B0aW9uKSB7XG4gICAgICByZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyICR0aGlzID0gJCh0aGlzKVxuICAgICAgICB2YXIgZGF0YSAgPSAkdGhpcy5kYXRhKCdicy5kcm9wZG93bicpXG5cbiAgICAgICAgaWYgKCFkYXRhKSAkdGhpcy5kYXRhKCdicy5kcm9wZG93bicsIChkYXRhID0gbmV3IERyb3Bkb3duKHRoaXMpKSlcbiAgICAgICAgaWYgKHR5cGVvZiBvcHRpb24gPT0gJ3N0cmluZycpIGRhdGFbb3B0aW9uXS5jYWxsKCR0aGlzKVxuICAgICAgfSlcbiAgICB9XG5cbiAgICB2YXIgb2xkID0gJC5mbi5kcm9wZG93blxuXG4gICAgJC5mbi5kcm9wZG93biAgICAgICAgICAgICA9IFBsdWdpblxuICAgICQuZm4uZHJvcGRvd24uQ29uc3RydWN0b3IgPSBEcm9wZG93blxuXG5cbiAgICAvLyBEUk9QRE9XTiBOTyBDT05GTElDVFxuICAgIC8vID09PT09PT09PT09PT09PT09PT09XG5cbiAgICAkLmZuLmRyb3Bkb3duLm5vQ29uZmxpY3QgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAkLmZuLmRyb3Bkb3duID0gb2xkXG4gICAgICByZXR1cm4gdGhpc1xuICAgIH1cblxuXG4gICAgLy8gQVBQTFkgVE8gU1RBTkRBUkQgRFJPUERPV04gRUxFTUVOVFNcbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4gICAgJChkb2N1bWVudClcbiAgICAgIC5vbignY2xpY2suYnMuZHJvcGRvd24uZGF0YS1hcGknLCBjbGVhck1lbnVzKVxuICAgICAgLm9uKCdjbGljay5icy5kcm9wZG93bi5kYXRhLWFwaScsICcuZHJvcGRvd24gZm9ybScsIGZ1bmN0aW9uIChlKSB7IGUuc3RvcFByb3BhZ2F0aW9uKCkgfSlcbiAgICAgIC5vbignY2xpY2suYnMuZHJvcGRvd24uZGF0YS1hcGknLCB0b2dnbGUsIERyb3Bkb3duLnByb3RvdHlwZS50b2dnbGUpXG4gICAgICAub24oJ2tleWRvd24uYnMuZHJvcGRvd24uZGF0YS1hcGknLCB0b2dnbGUsIERyb3Bkb3duLnByb3RvdHlwZS5rZXlkb3duKVxuICAgICAgLm9uKCdrZXlkb3duLmJzLmRyb3Bkb3duLmRhdGEtYXBpJywgJ1tyb2xlPVwibWVudVwiXScsIERyb3Bkb3duLnByb3RvdHlwZS5rZXlkb3duKVxuICAgICAgLm9uKCdrZXlkb3duLmJzLmRyb3Bkb3duLmRhdGEtYXBpJywgJ1tyb2xlPVwibGlzdGJveFwiXScsIERyb3Bkb3duLnByb3RvdHlwZS5rZXlkb3duKVxuXG4gIH0oalF1ZXJ5KTtcblxuICAvKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgKiBCb290c3RyYXA6IG1vZGFsLmpzIHYzLjMuMlxuICAqIGh0dHA6Ly9nZXRib290c3RyYXAuY29tL2phdmFzY3JpcHQvI21vZGFsc1xuICAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAqIENvcHlyaWdodCAyMDExLTIwMTUgVHdpdHRlciwgSW5jLlxuICAqIExpY2Vuc2VkIHVuZGVyIE1JVCAoaHR0cHM6Ly9naXRodWIuY29tL3R3YnMvYm9vdHN0cmFwL2Jsb2IvbWFzdGVyL0xJQ0VOU0UpXG4gICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXG5cblxuICArZnVuY3Rpb24gKCQpIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICAvLyBNT0RBTCBDTEFTUyBERUZJTklUSU9OXG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PVxuXG4gICAgdmFyIE1vZGFsID0gZnVuY3Rpb24gKGVsZW1lbnQsIG9wdGlvbnMpIHtcbiAgICAgIHRoaXMub3B0aW9ucyAgICAgICAgPSBvcHRpb25zXG4gICAgICB0aGlzLiRib2R5ICAgICAgICAgID0gJChkb2N1bWVudC5ib2R5KVxuICAgICAgdGhpcy4kZWxlbWVudCAgICAgICA9ICQoZWxlbWVudClcbiAgICAgIHRoaXMuJGJhY2tkcm9wICAgICAgPVxuICAgICAgdGhpcy5pc1Nob3duICAgICAgICA9IG51bGxcbiAgICAgIHRoaXMuc2Nyb2xsYmFyV2lkdGggPSAwXG5cbiAgICAgIGlmICh0aGlzLm9wdGlvbnMucmVtb3RlKSB7XG4gICAgICAgIHRoaXMuJGVsZW1lbnRcbiAgICAgICAgICAuZmluZCgnLm1vZGFsLWNvbnRlbnQnKVxuICAgICAgICAgIC5sb2FkKHRoaXMub3B0aW9ucy5yZW1vdGUsICQucHJveHkoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdGhpcy4kZWxlbWVudC50cmlnZ2VyKCdsb2FkZWQuYnMubW9kYWwnKVxuICAgICAgICAgIH0sIHRoaXMpKVxuICAgICAgfVxuICAgIH1cblxuICAgIE1vZGFsLlZFUlNJT04gID0gJzMuMy4yJ1xuXG4gICAgTW9kYWwuVFJBTlNJVElPTl9EVVJBVElPTiA9IDMwMFxuICAgIE1vZGFsLkJBQ0tEUk9QX1RSQU5TSVRJT05fRFVSQVRJT04gPSAxNTBcblxuICAgIE1vZGFsLkRFRkFVTFRTID0ge1xuICAgICAgYmFja2Ryb3A6IHRydWUsXG4gICAgICBrZXlib2FyZDogdHJ1ZSxcbiAgICAgIHNob3c6IHRydWVcbiAgICB9XG5cbiAgICBNb2RhbC5wcm90b3R5cGUudG9nZ2xlID0gZnVuY3Rpb24gKF9yZWxhdGVkVGFyZ2V0KSB7XG4gICAgICByZXR1cm4gdGhpcy5pc1Nob3duID8gdGhpcy5oaWRlKCkgOiB0aGlzLnNob3coX3JlbGF0ZWRUYXJnZXQpXG4gICAgfVxuXG4gICAgTW9kYWwucHJvdG90eXBlLnNob3cgPSBmdW5jdGlvbiAoX3JlbGF0ZWRUYXJnZXQpIHtcbiAgICAgIHZhciB0aGF0ID0gdGhpc1xuICAgICAgdmFyIGUgICAgPSAkLkV2ZW50KCdzaG93LmJzLm1vZGFsJywgeyByZWxhdGVkVGFyZ2V0OiBfcmVsYXRlZFRhcmdldCB9KVxuXG4gICAgICB0aGlzLiRlbGVtZW50LnRyaWdnZXIoZSlcblxuICAgICAgaWYgKHRoaXMuaXNTaG93biB8fCBlLmlzRGVmYXVsdFByZXZlbnRlZCgpKSByZXR1cm5cblxuICAgICAgdGhpcy5pc1Nob3duID0gdHJ1ZVxuXG4gICAgICB0aGlzLmNoZWNrU2Nyb2xsYmFyKClcbiAgICAgIHRoaXMuc2V0U2Nyb2xsYmFyKClcbiAgICAgIHRoaXMuJGJvZHkuYWRkQ2xhc3MoJ21vZGFsLW9wZW4nKVxuXG4gICAgICB0aGlzLmVzY2FwZSgpXG4gICAgICB0aGlzLnJlc2l6ZSgpXG5cbiAgICAgIHRoaXMuJGVsZW1lbnQub24oJ2NsaWNrLmRpc21pc3MuYnMubW9kYWwnLCAnW2RhdGEtZGlzbWlzcz1cIm1vZGFsXCJdJywgJC5wcm94eSh0aGlzLmhpZGUsIHRoaXMpKVxuXG4gICAgICB0aGlzLmJhY2tkcm9wKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHRyYW5zaXRpb24gPSAkLnN1cHBvcnQudHJhbnNpdGlvbiAmJiB0aGF0LiRlbGVtZW50Lmhhc0NsYXNzKCdmYWRlJylcblxuICAgICAgICBpZiAoIXRoYXQuJGVsZW1lbnQucGFyZW50KCkubGVuZ3RoKSB7XG4gICAgICAgICAgdGhhdC4kZWxlbWVudC5hcHBlbmRUbyh0aGF0LiRib2R5KSAvLyBkb24ndCBtb3ZlIG1vZGFscyBkb20gcG9zaXRpb25cbiAgICAgICAgfVxuXG4gICAgICAgIHRoYXQuJGVsZW1lbnRcbiAgICAgICAgICAuc2hvdygpXG4gICAgICAgICAgLnNjcm9sbFRvcCgwKVxuXG4gICAgICAgIGlmICh0aGF0Lm9wdGlvbnMuYmFja2Ryb3ApIHRoYXQuYWRqdXN0QmFja2Ryb3AoKVxuICAgICAgICB0aGF0LmFkanVzdERpYWxvZygpXG5cbiAgICAgICAgaWYgKHRyYW5zaXRpb24pIHtcbiAgICAgICAgICB0aGF0LiRlbGVtZW50WzBdLm9mZnNldFdpZHRoIC8vIGZvcmNlIHJlZmxvd1xuICAgICAgICB9XG5cbiAgICAgICAgdGhhdC4kZWxlbWVudFxuICAgICAgICAgIC5hZGRDbGFzcygnaW4nKVxuICAgICAgICAgIC5hdHRyKCdhcmlhLWhpZGRlbicsIGZhbHNlKVxuXG4gICAgICAgIHRoYXQuZW5mb3JjZUZvY3VzKClcblxuICAgICAgICB2YXIgZSA9ICQuRXZlbnQoJ3Nob3duLmJzLm1vZGFsJywgeyByZWxhdGVkVGFyZ2V0OiBfcmVsYXRlZFRhcmdldCB9KVxuXG4gICAgICAgIHRyYW5zaXRpb24gP1xuICAgICAgICAgIHRoYXQuJGVsZW1lbnQuZmluZCgnLm1vZGFsLWRpYWxvZycpIC8vIHdhaXQgZm9yIG1vZGFsIHRvIHNsaWRlIGluXG4gICAgICAgICAgICAub25lKCdic1RyYW5zaXRpb25FbmQnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgIHRoYXQuJGVsZW1lbnQudHJpZ2dlcignZm9jdXMnKS50cmlnZ2VyKGUpXG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLmVtdWxhdGVUcmFuc2l0aW9uRW5kKE1vZGFsLlRSQU5TSVRJT05fRFVSQVRJT04pIDpcbiAgICAgICAgICB0aGF0LiRlbGVtZW50LnRyaWdnZXIoJ2ZvY3VzJykudHJpZ2dlcihlKVxuICAgICAgfSlcbiAgICB9XG5cbiAgICBNb2RhbC5wcm90b3R5cGUuaGlkZSA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICBpZiAoZSkgZS5wcmV2ZW50RGVmYXVsdCgpXG5cbiAgICAgIGUgPSAkLkV2ZW50KCdoaWRlLmJzLm1vZGFsJylcblxuICAgICAgdGhpcy4kZWxlbWVudC50cmlnZ2VyKGUpXG5cbiAgICAgIGlmICghdGhpcy5pc1Nob3duIHx8IGUuaXNEZWZhdWx0UHJldmVudGVkKCkpIHJldHVyblxuXG4gICAgICB0aGlzLmlzU2hvd24gPSBmYWxzZVxuXG4gICAgICB0aGlzLmVzY2FwZSgpXG4gICAgICB0aGlzLnJlc2l6ZSgpXG5cbiAgICAgICQoZG9jdW1lbnQpLm9mZignZm9jdXNpbi5icy5tb2RhbCcpXG5cbiAgICAgIHRoaXMuJGVsZW1lbnRcbiAgICAgICAgLnJlbW92ZUNsYXNzKCdpbicpXG4gICAgICAgIC5hdHRyKCdhcmlhLWhpZGRlbicsIHRydWUpXG4gICAgICAgIC5vZmYoJ2NsaWNrLmRpc21pc3MuYnMubW9kYWwnKVxuXG4gICAgICAkLnN1cHBvcnQudHJhbnNpdGlvbiAmJiB0aGlzLiRlbGVtZW50Lmhhc0NsYXNzKCdmYWRlJykgP1xuICAgICAgICB0aGlzLiRlbGVtZW50XG4gICAgICAgICAgLm9uZSgnYnNUcmFuc2l0aW9uRW5kJywgJC5wcm94eSh0aGlzLmhpZGVNb2RhbCwgdGhpcykpXG4gICAgICAgICAgLmVtdWxhdGVUcmFuc2l0aW9uRW5kKE1vZGFsLlRSQU5TSVRJT05fRFVSQVRJT04pIDpcbiAgICAgICAgdGhpcy5oaWRlTW9kYWwoKVxuICAgIH1cblxuICAgIE1vZGFsLnByb3RvdHlwZS5lbmZvcmNlRm9jdXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAkKGRvY3VtZW50KVxuICAgICAgICAub2ZmKCdmb2N1c2luLmJzLm1vZGFsJykgLy8gZ3VhcmQgYWdhaW5zdCBpbmZpbml0ZSBmb2N1cyBsb29wXG4gICAgICAgIC5vbignZm9jdXNpbi5icy5tb2RhbCcsICQucHJveHkoZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICBpZiAodGhpcy4kZWxlbWVudFswXSAhPT0gZS50YXJnZXQgJiYgIXRoaXMuJGVsZW1lbnQuaGFzKGUudGFyZ2V0KS5sZW5ndGgpIHtcbiAgICAgICAgICAgIHRoaXMuJGVsZW1lbnQudHJpZ2dlcignZm9jdXMnKVxuICAgICAgICAgIH1cbiAgICAgICAgfSwgdGhpcykpXG4gICAgfVxuXG4gICAgTW9kYWwucHJvdG90eXBlLmVzY2FwZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmICh0aGlzLmlzU2hvd24gJiYgdGhpcy5vcHRpb25zLmtleWJvYXJkKSB7XG4gICAgICAgIHRoaXMuJGVsZW1lbnQub24oJ2tleWRvd24uZGlzbWlzcy5icy5tb2RhbCcsICQucHJveHkoZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICBlLndoaWNoID09IDI3ICYmIHRoaXMuaGlkZSgpXG4gICAgICAgIH0sIHRoaXMpKVxuICAgICAgfSBlbHNlIGlmICghdGhpcy5pc1Nob3duKSB7XG4gICAgICAgIHRoaXMuJGVsZW1lbnQub2ZmKCdrZXlkb3duLmRpc21pc3MuYnMubW9kYWwnKVxuICAgICAgfVxuICAgIH1cblxuICAgIE1vZGFsLnByb3RvdHlwZS5yZXNpemUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAodGhpcy5pc1Nob3duKSB7XG4gICAgICAgICQod2luZG93KS5vbigncmVzaXplLmJzLm1vZGFsJywgJC5wcm94eSh0aGlzLmhhbmRsZVVwZGF0ZSwgdGhpcykpXG4gICAgICB9IGVsc2Uge1xuICAgICAgICAkKHdpbmRvdykub2ZmKCdyZXNpemUuYnMubW9kYWwnKVxuICAgICAgfVxuICAgIH1cblxuICAgIE1vZGFsLnByb3RvdHlwZS5oaWRlTW9kYWwgPSBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgdGhhdCA9IHRoaXNcbiAgICAgIHRoaXMuJGVsZW1lbnQuaGlkZSgpXG4gICAgICB0aGlzLmJhY2tkcm9wKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhhdC4kYm9keS5yZW1vdmVDbGFzcygnbW9kYWwtb3BlbicpXG4gICAgICAgIHRoYXQucmVzZXRBZGp1c3RtZW50cygpXG4gICAgICAgIHRoYXQucmVzZXRTY3JvbGxiYXIoKVxuICAgICAgICB0aGF0LiRlbGVtZW50LnRyaWdnZXIoJ2hpZGRlbi5icy5tb2RhbCcpXG4gICAgICB9KVxuICAgIH1cblxuICAgIE1vZGFsLnByb3RvdHlwZS5yZW1vdmVCYWNrZHJvcCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHRoaXMuJGJhY2tkcm9wICYmIHRoaXMuJGJhY2tkcm9wLnJlbW92ZSgpXG4gICAgICB0aGlzLiRiYWNrZHJvcCA9IG51bGxcbiAgICB9XG5cbiAgICBNb2RhbC5wcm90b3R5cGUuYmFja2Ryb3AgPSBmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgICAgIHZhciB0aGF0ID0gdGhpc1xuICAgICAgdmFyIGFuaW1hdGUgPSB0aGlzLiRlbGVtZW50Lmhhc0NsYXNzKCdmYWRlJykgPyAnZmFkZScgOiAnJ1xuXG4gICAgICBpZiAodGhpcy5pc1Nob3duICYmIHRoaXMub3B0aW9ucy5iYWNrZHJvcCkge1xuICAgICAgICB2YXIgZG9BbmltYXRlID0gJC5zdXBwb3J0LnRyYW5zaXRpb24gJiYgYW5pbWF0ZVxuXG4gICAgICAgIHRoaXMuJGJhY2tkcm9wID0gJCgnPGRpdiBjbGFzcz1cIm1vZGFsLWJhY2tkcm9wICcgKyBhbmltYXRlICsgJ1wiIC8+JylcbiAgICAgICAgICAucHJlcGVuZFRvKHRoaXMuJGVsZW1lbnQpXG4gICAgICAgICAgLm9uKCdjbGljay5kaXNtaXNzLmJzLm1vZGFsJywgJC5wcm94eShmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgaWYgKGUudGFyZ2V0ICE9PSBlLmN1cnJlbnRUYXJnZXQpIHJldHVyblxuICAgICAgICAgICAgdGhpcy5vcHRpb25zLmJhY2tkcm9wID09ICdzdGF0aWMnXG4gICAgICAgICAgICAgID8gdGhpcy4kZWxlbWVudFswXS5mb2N1cy5jYWxsKHRoaXMuJGVsZW1lbnRbMF0pXG4gICAgICAgICAgICAgIDogdGhpcy5oaWRlLmNhbGwodGhpcylcbiAgICAgICAgICB9LCB0aGlzKSlcblxuICAgICAgICBpZiAoZG9BbmltYXRlKSB0aGlzLiRiYWNrZHJvcFswXS5vZmZzZXRXaWR0aCAvLyBmb3JjZSByZWZsb3dcblxuICAgICAgICB0aGlzLiRiYWNrZHJvcC5hZGRDbGFzcygnaW4nKVxuXG4gICAgICAgIGlmICghY2FsbGJhY2spIHJldHVyblxuXG4gICAgICAgIGRvQW5pbWF0ZSA/XG4gICAgICAgICAgdGhpcy4kYmFja2Ryb3BcbiAgICAgICAgICAgIC5vbmUoJ2JzVHJhbnNpdGlvbkVuZCcsIGNhbGxiYWNrKVxuICAgICAgICAgICAgLmVtdWxhdGVUcmFuc2l0aW9uRW5kKE1vZGFsLkJBQ0tEUk9QX1RSQU5TSVRJT05fRFVSQVRJT04pIDpcbiAgICAgICAgICBjYWxsYmFjaygpXG5cbiAgICAgIH0gZWxzZSBpZiAoIXRoaXMuaXNTaG93biAmJiB0aGlzLiRiYWNrZHJvcCkge1xuICAgICAgICB0aGlzLiRiYWNrZHJvcC5yZW1vdmVDbGFzcygnaW4nKVxuXG4gICAgICAgIHZhciBjYWxsYmFja1JlbW92ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICB0aGF0LnJlbW92ZUJhY2tkcm9wKClcbiAgICAgICAgICBjYWxsYmFjayAmJiBjYWxsYmFjaygpXG4gICAgICAgIH1cbiAgICAgICAgJC5zdXBwb3J0LnRyYW5zaXRpb24gJiYgdGhpcy4kZWxlbWVudC5oYXNDbGFzcygnZmFkZScpID9cbiAgICAgICAgICB0aGlzLiRiYWNrZHJvcFxuICAgICAgICAgICAgLm9uZSgnYnNUcmFuc2l0aW9uRW5kJywgY2FsbGJhY2tSZW1vdmUpXG4gICAgICAgICAgICAuZW11bGF0ZVRyYW5zaXRpb25FbmQoTW9kYWwuQkFDS0RST1BfVFJBTlNJVElPTl9EVVJBVElPTikgOlxuICAgICAgICAgIGNhbGxiYWNrUmVtb3ZlKClcblxuICAgICAgfSBlbHNlIGlmIChjYWxsYmFjaykge1xuICAgICAgICBjYWxsYmFjaygpXG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gdGhlc2UgZm9sbG93aW5nIG1ldGhvZHMgYXJlIHVzZWQgdG8gaGFuZGxlIG92ZXJmbG93aW5nIG1vZGFsc1xuXG4gICAgTW9kYWwucHJvdG90eXBlLmhhbmRsZVVwZGF0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmICh0aGlzLm9wdGlvbnMuYmFja2Ryb3ApIHRoaXMuYWRqdXN0QmFja2Ryb3AoKVxuICAgICAgdGhpcy5hZGp1c3REaWFsb2coKVxuICAgIH1cblxuICAgIE1vZGFsLnByb3RvdHlwZS5hZGp1c3RCYWNrZHJvcCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHRoaXMuJGJhY2tkcm9wXG4gICAgICAgIC5jc3MoJ2hlaWdodCcsIDApXG4gICAgICAgIC5jc3MoJ2hlaWdodCcsIHRoaXMuJGVsZW1lbnRbMF0uc2Nyb2xsSGVpZ2h0KVxuICAgIH1cblxuICAgIE1vZGFsLnByb3RvdHlwZS5hZGp1c3REaWFsb2cgPSBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgbW9kYWxJc092ZXJmbG93aW5nID0gdGhpcy4kZWxlbWVudFswXS5zY3JvbGxIZWlnaHQgPiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50SGVpZ2h0XG5cbiAgICAgIHRoaXMuJGVsZW1lbnQuY3NzKHtcbiAgICAgICAgcGFkZGluZ0xlZnQ6ICAhdGhpcy5ib2R5SXNPdmVyZmxvd2luZyAmJiBtb2RhbElzT3ZlcmZsb3dpbmcgPyB0aGlzLnNjcm9sbGJhcldpZHRoIDogJycsXG4gICAgICAgIHBhZGRpbmdSaWdodDogdGhpcy5ib2R5SXNPdmVyZmxvd2luZyAmJiAhbW9kYWxJc092ZXJmbG93aW5nID8gdGhpcy5zY3JvbGxiYXJXaWR0aCA6ICcnXG4gICAgICB9KVxuICAgIH1cblxuICAgIE1vZGFsLnByb3RvdHlwZS5yZXNldEFkanVzdG1lbnRzID0gZnVuY3Rpb24gKCkge1xuICAgICAgdGhpcy4kZWxlbWVudC5jc3Moe1xuICAgICAgICBwYWRkaW5nTGVmdDogJycsXG4gICAgICAgIHBhZGRpbmdSaWdodDogJydcbiAgICAgIH0pXG4gICAgfVxuXG4gICAgTW9kYWwucHJvdG90eXBlLmNoZWNrU2Nyb2xsYmFyID0gZnVuY3Rpb24gKCkge1xuICAgICAgdGhpcy5ib2R5SXNPdmVyZmxvd2luZyA9IGRvY3VtZW50LmJvZHkuc2Nyb2xsSGVpZ2h0ID4gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudEhlaWdodFxuICAgICAgdGhpcy5zY3JvbGxiYXJXaWR0aCA9IHRoaXMubWVhc3VyZVNjcm9sbGJhcigpXG4gICAgfVxuXG4gICAgTW9kYWwucHJvdG90eXBlLnNldFNjcm9sbGJhciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBib2R5UGFkID0gcGFyc2VJbnQoKHRoaXMuJGJvZHkuY3NzKCdwYWRkaW5nLXJpZ2h0JykgfHwgMCksIDEwKVxuICAgICAgaWYgKHRoaXMuYm9keUlzT3ZlcmZsb3dpbmcpIHRoaXMuJGJvZHkuY3NzKCdwYWRkaW5nLXJpZ2h0JywgYm9keVBhZCArIHRoaXMuc2Nyb2xsYmFyV2lkdGgpXG4gICAgfVxuXG4gICAgTW9kYWwucHJvdG90eXBlLnJlc2V0U2Nyb2xsYmFyID0gZnVuY3Rpb24gKCkge1xuICAgICAgdGhpcy4kYm9keS5jc3MoJ3BhZGRpbmctcmlnaHQnLCAnJylcbiAgICB9XG5cbiAgICBNb2RhbC5wcm90b3R5cGUubWVhc3VyZVNjcm9sbGJhciA9IGZ1bmN0aW9uICgpIHsgLy8gdGh4IHdhbHNoXG4gICAgICB2YXIgc2Nyb2xsRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JylcbiAgICAgIHNjcm9sbERpdi5jbGFzc05hbWUgPSAnbW9kYWwtc2Nyb2xsYmFyLW1lYXN1cmUnXG4gICAgICB0aGlzLiRib2R5LmFwcGVuZChzY3JvbGxEaXYpXG4gICAgICB2YXIgc2Nyb2xsYmFyV2lkdGggPSBzY3JvbGxEaXYub2Zmc2V0V2lkdGggLSBzY3JvbGxEaXYuY2xpZW50V2lkdGhcbiAgICAgIHRoaXMuJGJvZHlbMF0ucmVtb3ZlQ2hpbGQoc2Nyb2xsRGl2KVxuICAgICAgcmV0dXJuIHNjcm9sbGJhcldpZHRoXG4gICAgfVxuXG5cbiAgICAvLyBNT0RBTCBQTFVHSU4gREVGSU5JVElPTlxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgICBmdW5jdGlvbiBQbHVnaW4ob3B0aW9uLCBfcmVsYXRlZFRhcmdldCkge1xuICAgICAgcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciAkdGhpcyAgID0gJCh0aGlzKVxuICAgICAgICB2YXIgZGF0YSAgICA9ICR0aGlzLmRhdGEoJ2JzLm1vZGFsJylcbiAgICAgICAgdmFyIG9wdGlvbnMgPSAkLmV4dGVuZCh7fSwgTW9kYWwuREVGQVVMVFMsICR0aGlzLmRhdGEoKSwgdHlwZW9mIG9wdGlvbiA9PSAnb2JqZWN0JyAmJiBvcHRpb24pXG5cbiAgICAgICAgaWYgKCFkYXRhKSAkdGhpcy5kYXRhKCdicy5tb2RhbCcsIChkYXRhID0gbmV3IE1vZGFsKHRoaXMsIG9wdGlvbnMpKSlcbiAgICAgICAgaWYgKHR5cGVvZiBvcHRpb24gPT0gJ3N0cmluZycpIGRhdGFbb3B0aW9uXShfcmVsYXRlZFRhcmdldClcbiAgICAgICAgZWxzZSBpZiAob3B0aW9ucy5zaG93KSBkYXRhLnNob3coX3JlbGF0ZWRUYXJnZXQpXG4gICAgICB9KVxuICAgIH1cblxuICAgIHZhciBvbGQgPSAkLmZuLm1vZGFsXG5cbiAgICAkLmZuLm1vZGFsICAgICAgICAgICAgID0gUGx1Z2luXG4gICAgJC5mbi5tb2RhbC5Db25zdHJ1Y3RvciA9IE1vZGFsXG5cblxuICAgIC8vIE1PREFMIE5PIENPTkZMSUNUXG4gICAgLy8gPT09PT09PT09PT09PT09PT1cblxuICAgICQuZm4ubW9kYWwubm9Db25mbGljdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICQuZm4ubW9kYWwgPSBvbGRcbiAgICAgIHJldHVybiB0aGlzXG4gICAgfVxuXG5cbiAgICAvLyBNT0RBTCBEQVRBLUFQSVxuICAgIC8vID09PT09PT09PT09PT09XG5cbiAgICAkKGRvY3VtZW50KS5vbignY2xpY2suYnMubW9kYWwuZGF0YS1hcGknLCAnW2RhdGEtdG9nZ2xlPVwibW9kYWxcIl0nLCBmdW5jdGlvbiAoZSkge1xuICAgICAgdmFyICR0aGlzICAgPSAkKHRoaXMpXG4gICAgICB2YXIgaHJlZiAgICA9ICR0aGlzLmF0dHIoJ2hyZWYnKVxuICAgICAgdmFyICR0YXJnZXQgPSAkKCR0aGlzLmF0dHIoJ2RhdGEtdGFyZ2V0JykgfHwgKGhyZWYgJiYgaHJlZi5yZXBsYWNlKC8uKig/PSNbXlxcc10rJCkvLCAnJykpKSAvLyBzdHJpcCBmb3IgaWU3XG4gICAgICB2YXIgb3B0aW9uICA9ICR0YXJnZXQuZGF0YSgnYnMubW9kYWwnKSA/ICd0b2dnbGUnIDogJC5leHRlbmQoeyByZW1vdGU6ICEvIy8udGVzdChocmVmKSAmJiBocmVmIH0sICR0YXJnZXQuZGF0YSgpLCAkdGhpcy5kYXRhKCkpXG5cbiAgICAgIGlmICgkdGhpcy5pcygnYScpKSBlLnByZXZlbnREZWZhdWx0KClcblxuICAgICAgJHRhcmdldC5vbmUoJ3Nob3cuYnMubW9kYWwnLCBmdW5jdGlvbiAoc2hvd0V2ZW50KSB7XG4gICAgICAgIGlmIChzaG93RXZlbnQuaXNEZWZhdWx0UHJldmVudGVkKCkpIHJldHVybiAvLyBvbmx5IHJlZ2lzdGVyIGZvY3VzIHJlc3RvcmVyIGlmIG1vZGFsIHdpbGwgYWN0dWFsbHkgZ2V0IHNob3duXG4gICAgICAgICR0YXJnZXQub25lKCdoaWRkZW4uYnMubW9kYWwnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgJHRoaXMuaXMoJzp2aXNpYmxlJykgJiYgJHRoaXMudHJpZ2dlcignZm9jdXMnKVxuICAgICAgICB9KVxuICAgICAgfSlcbiAgICAgIFBsdWdpbi5jYWxsKCR0YXJnZXQsIG9wdGlvbiwgdGhpcylcbiAgICB9KVxuXG4gIH0oalF1ZXJ5KTtcblxuICAvKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgKiBCb290c3RyYXA6IHRvb2x0aXAuanMgdjMuMy4yXG4gICogaHR0cDovL2dldGJvb3RzdHJhcC5jb20vamF2YXNjcmlwdC8jdG9vbHRpcFxuICAqIEluc3BpcmVkIGJ5IHRoZSBvcmlnaW5hbCBqUXVlcnkudGlwc3kgYnkgSmFzb24gRnJhbWVcbiAgKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgKiBDb3B5cmlnaHQgMjAxMS0yMDE1IFR3aXR0ZXIsIEluYy5cbiAgKiBMaWNlbnNlZCB1bmRlciBNSVQgKGh0dHBzOi8vZ2l0aHViLmNvbS90d2JzL2Jvb3RzdHJhcC9ibG9iL21hc3Rlci9MSUNFTlNFKVxuICAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xuXG5cbiAgK2Z1bmN0aW9uICgkKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgLy8gVE9PTFRJUCBQVUJMSUMgQ0xBU1MgREVGSU5JVElPTlxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICAgIHZhciBUb29sdGlwID0gZnVuY3Rpb24gKGVsZW1lbnQsIG9wdGlvbnMpIHtcbiAgICAgIHRoaXMudHlwZSAgICAgICA9XG4gICAgICB0aGlzLm9wdGlvbnMgICAgPVxuICAgICAgdGhpcy5lbmFibGVkICAgID1cbiAgICAgIHRoaXMudGltZW91dCAgICA9XG4gICAgICB0aGlzLmhvdmVyU3RhdGUgPVxuICAgICAgdGhpcy4kZWxlbWVudCAgID0gbnVsbFxuXG4gICAgICB0aGlzLmluaXQoJ3Rvb2x0aXAnLCBlbGVtZW50LCBvcHRpb25zKVxuICAgIH1cblxuICAgIFRvb2x0aXAuVkVSU0lPTiAgPSAnMy4zLjInXG5cbiAgICBUb29sdGlwLlRSQU5TSVRJT05fRFVSQVRJT04gPSAxNTBcblxuICAgIFRvb2x0aXAuREVGQVVMVFMgPSB7XG4gICAgICBhbmltYXRpb246IHRydWUsXG4gICAgICBwbGFjZW1lbnQ6ICd0b3AnLFxuICAgICAgc2VsZWN0b3I6IGZhbHNlLFxuICAgICAgdGVtcGxhdGU6ICc8ZGl2IGNsYXNzPVwidG9vbHRpcFwiIHJvbGU9XCJ0b29sdGlwXCI+PGRpdiBjbGFzcz1cInRvb2x0aXAtYXJyb3dcIj48L2Rpdj48ZGl2IGNsYXNzPVwidG9vbHRpcC1pbm5lclwiPjwvZGl2PjwvZGl2PicsXG4gICAgICB0cmlnZ2VyOiAnaG92ZXIgZm9jdXMnLFxuICAgICAgdGl0bGU6ICcnLFxuICAgICAgZGVsYXk6IDAsXG4gICAgICBodG1sOiBmYWxzZSxcbiAgICAgIGNvbnRhaW5lcjogZmFsc2UsXG4gICAgICB2aWV3cG9ydDoge1xuICAgICAgICBzZWxlY3RvcjogJ2JvZHknLFxuICAgICAgICBwYWRkaW5nOiAwXG4gICAgICB9XG4gICAgfVxuXG4gICAgVG9vbHRpcC5wcm90b3R5cGUuaW5pdCA9IGZ1bmN0aW9uICh0eXBlLCBlbGVtZW50LCBvcHRpb25zKSB7XG4gICAgICB0aGlzLmVuYWJsZWQgICA9IHRydWVcbiAgICAgIHRoaXMudHlwZSAgICAgID0gdHlwZVxuICAgICAgdGhpcy4kZWxlbWVudCAgPSAkKGVsZW1lbnQpXG4gICAgICB0aGlzLm9wdGlvbnMgICA9IHRoaXMuZ2V0T3B0aW9ucyhvcHRpb25zKVxuICAgICAgdGhpcy4kdmlld3BvcnQgPSB0aGlzLm9wdGlvbnMudmlld3BvcnQgJiYgJCh0aGlzLm9wdGlvbnMudmlld3BvcnQuc2VsZWN0b3IgfHwgdGhpcy5vcHRpb25zLnZpZXdwb3J0KVxuXG4gICAgICB2YXIgdHJpZ2dlcnMgPSB0aGlzLm9wdGlvbnMudHJpZ2dlci5zcGxpdCgnICcpXG5cbiAgICAgIGZvciAodmFyIGkgPSB0cmlnZ2Vycy5sZW5ndGg7IGktLTspIHtcbiAgICAgICAgdmFyIHRyaWdnZXIgPSB0cmlnZ2Vyc1tpXVxuXG4gICAgICAgIGlmICh0cmlnZ2VyID09ICdjbGljaycpIHtcbiAgICAgICAgICB0aGlzLiRlbGVtZW50Lm9uKCdjbGljay4nICsgdGhpcy50eXBlLCB0aGlzLm9wdGlvbnMuc2VsZWN0b3IsICQucHJveHkodGhpcy50b2dnbGUsIHRoaXMpKVxuICAgICAgICB9IGVsc2UgaWYgKHRyaWdnZXIgIT0gJ21hbnVhbCcpIHtcbiAgICAgICAgICB2YXIgZXZlbnRJbiAgPSB0cmlnZ2VyID09ICdob3ZlcicgPyAnbW91c2VlbnRlcicgOiAnZm9jdXNpbidcbiAgICAgICAgICB2YXIgZXZlbnRPdXQgPSB0cmlnZ2VyID09ICdob3ZlcicgPyAnbW91c2VsZWF2ZScgOiAnZm9jdXNvdXQnXG5cbiAgICAgICAgICB0aGlzLiRlbGVtZW50Lm9uKGV2ZW50SW4gICsgJy4nICsgdGhpcy50eXBlLCB0aGlzLm9wdGlvbnMuc2VsZWN0b3IsICQucHJveHkodGhpcy5lbnRlciwgdGhpcykpXG4gICAgICAgICAgdGhpcy4kZWxlbWVudC5vbihldmVudE91dCArICcuJyArIHRoaXMudHlwZSwgdGhpcy5vcHRpb25zLnNlbGVjdG9yLCAkLnByb3h5KHRoaXMubGVhdmUsIHRoaXMpKVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHRoaXMub3B0aW9ucy5zZWxlY3RvciA/XG4gICAgICAgICh0aGlzLl9vcHRpb25zID0gJC5leHRlbmQoe30sIHRoaXMub3B0aW9ucywgeyB0cmlnZ2VyOiAnbWFudWFsJywgc2VsZWN0b3I6ICcnIH0pKSA6XG4gICAgICAgIHRoaXMuZml4VGl0bGUoKVxuICAgIH1cblxuICAgIFRvb2x0aXAucHJvdG90eXBlLmdldERlZmF1bHRzID0gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIFRvb2x0aXAuREVGQVVMVFNcbiAgICB9XG5cbiAgICBUb29sdGlwLnByb3RvdHlwZS5nZXRPcHRpb25zID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICAgIG9wdGlvbnMgPSAkLmV4dGVuZCh7fSwgdGhpcy5nZXREZWZhdWx0cygpLCB0aGlzLiRlbGVtZW50LmRhdGEoKSwgb3B0aW9ucylcblxuICAgICAgaWYgKG9wdGlvbnMuZGVsYXkgJiYgdHlwZW9mIG9wdGlvbnMuZGVsYXkgPT0gJ251bWJlcicpIHtcbiAgICAgICAgb3B0aW9ucy5kZWxheSA9IHtcbiAgICAgICAgICBzaG93OiBvcHRpb25zLmRlbGF5LFxuICAgICAgICAgIGhpZGU6IG9wdGlvbnMuZGVsYXlcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gb3B0aW9uc1xuICAgIH1cblxuICAgIFRvb2x0aXAucHJvdG90eXBlLmdldERlbGVnYXRlT3B0aW9ucyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBvcHRpb25zICA9IHt9XG4gICAgICB2YXIgZGVmYXVsdHMgPSB0aGlzLmdldERlZmF1bHRzKClcblxuICAgICAgdGhpcy5fb3B0aW9ucyAmJiAkLmVhY2godGhpcy5fb3B0aW9ucywgZnVuY3Rpb24gKGtleSwgdmFsdWUpIHtcbiAgICAgICAgaWYgKGRlZmF1bHRzW2tleV0gIT0gdmFsdWUpIG9wdGlvbnNba2V5XSA9IHZhbHVlXG4gICAgICB9KVxuXG4gICAgICByZXR1cm4gb3B0aW9uc1xuICAgIH1cblxuICAgIFRvb2x0aXAucHJvdG90eXBlLmVudGVyID0gZnVuY3Rpb24gKG9iaikge1xuICAgICAgdmFyIHNlbGYgPSBvYmogaW5zdGFuY2VvZiB0aGlzLmNvbnN0cnVjdG9yID9cbiAgICAgICAgb2JqIDogJChvYmouY3VycmVudFRhcmdldCkuZGF0YSgnYnMuJyArIHRoaXMudHlwZSlcblxuICAgICAgaWYgKHNlbGYgJiYgc2VsZi4kdGlwICYmIHNlbGYuJHRpcC5pcygnOnZpc2libGUnKSkge1xuICAgICAgICBzZWxmLmhvdmVyU3RhdGUgPSAnaW4nXG4gICAgICAgIHJldHVyblxuICAgICAgfVxuXG4gICAgICBpZiAoIXNlbGYpIHtcbiAgICAgICAgc2VsZiA9IG5ldyB0aGlzLmNvbnN0cnVjdG9yKG9iai5jdXJyZW50VGFyZ2V0LCB0aGlzLmdldERlbGVnYXRlT3B0aW9ucygpKVxuICAgICAgICAkKG9iai5jdXJyZW50VGFyZ2V0KS5kYXRhKCdicy4nICsgdGhpcy50eXBlLCBzZWxmKVxuICAgICAgfVxuXG4gICAgICBjbGVhclRpbWVvdXQoc2VsZi50aW1lb3V0KVxuXG4gICAgICBzZWxmLmhvdmVyU3RhdGUgPSAnaW4nXG5cbiAgICAgIGlmICghc2VsZi5vcHRpb25zLmRlbGF5IHx8ICFzZWxmLm9wdGlvbnMuZGVsYXkuc2hvdykgcmV0dXJuIHNlbGYuc2hvdygpXG5cbiAgICAgIHNlbGYudGltZW91dCA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoc2VsZi5ob3ZlclN0YXRlID09ICdpbicpIHNlbGYuc2hvdygpXG4gICAgICB9LCBzZWxmLm9wdGlvbnMuZGVsYXkuc2hvdylcbiAgICB9XG5cbiAgICBUb29sdGlwLnByb3RvdHlwZS5sZWF2ZSA9IGZ1bmN0aW9uIChvYmopIHtcbiAgICAgIHZhciBzZWxmID0gb2JqIGluc3RhbmNlb2YgdGhpcy5jb25zdHJ1Y3RvciA/XG4gICAgICAgIG9iaiA6ICQob2JqLmN1cnJlbnRUYXJnZXQpLmRhdGEoJ2JzLicgKyB0aGlzLnR5cGUpXG5cbiAgICAgIGlmICghc2VsZikge1xuICAgICAgICBzZWxmID0gbmV3IHRoaXMuY29uc3RydWN0b3Iob2JqLmN1cnJlbnRUYXJnZXQsIHRoaXMuZ2V0RGVsZWdhdGVPcHRpb25zKCkpXG4gICAgICAgICQob2JqLmN1cnJlbnRUYXJnZXQpLmRhdGEoJ2JzLicgKyB0aGlzLnR5cGUsIHNlbGYpXG4gICAgICB9XG5cbiAgICAgIGNsZWFyVGltZW91dChzZWxmLnRpbWVvdXQpXG5cbiAgICAgIHNlbGYuaG92ZXJTdGF0ZSA9ICdvdXQnXG5cbiAgICAgIGlmICghc2VsZi5vcHRpb25zLmRlbGF5IHx8ICFzZWxmLm9wdGlvbnMuZGVsYXkuaGlkZSkgcmV0dXJuIHNlbGYuaGlkZSgpXG5cbiAgICAgIHNlbGYudGltZW91dCA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoc2VsZi5ob3ZlclN0YXRlID09ICdvdXQnKSBzZWxmLmhpZGUoKVxuICAgICAgfSwgc2VsZi5vcHRpb25zLmRlbGF5LmhpZGUpXG4gICAgfVxuXG4gICAgVG9vbHRpcC5wcm90b3R5cGUuc2hvdyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBlID0gJC5FdmVudCgnc2hvdy5icy4nICsgdGhpcy50eXBlKVxuXG4gICAgICBpZiAodGhpcy5oYXNDb250ZW50KCkgJiYgdGhpcy5lbmFibGVkKSB7XG4gICAgICAgIHRoaXMuJGVsZW1lbnQudHJpZ2dlcihlKVxuXG4gICAgICAgIHZhciBpbkRvbSA9ICQuY29udGFpbnModGhpcy4kZWxlbWVudFswXS5vd25lckRvY3VtZW50LmRvY3VtZW50RWxlbWVudCwgdGhpcy4kZWxlbWVudFswXSlcbiAgICAgICAgaWYgKGUuaXNEZWZhdWx0UHJldmVudGVkKCkgfHwgIWluRG9tKSByZXR1cm5cbiAgICAgICAgdmFyIHRoYXQgPSB0aGlzXG5cbiAgICAgICAgdmFyICR0aXAgPSB0aGlzLnRpcCgpXG5cbiAgICAgICAgdmFyIHRpcElkID0gdGhpcy5nZXRVSUQodGhpcy50eXBlKVxuXG4gICAgICAgIHRoaXMuc2V0Q29udGVudCgpXG4gICAgICAgICR0aXAuYXR0cignaWQnLCB0aXBJZClcbiAgICAgICAgdGhpcy4kZWxlbWVudC5hdHRyKCdhcmlhLWRlc2NyaWJlZGJ5JywgdGlwSWQpXG5cbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5hbmltYXRpb24pICR0aXAuYWRkQ2xhc3MoJ2ZhZGUnKVxuXG4gICAgICAgIHZhciBwbGFjZW1lbnQgPSB0eXBlb2YgdGhpcy5vcHRpb25zLnBsYWNlbWVudCA9PSAnZnVuY3Rpb24nID9cbiAgICAgICAgICB0aGlzLm9wdGlvbnMucGxhY2VtZW50LmNhbGwodGhpcywgJHRpcFswXSwgdGhpcy4kZWxlbWVudFswXSkgOlxuICAgICAgICAgIHRoaXMub3B0aW9ucy5wbGFjZW1lbnRcblxuICAgICAgICB2YXIgYXV0b1Rva2VuID0gL1xccz9hdXRvP1xccz8vaVxuICAgICAgICB2YXIgYXV0b1BsYWNlID0gYXV0b1Rva2VuLnRlc3QocGxhY2VtZW50KVxuICAgICAgICBpZiAoYXV0b1BsYWNlKSBwbGFjZW1lbnQgPSBwbGFjZW1lbnQucmVwbGFjZShhdXRvVG9rZW4sICcnKSB8fCAndG9wJ1xuXG4gICAgICAgICR0aXBcbiAgICAgICAgICAuZGV0YWNoKClcbiAgICAgICAgICAuY3NzKHsgdG9wOiAwLCBsZWZ0OiAwLCBkaXNwbGF5OiAnYmxvY2snIH0pXG4gICAgICAgICAgLmFkZENsYXNzKHBsYWNlbWVudClcbiAgICAgICAgICAuZGF0YSgnYnMuJyArIHRoaXMudHlwZSwgdGhpcylcblxuICAgICAgICB0aGlzLm9wdGlvbnMuY29udGFpbmVyID8gJHRpcC5hcHBlbmRUbyh0aGlzLm9wdGlvbnMuY29udGFpbmVyKSA6ICR0aXAuaW5zZXJ0QWZ0ZXIodGhpcy4kZWxlbWVudClcblxuICAgICAgICB2YXIgcG9zICAgICAgICAgID0gdGhpcy5nZXRQb3NpdGlvbigpXG4gICAgICAgIHZhciBhY3R1YWxXaWR0aCAgPSAkdGlwWzBdLm9mZnNldFdpZHRoXG4gICAgICAgIHZhciBhY3R1YWxIZWlnaHQgPSAkdGlwWzBdLm9mZnNldEhlaWdodFxuXG4gICAgICAgIGlmIChhdXRvUGxhY2UpIHtcbiAgICAgICAgICB2YXIgb3JnUGxhY2VtZW50ID0gcGxhY2VtZW50XG4gICAgICAgICAgdmFyICRjb250YWluZXIgICA9IHRoaXMub3B0aW9ucy5jb250YWluZXIgPyAkKHRoaXMub3B0aW9ucy5jb250YWluZXIpIDogdGhpcy4kZWxlbWVudC5wYXJlbnQoKVxuICAgICAgICAgIHZhciBjb250YWluZXJEaW0gPSB0aGlzLmdldFBvc2l0aW9uKCRjb250YWluZXIpXG5cbiAgICAgICAgICBwbGFjZW1lbnQgPSBwbGFjZW1lbnQgPT0gJ2JvdHRvbScgJiYgcG9zLmJvdHRvbSArIGFjdHVhbEhlaWdodCA+IGNvbnRhaW5lckRpbS5ib3R0b20gPyAndG9wJyAgICA6XG4gICAgICAgICAgICAgICAgICAgICAgcGxhY2VtZW50ID09ICd0b3AnICAgICYmIHBvcy50b3AgICAgLSBhY3R1YWxIZWlnaHQgPCBjb250YWluZXJEaW0udG9wICAgID8gJ2JvdHRvbScgOlxuICAgICAgICAgICAgICAgICAgICAgIHBsYWNlbWVudCA9PSAncmlnaHQnICAmJiBwb3MucmlnaHQgICsgYWN0dWFsV2lkdGggID4gY29udGFpbmVyRGltLndpZHRoICA/ICdsZWZ0JyAgIDpcbiAgICAgICAgICAgICAgICAgICAgICBwbGFjZW1lbnQgPT0gJ2xlZnQnICAgJiYgcG9zLmxlZnQgICAtIGFjdHVhbFdpZHRoICA8IGNvbnRhaW5lckRpbS5sZWZ0ICAgPyAncmlnaHQnICA6XG4gICAgICAgICAgICAgICAgICAgICAgcGxhY2VtZW50XG5cbiAgICAgICAgICAkdGlwXG4gICAgICAgICAgICAucmVtb3ZlQ2xhc3Mob3JnUGxhY2VtZW50KVxuICAgICAgICAgICAgLmFkZENsYXNzKHBsYWNlbWVudClcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBjYWxjdWxhdGVkT2Zmc2V0ID0gdGhpcy5nZXRDYWxjdWxhdGVkT2Zmc2V0KHBsYWNlbWVudCwgcG9zLCBhY3R1YWxXaWR0aCwgYWN0dWFsSGVpZ2h0KVxuXG4gICAgICAgIHRoaXMuYXBwbHlQbGFjZW1lbnQoY2FsY3VsYXRlZE9mZnNldCwgcGxhY2VtZW50KVxuXG4gICAgICAgIHZhciBjb21wbGV0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICB2YXIgcHJldkhvdmVyU3RhdGUgPSB0aGF0LmhvdmVyU3RhdGVcbiAgICAgICAgICB0aGF0LiRlbGVtZW50LnRyaWdnZXIoJ3Nob3duLmJzLicgKyB0aGF0LnR5cGUpXG4gICAgICAgICAgdGhhdC5ob3ZlclN0YXRlID0gbnVsbFxuXG4gICAgICAgICAgaWYgKHByZXZIb3ZlclN0YXRlID09ICdvdXQnKSB0aGF0LmxlYXZlKHRoYXQpXG4gICAgICAgIH1cblxuICAgICAgICAkLnN1cHBvcnQudHJhbnNpdGlvbiAmJiB0aGlzLiR0aXAuaGFzQ2xhc3MoJ2ZhZGUnKSA/XG4gICAgICAgICAgJHRpcFxuICAgICAgICAgICAgLm9uZSgnYnNUcmFuc2l0aW9uRW5kJywgY29tcGxldGUpXG4gICAgICAgICAgICAuZW11bGF0ZVRyYW5zaXRpb25FbmQoVG9vbHRpcC5UUkFOU0lUSU9OX0RVUkFUSU9OKSA6XG4gICAgICAgICAgY29tcGxldGUoKVxuICAgICAgfVxuICAgIH1cblxuICAgIFRvb2x0aXAucHJvdG90eXBlLmFwcGx5UGxhY2VtZW50ID0gZnVuY3Rpb24gKG9mZnNldCwgcGxhY2VtZW50KSB7XG4gICAgICB2YXIgJHRpcCAgID0gdGhpcy50aXAoKVxuICAgICAgdmFyIHdpZHRoICA9ICR0aXBbMF0ub2Zmc2V0V2lkdGhcbiAgICAgIHZhciBoZWlnaHQgPSAkdGlwWzBdLm9mZnNldEhlaWdodFxuXG4gICAgICAvLyBtYW51YWxseSByZWFkIG1hcmdpbnMgYmVjYXVzZSBnZXRCb3VuZGluZ0NsaWVudFJlY3QgaW5jbHVkZXMgZGlmZmVyZW5jZVxuICAgICAgdmFyIG1hcmdpblRvcCA9IHBhcnNlSW50KCR0aXAuY3NzKCdtYXJnaW4tdG9wJyksIDEwKVxuICAgICAgdmFyIG1hcmdpbkxlZnQgPSBwYXJzZUludCgkdGlwLmNzcygnbWFyZ2luLWxlZnQnKSwgMTApXG5cbiAgICAgIC8vIHdlIG11c3QgY2hlY2sgZm9yIE5hTiBmb3IgaWUgOC85XG4gICAgICBpZiAoaXNOYU4obWFyZ2luVG9wKSkgIG1hcmdpblRvcCAgPSAwXG4gICAgICBpZiAoaXNOYU4obWFyZ2luTGVmdCkpIG1hcmdpbkxlZnQgPSAwXG5cbiAgICAgIG9mZnNldC50b3AgID0gb2Zmc2V0LnRvcCAgKyBtYXJnaW5Ub3BcbiAgICAgIG9mZnNldC5sZWZ0ID0gb2Zmc2V0LmxlZnQgKyBtYXJnaW5MZWZ0XG5cbiAgICAgIC8vICQuZm4ub2Zmc2V0IGRvZXNuJ3Qgcm91bmQgcGl4ZWwgdmFsdWVzXG4gICAgICAvLyBzbyB3ZSB1c2Ugc2V0T2Zmc2V0IGRpcmVjdGx5IHdpdGggb3VyIG93biBmdW5jdGlvbiBCLTBcbiAgICAgICQub2Zmc2V0LnNldE9mZnNldCgkdGlwWzBdLCAkLmV4dGVuZCh7XG4gICAgICAgIHVzaW5nOiBmdW5jdGlvbiAocHJvcHMpIHtcbiAgICAgICAgICAkdGlwLmNzcyh7XG4gICAgICAgICAgICB0b3A6IE1hdGgucm91bmQocHJvcHMudG9wKSxcbiAgICAgICAgICAgIGxlZnQ6IE1hdGgucm91bmQocHJvcHMubGVmdClcbiAgICAgICAgICB9KVxuICAgICAgICB9XG4gICAgICB9LCBvZmZzZXQpLCAwKVxuXG4gICAgICAkdGlwLmFkZENsYXNzKCdpbicpXG5cbiAgICAgIC8vIGNoZWNrIHRvIHNlZSBpZiBwbGFjaW5nIHRpcCBpbiBuZXcgb2Zmc2V0IGNhdXNlZCB0aGUgdGlwIHRvIHJlc2l6ZSBpdHNlbGZcbiAgICAgIHZhciBhY3R1YWxXaWR0aCAgPSAkdGlwWzBdLm9mZnNldFdpZHRoXG4gICAgICB2YXIgYWN0dWFsSGVpZ2h0ID0gJHRpcFswXS5vZmZzZXRIZWlnaHRcblxuICAgICAgaWYgKHBsYWNlbWVudCA9PSAndG9wJyAmJiBhY3R1YWxIZWlnaHQgIT0gaGVpZ2h0KSB7XG4gICAgICAgIG9mZnNldC50b3AgPSBvZmZzZXQudG9wICsgaGVpZ2h0IC0gYWN0dWFsSGVpZ2h0XG4gICAgICB9XG5cbiAgICAgIHZhciBkZWx0YSA9IHRoaXMuZ2V0Vmlld3BvcnRBZGp1c3RlZERlbHRhKHBsYWNlbWVudCwgb2Zmc2V0LCBhY3R1YWxXaWR0aCwgYWN0dWFsSGVpZ2h0KVxuXG4gICAgICBpZiAoZGVsdGEubGVmdCkgb2Zmc2V0LmxlZnQgKz0gZGVsdGEubGVmdFxuICAgICAgZWxzZSBvZmZzZXQudG9wICs9IGRlbHRhLnRvcFxuXG4gICAgICB2YXIgaXNWZXJ0aWNhbCAgICAgICAgICA9IC90b3B8Ym90dG9tLy50ZXN0KHBsYWNlbWVudClcbiAgICAgIHZhciBhcnJvd0RlbHRhICAgICAgICAgID0gaXNWZXJ0aWNhbCA/IGRlbHRhLmxlZnQgKiAyIC0gd2lkdGggKyBhY3R1YWxXaWR0aCA6IGRlbHRhLnRvcCAqIDIgLSBoZWlnaHQgKyBhY3R1YWxIZWlnaHRcbiAgICAgIHZhciBhcnJvd09mZnNldFBvc2l0aW9uID0gaXNWZXJ0aWNhbCA/ICdvZmZzZXRXaWR0aCcgOiAnb2Zmc2V0SGVpZ2h0J1xuXG4gICAgICAkdGlwLm9mZnNldChvZmZzZXQpXG4gICAgICB0aGlzLnJlcGxhY2VBcnJvdyhhcnJvd0RlbHRhLCAkdGlwWzBdW2Fycm93T2Zmc2V0UG9zaXRpb25dLCBpc1ZlcnRpY2FsKVxuICAgIH1cblxuICAgIFRvb2x0aXAucHJvdG90eXBlLnJlcGxhY2VBcnJvdyA9IGZ1bmN0aW9uIChkZWx0YSwgZGltZW5zaW9uLCBpc0hvcml6b250YWwpIHtcbiAgICAgIHRoaXMuYXJyb3coKVxuICAgICAgICAuY3NzKGlzSG9yaXpvbnRhbCA/ICdsZWZ0JyA6ICd0b3AnLCA1MCAvKiogKDEgLSBkZWx0YSAvIGRpbWVuc2lvbikqLyArICclJylcbiAgICAgICAgLmNzcyhpc0hvcml6b250YWwgPyAndG9wJyA6ICdsZWZ0JywgJycpXG4gICAgfVxuXG4gICAgVG9vbHRpcC5wcm90b3R5cGUuc2V0Q29udGVudCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciAkdGlwICA9IHRoaXMudGlwKClcbiAgICAgIHZhciB0aXRsZSA9IHRoaXMuZ2V0VGl0bGUoKVxuXG4gICAgICAkdGlwLmZpbmQoJy50b29sdGlwLWlubmVyJylbdGhpcy5vcHRpb25zLmh0bWwgPyAnaHRtbCcgOiAndGV4dCddKHRpdGxlKVxuICAgICAgJHRpcC5yZW1vdmVDbGFzcygnZmFkZSBpbiB0b3AgYm90dG9tIGxlZnQgcmlnaHQnKVxuICAgIH1cblxuICAgIFRvb2x0aXAucHJvdG90eXBlLmhpZGUgPSBmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgICAgIHZhciB0aGF0ID0gdGhpc1xuICAgICAgdmFyICR0aXAgPSB0aGlzLnRpcCgpXG4gICAgICB2YXIgZSAgICA9ICQuRXZlbnQoJ2hpZGUuYnMuJyArIHRoaXMudHlwZSlcblxuICAgICAgZnVuY3Rpb24gY29tcGxldGUoKSB7XG4gICAgICAgIGlmICh0aGF0LmhvdmVyU3RhdGUgIT0gJ2luJykgJHRpcC5kZXRhY2goKVxuICAgICAgICB0aGF0LiRlbGVtZW50XG4gICAgICAgICAgLnJlbW92ZUF0dHIoJ2FyaWEtZGVzY3JpYmVkYnknKVxuICAgICAgICAgIC50cmlnZ2VyKCdoaWRkZW4uYnMuJyArIHRoYXQudHlwZSlcbiAgICAgICAgY2FsbGJhY2sgJiYgY2FsbGJhY2soKVxuICAgICAgfVxuXG4gICAgICB0aGlzLiRlbGVtZW50LnRyaWdnZXIoZSlcblxuICAgICAgaWYgKGUuaXNEZWZhdWx0UHJldmVudGVkKCkpIHJldHVyblxuXG4gICAgICAkdGlwLnJlbW92ZUNsYXNzKCdpbicpXG5cbiAgICAgICQuc3VwcG9ydC50cmFuc2l0aW9uICYmIHRoaXMuJHRpcC5oYXNDbGFzcygnZmFkZScpID9cbiAgICAgICAgJHRpcFxuICAgICAgICAgIC5vbmUoJ2JzVHJhbnNpdGlvbkVuZCcsIGNvbXBsZXRlKVxuICAgICAgICAgIC5lbXVsYXRlVHJhbnNpdGlvbkVuZChUb29sdGlwLlRSQU5TSVRJT05fRFVSQVRJT04pIDpcbiAgICAgICAgY29tcGxldGUoKVxuXG4gICAgICB0aGlzLmhvdmVyU3RhdGUgPSBudWxsXG5cbiAgICAgIHJldHVybiB0aGlzXG4gICAgfVxuXG4gICAgVG9vbHRpcC5wcm90b3R5cGUuZml4VGl0bGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgJGUgPSB0aGlzLiRlbGVtZW50XG4gICAgICBpZiAoJGUuYXR0cigndGl0bGUnKSB8fCB0eXBlb2YgKCRlLmF0dHIoJ2RhdGEtb3JpZ2luYWwtdGl0bGUnKSkgIT0gJ3N0cmluZycpIHtcbiAgICAgICAgJGUuYXR0cignZGF0YS1vcmlnaW5hbC10aXRsZScsICRlLmF0dHIoJ3RpdGxlJykgfHwgJycpLmF0dHIoJ3RpdGxlJywgJycpXG4gICAgICB9XG4gICAgfVxuXG4gICAgVG9vbHRpcC5wcm90b3R5cGUuaGFzQ29udGVudCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB0aGlzLmdldFRpdGxlKClcbiAgICB9XG5cbiAgICBUb29sdGlwLnByb3RvdHlwZS5nZXRQb3NpdGlvbiA9IGZ1bmN0aW9uICgkZWxlbWVudCkge1xuICAgICAgJGVsZW1lbnQgICA9ICRlbGVtZW50IHx8IHRoaXMuJGVsZW1lbnRcblxuICAgICAgdmFyIGVsICAgICA9ICRlbGVtZW50WzBdXG4gICAgICB2YXIgaXNCb2R5ID0gZWwudGFnTmFtZSA9PSAnQk9EWSdcblxuICAgICAgdmFyIGVsUmVjdCAgICA9IGVsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpXG4gICAgICBpZiAoZWxSZWN0LndpZHRoID09IG51bGwpIHtcbiAgICAgICAgLy8gd2lkdGggYW5kIGhlaWdodCBhcmUgbWlzc2luZyBpbiBJRTgsIHNvIGNvbXB1dGUgdGhlbSBtYW51YWxseTsgc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS90d2JzL2Jvb3RzdHJhcC9pc3N1ZXMvMTQwOTNcbiAgICAgICAgZWxSZWN0ID0gJC5leHRlbmQoe30sIGVsUmVjdCwgeyB3aWR0aDogZWxSZWN0LnJpZ2h0IC0gZWxSZWN0LmxlZnQsIGhlaWdodDogZWxSZWN0LmJvdHRvbSAtIGVsUmVjdC50b3AgfSlcbiAgICAgIH1cbiAgICAgIHZhciBlbE9mZnNldCAgPSBpc0JvZHkgPyB7IHRvcDogMCwgbGVmdDogMCB9IDogJGVsZW1lbnQub2Zmc2V0KClcbiAgICAgIHZhciBzY3JvbGwgICAgPSB7IHNjcm9sbDogaXNCb2R5ID8gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcCB8fCBkb2N1bWVudC5ib2R5LnNjcm9sbFRvcCA6ICRlbGVtZW50LnNjcm9sbFRvcCgpIH1cbiAgICAgIHZhciBvdXRlckRpbXMgPSBpc0JvZHkgPyB7IHdpZHRoOiAkKHdpbmRvdykud2lkdGgoKSwgaGVpZ2h0OiAkKHdpbmRvdykuaGVpZ2h0KCkgfSA6IG51bGxcblxuICAgICAgcmV0dXJuICQuZXh0ZW5kKHt9LCBlbFJlY3QsIHNjcm9sbCwgb3V0ZXJEaW1zLCBlbE9mZnNldClcbiAgICB9XG5cbiAgICBUb29sdGlwLnByb3RvdHlwZS5nZXRDYWxjdWxhdGVkT2Zmc2V0ID0gZnVuY3Rpb24gKHBsYWNlbWVudCwgcG9zLCBhY3R1YWxXaWR0aCwgYWN0dWFsSGVpZ2h0KSB7XG4gICAgICByZXR1cm4gcGxhY2VtZW50ID09ICdib3R0b20nID8geyB0b3A6IHBvcy50b3AgKyBwb3MuaGVpZ2h0LCAgIGxlZnQ6IHBvcy5sZWZ0ICsgcG9zLndpZHRoIC8gMiAtIGFjdHVhbFdpZHRoIC8gMiB9IDpcbiAgICAgICAgICAgIHBsYWNlbWVudCA9PSAndG9wJyAgICA/IHsgdG9wOiBwb3MudG9wIC0gYWN0dWFsSGVpZ2h0LCBsZWZ0OiBwb3MubGVmdCArIHBvcy53aWR0aCAvIDIgLSBhY3R1YWxXaWR0aCAvIDIgfSA6XG4gICAgICAgICAgICBwbGFjZW1lbnQgPT0gJ2xlZnQnICAgPyB7IHRvcDogcG9zLnRvcCArIHBvcy5oZWlnaHQgLyAyIC0gYWN0dWFsSGVpZ2h0IC8gMiwgbGVmdDogcG9zLmxlZnQgLSBhY3R1YWxXaWR0aCB9IDpcbiAgICAgICAgICAvKiBwbGFjZW1lbnQgPT0gJ3JpZ2h0JyAqLyB7IHRvcDogcG9zLnRvcCArIHBvcy5oZWlnaHQgLyAyIC0gYWN0dWFsSGVpZ2h0IC8gMiwgbGVmdDogcG9zLmxlZnQgKyBwb3Mud2lkdGggfVxuXG4gICAgfVxuXG4gICAgVG9vbHRpcC5wcm90b3R5cGUuZ2V0Vmlld3BvcnRBZGp1c3RlZERlbHRhID0gZnVuY3Rpb24gKHBsYWNlbWVudCwgcG9zLCBhY3R1YWxXaWR0aCwgYWN0dWFsSGVpZ2h0KSB7XG4gICAgICB2YXIgZGVsdGEgPSB7IHRvcDogMCwgbGVmdDogMCB9XG4gICAgICBpZiAoIXRoaXMuJHZpZXdwb3J0KSByZXR1cm4gZGVsdGFcblxuICAgICAgdmFyIHZpZXdwb3J0UGFkZGluZyA9IHRoaXMub3B0aW9ucy52aWV3cG9ydCAmJiB0aGlzLm9wdGlvbnMudmlld3BvcnQucGFkZGluZyB8fCAwXG4gICAgICB2YXIgdmlld3BvcnREaW1lbnNpb25zID0gdGhpcy5nZXRQb3NpdGlvbih0aGlzLiR2aWV3cG9ydClcblxuICAgICAgaWYgKC9yaWdodHxsZWZ0Ly50ZXN0KHBsYWNlbWVudCkpIHtcbiAgICAgICAgdmFyIHRvcEVkZ2VPZmZzZXQgICAgPSBwb3MudG9wIC0gdmlld3BvcnRQYWRkaW5nIC0gdmlld3BvcnREaW1lbnNpb25zLnNjcm9sbFxuICAgICAgICB2YXIgYm90dG9tRWRnZU9mZnNldCA9IHBvcy50b3AgKyB2aWV3cG9ydFBhZGRpbmcgLSB2aWV3cG9ydERpbWVuc2lvbnMuc2Nyb2xsICsgYWN0dWFsSGVpZ2h0XG4gICAgICAgIGlmICh0b3BFZGdlT2Zmc2V0IDwgdmlld3BvcnREaW1lbnNpb25zLnRvcCkgeyAvLyB0b3Agb3ZlcmZsb3dcbiAgICAgICAgICBkZWx0YS50b3AgPSB2aWV3cG9ydERpbWVuc2lvbnMudG9wIC0gdG9wRWRnZU9mZnNldFxuICAgICAgICB9IGVsc2UgaWYgKGJvdHRvbUVkZ2VPZmZzZXQgPiB2aWV3cG9ydERpbWVuc2lvbnMudG9wICsgdmlld3BvcnREaW1lbnNpb25zLmhlaWdodCkgeyAvLyBib3R0b20gb3ZlcmZsb3dcbiAgICAgICAgICBkZWx0YS50b3AgPSB2aWV3cG9ydERpbWVuc2lvbnMudG9wICsgdmlld3BvcnREaW1lbnNpb25zLmhlaWdodCAtIGJvdHRvbUVkZ2VPZmZzZXRcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFyIGxlZnRFZGdlT2Zmc2V0ICA9IHBvcy5sZWZ0IC0gdmlld3BvcnRQYWRkaW5nXG4gICAgICAgIHZhciByaWdodEVkZ2VPZmZzZXQgPSBwb3MubGVmdCArIHZpZXdwb3J0UGFkZGluZyArIGFjdHVhbFdpZHRoXG4gICAgICAgIGlmIChsZWZ0RWRnZU9mZnNldCA8IHZpZXdwb3J0RGltZW5zaW9ucy5sZWZ0KSB7IC8vIGxlZnQgb3ZlcmZsb3dcbiAgICAgICAgICBkZWx0YS5sZWZ0ID0gdmlld3BvcnREaW1lbnNpb25zLmxlZnQgLSBsZWZ0RWRnZU9mZnNldFxuICAgICAgICB9IGVsc2UgaWYgKHJpZ2h0RWRnZU9mZnNldCA+IHZpZXdwb3J0RGltZW5zaW9ucy53aWR0aCkgeyAvLyByaWdodCBvdmVyZmxvd1xuICAgICAgICAgIGRlbHRhLmxlZnQgPSB2aWV3cG9ydERpbWVuc2lvbnMubGVmdCArIHZpZXdwb3J0RGltZW5zaW9ucy53aWR0aCAtIHJpZ2h0RWRnZU9mZnNldFxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBkZWx0YVxuICAgIH1cblxuICAgIFRvb2x0aXAucHJvdG90eXBlLmdldFRpdGxlID0gZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIHRpdGxlXG4gICAgICB2YXIgJGUgPSB0aGlzLiRlbGVtZW50XG4gICAgICB2YXIgbyAgPSB0aGlzLm9wdGlvbnNcblxuICAgICAgdGl0bGUgPSAkZS5hdHRyKCdkYXRhLW9yaWdpbmFsLXRpdGxlJylcbiAgICAgICAgfHwgKHR5cGVvZiBvLnRpdGxlID09ICdmdW5jdGlvbicgPyBvLnRpdGxlLmNhbGwoJGVbMF0pIDogIG8udGl0bGUpXG5cbiAgICAgIHJldHVybiB0aXRsZVxuICAgIH1cblxuICAgIFRvb2x0aXAucHJvdG90eXBlLmdldFVJRCA9IGZ1bmN0aW9uIChwcmVmaXgpIHtcbiAgICAgIGRvIHByZWZpeCArPSB+fihNYXRoLnJhbmRvbSgpICogMTAwMDAwMClcbiAgICAgIHdoaWxlIChkb2N1bWVudC5nZXRFbGVtZW50QnlJZChwcmVmaXgpKVxuICAgICAgcmV0dXJuIHByZWZpeFxuICAgIH1cblxuICAgIFRvb2x0aXAucHJvdG90eXBlLnRpcCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiAodGhpcy4kdGlwID0gdGhpcy4kdGlwIHx8ICQodGhpcy5vcHRpb25zLnRlbXBsYXRlKSlcbiAgICB9XG5cbiAgICBUb29sdGlwLnByb3RvdHlwZS5hcnJvdyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiAodGhpcy4kYXJyb3cgPSB0aGlzLiRhcnJvdyB8fCB0aGlzLnRpcCgpLmZpbmQoJy50b29sdGlwLWFycm93JykpXG4gICAgfVxuXG4gICAgVG9vbHRpcC5wcm90b3R5cGUuZW5hYmxlID0gZnVuY3Rpb24gKCkge1xuICAgICAgdGhpcy5lbmFibGVkID0gdHJ1ZVxuICAgIH1cblxuICAgIFRvb2x0aXAucHJvdG90eXBlLmRpc2FibGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICB0aGlzLmVuYWJsZWQgPSBmYWxzZVxuICAgIH1cblxuICAgIFRvb2x0aXAucHJvdG90eXBlLnRvZ2dsZUVuYWJsZWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICB0aGlzLmVuYWJsZWQgPSAhdGhpcy5lbmFibGVkXG4gICAgfVxuXG4gICAgVG9vbHRpcC5wcm90b3R5cGUudG9nZ2xlID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgIHZhciBzZWxmID0gdGhpc1xuICAgICAgaWYgKGUpIHtcbiAgICAgICAgc2VsZiA9ICQoZS5jdXJyZW50VGFyZ2V0KS5kYXRhKCdicy4nICsgdGhpcy50eXBlKVxuICAgICAgICBpZiAoIXNlbGYpIHtcbiAgICAgICAgICBzZWxmID0gbmV3IHRoaXMuY29uc3RydWN0b3IoZS5jdXJyZW50VGFyZ2V0LCB0aGlzLmdldERlbGVnYXRlT3B0aW9ucygpKVxuICAgICAgICAgICQoZS5jdXJyZW50VGFyZ2V0KS5kYXRhKCdicy4nICsgdGhpcy50eXBlLCBzZWxmKVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHNlbGYudGlwKCkuaGFzQ2xhc3MoJ2luJykgPyBzZWxmLmxlYXZlKHNlbGYpIDogc2VsZi5lbnRlcihzZWxmKVxuICAgIH1cblxuICAgIFRvb2x0aXAucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgdGhhdCA9IHRoaXNcbiAgICAgIGNsZWFyVGltZW91dCh0aGlzLnRpbWVvdXQpXG4gICAgICB0aGlzLmhpZGUoZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGF0LiRlbGVtZW50Lm9mZignLicgKyB0aGF0LnR5cGUpLnJlbW92ZURhdGEoJ2JzLicgKyB0aGF0LnR5cGUpXG4gICAgICB9KVxuICAgIH1cblxuXG4gICAgLy8gVE9PTFRJUCBQTFVHSU4gREVGSU5JVElPTlxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICAgIGZ1bmN0aW9uIFBsdWdpbihvcHRpb24pIHtcbiAgICAgIHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgJHRoaXMgICA9ICQodGhpcylcbiAgICAgICAgdmFyIGRhdGEgICAgPSAkdGhpcy5kYXRhKCdicy50b29sdGlwJylcbiAgICAgICAgdmFyIG9wdGlvbnMgPSB0eXBlb2Ygb3B0aW9uID09ICdvYmplY3QnICYmIG9wdGlvblxuXG4gICAgICAgIGlmICghZGF0YSAmJiBvcHRpb24gPT0gJ2Rlc3Ryb3knKSByZXR1cm5cbiAgICAgICAgaWYgKCFkYXRhKSAkdGhpcy5kYXRhKCdicy50b29sdGlwJywgKGRhdGEgPSBuZXcgVG9vbHRpcCh0aGlzLCBvcHRpb25zKSkpXG4gICAgICAgIGlmICh0eXBlb2Ygb3B0aW9uID09ICdzdHJpbmcnKSBkYXRhW29wdGlvbl0oKVxuICAgICAgfSlcbiAgICB9XG5cbiAgICB2YXIgb2xkID0gJC5mbi50b29sdGlwXG5cbiAgICAkLmZuLnRvb2x0aXAgICAgICAgICAgICAgPSBQbHVnaW5cbiAgICAkLmZuLnRvb2x0aXAuQ29uc3RydWN0b3IgPSBUb29sdGlwXG5cblxuICAgIC8vIFRPT0xUSVAgTk8gQ09ORkxJQ1RcbiAgICAvLyA9PT09PT09PT09PT09PT09PT09XG5cbiAgICAkLmZuLnRvb2x0aXAubm9Db25mbGljdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICQuZm4udG9vbHRpcCA9IG9sZFxuICAgICAgcmV0dXJuIHRoaXNcbiAgICB9XG5cbiAgfShqUXVlcnkpO1xuXG4gIC8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAqIEJvb3RzdHJhcDogcG9wb3Zlci5qcyB2My4zLjJcbiAgKiBodHRwOi8vZ2V0Ym9vdHN0cmFwLmNvbS9qYXZhc2NyaXB0LyNwb3BvdmVyc1xuICAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAqIENvcHlyaWdodCAyMDExLTIwMTUgVHdpdHRlciwgSW5jLlxuICAqIExpY2Vuc2VkIHVuZGVyIE1JVCAoaHR0cHM6Ly9naXRodWIuY29tL3R3YnMvYm9vdHN0cmFwL2Jsb2IvbWFzdGVyL0xJQ0VOU0UpXG4gICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXG5cblxuICArZnVuY3Rpb24gKCQpIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICAvLyBQT1BPVkVSIFBVQkxJQyBDTEFTUyBERUZJTklUSU9OXG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4gICAgdmFyIFBvcG92ZXIgPSBmdW5jdGlvbiAoZWxlbWVudCwgb3B0aW9ucykge1xuICAgICAgdGhpcy5pbml0KCdwb3BvdmVyJywgZWxlbWVudCwgb3B0aW9ucylcbiAgICB9XG5cbiAgICBpZiAoISQuZm4udG9vbHRpcCkgdGhyb3cgbmV3IEVycm9yKCdQb3BvdmVyIHJlcXVpcmVzIHRvb2x0aXAuanMnKVxuXG4gICAgUG9wb3Zlci5WRVJTSU9OICA9ICczLjMuMidcblxuICAgIFBvcG92ZXIuREVGQVVMVFMgPSAkLmV4dGVuZCh7fSwgJC5mbi50b29sdGlwLkNvbnN0cnVjdG9yLkRFRkFVTFRTLCB7XG4gICAgICBwbGFjZW1lbnQ6ICdyaWdodCcsXG4gICAgICB0cmlnZ2VyOiAnY2xpY2snLFxuICAgICAgY29udGVudDogJycsXG4gICAgICB0ZW1wbGF0ZTogJzxkaXYgY2xhc3M9XCJwb3BvdmVyXCIgcm9sZT1cInRvb2x0aXBcIj48ZGl2IGNsYXNzPVwiYXJyb3dcIj48L2Rpdj48aDMgY2xhc3M9XCJwb3BvdmVyLXRpdGxlXCI+PC9oMz48ZGl2IGNsYXNzPVwicG9wb3Zlci1jb250ZW50XCI+PC9kaXY+PC9kaXY+J1xuICAgIH0pXG5cblxuICAgIC8vIE5PVEU6IFBPUE9WRVIgRVhURU5EUyB0b29sdGlwLmpzXG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICAgIFBvcG92ZXIucHJvdG90eXBlID0gJC5leHRlbmQoe30sICQuZm4udG9vbHRpcC5Db25zdHJ1Y3Rvci5wcm90b3R5cGUpXG5cbiAgICBQb3BvdmVyLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IFBvcG92ZXJcblxuICAgIFBvcG92ZXIucHJvdG90eXBlLmdldERlZmF1bHRzID0gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIFBvcG92ZXIuREVGQVVMVFNcbiAgICB9XG5cbiAgICBQb3BvdmVyLnByb3RvdHlwZS5zZXRDb250ZW50ID0gZnVuY3Rpb24gKCkge1xuICAgICAgdmFyICR0aXAgICAgPSB0aGlzLnRpcCgpXG4gICAgICB2YXIgdGl0bGUgICA9IHRoaXMuZ2V0VGl0bGUoKVxuICAgICAgdmFyIGNvbnRlbnQgPSB0aGlzLmdldENvbnRlbnQoKVxuXG4gICAgICAkdGlwLmZpbmQoJy5wb3BvdmVyLXRpdGxlJylbdGhpcy5vcHRpb25zLmh0bWwgPyAnaHRtbCcgOiAndGV4dCddKHRpdGxlKVxuICAgICAgJHRpcC5maW5kKCcucG9wb3Zlci1jb250ZW50JykuY2hpbGRyZW4oKS5kZXRhY2goKS5lbmQoKVsgLy8gd2UgdXNlIGFwcGVuZCBmb3IgaHRtbCBvYmplY3RzIHRvIG1haW50YWluIGpzIGV2ZW50c1xuICAgICAgICB0aGlzLm9wdGlvbnMuaHRtbCA/ICh0eXBlb2YgY29udGVudCA9PSAnc3RyaW5nJyA/ICdodG1sJyA6ICdhcHBlbmQnKSA6ICd0ZXh0J1xuICAgICAgXShjb250ZW50KVxuXG4gICAgICAkdGlwLnJlbW92ZUNsYXNzKCdmYWRlIHRvcCBib3R0b20gbGVmdCByaWdodCBpbicpXG5cbiAgICAgIC8vIElFOCBkb2Vzbid0IGFjY2VwdCBoaWRpbmcgdmlhIHRoZSBgOmVtcHR5YCBwc2V1ZG8gc2VsZWN0b3IsIHdlIGhhdmUgdG8gZG9cbiAgICAgIC8vIHRoaXMgbWFudWFsbHkgYnkgY2hlY2tpbmcgdGhlIGNvbnRlbnRzLlxuICAgICAgaWYgKCEkdGlwLmZpbmQoJy5wb3BvdmVyLXRpdGxlJykuaHRtbCgpKSAkdGlwLmZpbmQoJy5wb3BvdmVyLXRpdGxlJykuaGlkZSgpXG4gICAgfVxuXG4gICAgUG9wb3Zlci5wcm90b3R5cGUuaGFzQ29udGVudCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB0aGlzLmdldFRpdGxlKCkgfHwgdGhpcy5nZXRDb250ZW50KClcbiAgICB9XG5cbiAgICBQb3BvdmVyLnByb3RvdHlwZS5nZXRDb250ZW50ID0gZnVuY3Rpb24gKCkge1xuICAgICAgdmFyICRlID0gdGhpcy4kZWxlbWVudFxuICAgICAgdmFyIG8gID0gdGhpcy5vcHRpb25zXG5cbiAgICAgIHJldHVybiAkZS5hdHRyKCdkYXRhLWNvbnRlbnQnKVxuICAgICAgICB8fCAodHlwZW9mIG8uY29udGVudCA9PSAnZnVuY3Rpb24nID9cbiAgICAgICAgICAgICAgby5jb250ZW50LmNhbGwoJGVbMF0pIDpcbiAgICAgICAgICAgICAgby5jb250ZW50KVxuICAgIH1cblxuICAgIFBvcG92ZXIucHJvdG90eXBlLmFycm93ID0gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuICh0aGlzLiRhcnJvdyA9IHRoaXMuJGFycm93IHx8IHRoaXMudGlwKCkuZmluZCgnLmFycm93JykpXG4gICAgfVxuXG4gICAgUG9wb3Zlci5wcm90b3R5cGUudGlwID0gZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKCF0aGlzLiR0aXApIHRoaXMuJHRpcCA9ICQodGhpcy5vcHRpb25zLnRlbXBsYXRlKVxuICAgICAgcmV0dXJuIHRoaXMuJHRpcFxuICAgIH1cblxuXG4gICAgLy8gUE9QT1ZFUiBQTFVHSU4gREVGSU5JVElPTlxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICAgIGZ1bmN0aW9uIFBsdWdpbihvcHRpb24pIHtcbiAgICAgIHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgJHRoaXMgICA9ICQodGhpcylcbiAgICAgICAgdmFyIGRhdGEgICAgPSAkdGhpcy5kYXRhKCdicy5wb3BvdmVyJylcbiAgICAgICAgdmFyIG9wdGlvbnMgPSB0eXBlb2Ygb3B0aW9uID09ICdvYmplY3QnICYmIG9wdGlvblxuXG4gICAgICAgIGlmICghZGF0YSAmJiBvcHRpb24gPT0gJ2Rlc3Ryb3knKSByZXR1cm5cbiAgICAgICAgaWYgKCFkYXRhKSAkdGhpcy5kYXRhKCdicy5wb3BvdmVyJywgKGRhdGEgPSBuZXcgUG9wb3Zlcih0aGlzLCBvcHRpb25zKSkpXG4gICAgICAgIGlmICh0eXBlb2Ygb3B0aW9uID09ICdzdHJpbmcnKSBkYXRhW29wdGlvbl0oKVxuICAgICAgfSlcbiAgICB9XG5cbiAgICB2YXIgb2xkID0gJC5mbi5wb3BvdmVyXG5cbiAgICAkLmZuLnBvcG92ZXIgICAgICAgICAgICAgPSBQbHVnaW5cbiAgICAkLmZuLnBvcG92ZXIuQ29uc3RydWN0b3IgPSBQb3BvdmVyXG5cblxuICAgIC8vIFBPUE9WRVIgTk8gQ09ORkxJQ1RcbiAgICAvLyA9PT09PT09PT09PT09PT09PT09XG5cbiAgICAkLmZuLnBvcG92ZXIubm9Db25mbGljdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICQuZm4ucG9wb3ZlciA9IG9sZFxuICAgICAgcmV0dXJuIHRoaXNcbiAgICB9XG5cbiAgfShqUXVlcnkpO1xuXG4gIC8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAqIEJvb3RzdHJhcDogc2Nyb2xsc3B5LmpzIHYzLjMuMlxuICAqIGh0dHA6Ly9nZXRib290c3RyYXAuY29tL2phdmFzY3JpcHQvI3Njcm9sbHNweVxuICAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAqIENvcHlyaWdodCAyMDExLTIwMTUgVHdpdHRlciwgSW5jLlxuICAqIExpY2Vuc2VkIHVuZGVyIE1JVCAoaHR0cHM6Ly9naXRodWIuY29tL3R3YnMvYm9vdHN0cmFwL2Jsb2IvbWFzdGVyL0xJQ0VOU0UpXG4gICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXG5cblxuICArZnVuY3Rpb24gKCQpIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICAvLyBTQ1JPTExTUFkgQ0xBU1MgREVGSU5JVElPTlxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgICBmdW5jdGlvbiBTY3JvbGxTcHkoZWxlbWVudCwgb3B0aW9ucykge1xuICAgICAgdmFyIHByb2Nlc3MgID0gJC5wcm94eSh0aGlzLnByb2Nlc3MsIHRoaXMpXG5cbiAgICAgIHRoaXMuJGJvZHkgICAgICAgICAgPSAkKCdib2R5JylcbiAgICAgIHRoaXMuJHNjcm9sbEVsZW1lbnQgPSAkKGVsZW1lbnQpLmlzKCdib2R5JykgPyAkKHdpbmRvdykgOiAkKGVsZW1lbnQpXG4gICAgICB0aGlzLm9wdGlvbnMgICAgICAgID0gJC5leHRlbmQoe30sIFNjcm9sbFNweS5ERUZBVUxUUywgb3B0aW9ucylcbiAgICAgIHRoaXMuc2VsZWN0b3IgICAgICAgPSAodGhpcy5vcHRpb25zLnRhcmdldCB8fCAnJykgKyAnIC5uYXYgbGkgPiBhJ1xuICAgICAgdGhpcy5vZmZzZXRzICAgICAgICA9IFtdXG4gICAgICB0aGlzLnRhcmdldHMgICAgICAgID0gW11cbiAgICAgIHRoaXMuYWN0aXZlVGFyZ2V0ICAgPSBudWxsXG4gICAgICB0aGlzLnNjcm9sbEhlaWdodCAgID0gMFxuXG4gICAgICB0aGlzLiRzY3JvbGxFbGVtZW50Lm9uKCdzY3JvbGwuYnMuc2Nyb2xsc3B5JywgcHJvY2VzcylcbiAgICAgIHRoaXMucmVmcmVzaCgpXG4gICAgICB0aGlzLnByb2Nlc3MoKVxuICAgIH1cblxuICAgIFNjcm9sbFNweS5WRVJTSU9OICA9ICczLjMuMidcblxuICAgIFNjcm9sbFNweS5ERUZBVUxUUyA9IHtcbiAgICAgIG9mZnNldDogMTBcbiAgICB9XG5cbiAgICBTY3JvbGxTcHkucHJvdG90eXBlLmdldFNjcm9sbEhlaWdodCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB0aGlzLiRzY3JvbGxFbGVtZW50WzBdLnNjcm9sbEhlaWdodCB8fCBNYXRoLm1heCh0aGlzLiRib2R5WzBdLnNjcm9sbEhlaWdodCwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbEhlaWdodClcbiAgICB9XG5cbiAgICBTY3JvbGxTcHkucHJvdG90eXBlLnJlZnJlc2ggPSBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgb2Zmc2V0TWV0aG9kID0gJ29mZnNldCdcbiAgICAgIHZhciBvZmZzZXRCYXNlICAgPSAwXG5cbiAgICAgIGlmICghJC5pc1dpbmRvdyh0aGlzLiRzY3JvbGxFbGVtZW50WzBdKSkge1xuICAgICAgICBvZmZzZXRNZXRob2QgPSAncG9zaXRpb24nXG4gICAgICAgIG9mZnNldEJhc2UgICA9IHRoaXMuJHNjcm9sbEVsZW1lbnQuc2Nyb2xsVG9wKClcbiAgICAgIH1cblxuICAgICAgdGhpcy5vZmZzZXRzID0gW11cbiAgICAgIHRoaXMudGFyZ2V0cyA9IFtdXG4gICAgICB0aGlzLnNjcm9sbEhlaWdodCA9IHRoaXMuZ2V0U2Nyb2xsSGVpZ2h0KClcblxuICAgICAgdmFyIHNlbGYgICAgID0gdGhpc1xuXG4gICAgICB0aGlzLiRib2R5XG4gICAgICAgIC5maW5kKHRoaXMuc2VsZWN0b3IpXG4gICAgICAgIC5tYXAoZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHZhciAkZWwgICA9ICQodGhpcylcbiAgICAgICAgICB2YXIgaHJlZiAgPSAkZWwuZGF0YSgndGFyZ2V0JykgfHwgJGVsLmF0dHIoJ2hyZWYnKVxuICAgICAgICAgIHZhciAkaHJlZiA9IC9eIy4vLnRlc3QoaHJlZikgJiYgJChocmVmKVxuXG4gICAgICAgICAgcmV0dXJuICgkaHJlZlxuICAgICAgICAgICAgJiYgJGhyZWYubGVuZ3RoXG4gICAgICAgICAgICAmJiAkaHJlZi5pcygnOnZpc2libGUnKVxuICAgICAgICAgICAgJiYgW1skaHJlZltvZmZzZXRNZXRob2RdKCkudG9wICsgb2Zmc2V0QmFzZSwgaHJlZl1dKSB8fCBudWxsXG4gICAgICAgIH0pXG4gICAgICAgIC5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7IHJldHVybiBhWzBdIC0gYlswXSB9KVxuICAgICAgICAuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgc2VsZi5vZmZzZXRzLnB1c2godGhpc1swXSlcbiAgICAgICAgICBzZWxmLnRhcmdldHMucHVzaCh0aGlzWzFdKVxuICAgICAgICB9KVxuICAgIH1cblxuICAgIFNjcm9sbFNweS5wcm90b3R5cGUucHJvY2VzcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBzY3JvbGxUb3AgICAgPSB0aGlzLiRzY3JvbGxFbGVtZW50LnNjcm9sbFRvcCgpICsgdGhpcy5vcHRpb25zLm9mZnNldFxuICAgICAgdmFyIHNjcm9sbEhlaWdodCA9IHRoaXMuZ2V0U2Nyb2xsSGVpZ2h0KClcbiAgICAgIHZhciBtYXhTY3JvbGwgICAgPSB0aGlzLm9wdGlvbnMub2Zmc2V0ICsgc2Nyb2xsSGVpZ2h0IC0gdGhpcy4kc2Nyb2xsRWxlbWVudC5oZWlnaHQoKVxuICAgICAgdmFyIG9mZnNldHMgICAgICA9IHRoaXMub2Zmc2V0c1xuICAgICAgdmFyIHRhcmdldHMgICAgICA9IHRoaXMudGFyZ2V0c1xuICAgICAgdmFyIGFjdGl2ZVRhcmdldCA9IHRoaXMuYWN0aXZlVGFyZ2V0XG4gICAgICB2YXIgaVxuXG4gICAgICBpZiAodGhpcy5zY3JvbGxIZWlnaHQgIT0gc2Nyb2xsSGVpZ2h0KSB7XG4gICAgICAgIHRoaXMucmVmcmVzaCgpXG4gICAgICB9XG5cbiAgICAgIGlmIChzY3JvbGxUb3AgPj0gbWF4U2Nyb2xsKSB7XG4gICAgICAgIHJldHVybiBhY3RpdmVUYXJnZXQgIT0gKGkgPSB0YXJnZXRzW3RhcmdldHMubGVuZ3RoIC0gMV0pICYmIHRoaXMuYWN0aXZhdGUoaSlcbiAgICAgIH1cblxuICAgICAgaWYgKGFjdGl2ZVRhcmdldCAmJiBzY3JvbGxUb3AgPCBvZmZzZXRzWzBdKSB7XG4gICAgICAgIHRoaXMuYWN0aXZlVGFyZ2V0ID0gbnVsbFxuICAgICAgICByZXR1cm4gdGhpcy5jbGVhcigpXG4gICAgICB9XG5cbiAgICAgIGZvciAoaSA9IG9mZnNldHMubGVuZ3RoOyBpLS07KSB7XG4gICAgICAgIGFjdGl2ZVRhcmdldCAhPSB0YXJnZXRzW2ldXG4gICAgICAgICAgJiYgc2Nyb2xsVG9wID49IG9mZnNldHNbaV1cbiAgICAgICAgICAmJiAoIW9mZnNldHNbaSArIDFdIHx8IHNjcm9sbFRvcCA8PSBvZmZzZXRzW2kgKyAxXSlcbiAgICAgICAgICAmJiB0aGlzLmFjdGl2YXRlKHRhcmdldHNbaV0pXG4gICAgICB9XG4gICAgfVxuXG4gICAgU2Nyb2xsU3B5LnByb3RvdHlwZS5hY3RpdmF0ZSA9IGZ1bmN0aW9uICh0YXJnZXQpIHtcbiAgICAgIHRoaXMuYWN0aXZlVGFyZ2V0ID0gdGFyZ2V0XG5cbiAgICAgIHRoaXMuY2xlYXIoKVxuXG4gICAgICB2YXIgc2VsZWN0b3IgPSB0aGlzLnNlbGVjdG9yICtcbiAgICAgICAgICAnW2RhdGEtdGFyZ2V0PVwiJyArIHRhcmdldCArICdcIl0sJyArXG4gICAgICAgICAgdGhpcy5zZWxlY3RvciArICdbaHJlZj1cIicgKyB0YXJnZXQgKyAnXCJdJ1xuXG4gICAgICB2YXIgYWN0aXZlID0gJChzZWxlY3RvcilcbiAgICAgICAgLnBhcmVudHMoJ2xpJylcbiAgICAgICAgLmFkZENsYXNzKCdhY3RpdmUnKVxuXG4gICAgICBpZiAoYWN0aXZlLnBhcmVudCgnLmRyb3Bkb3duLW1lbnUnKS5sZW5ndGgpIHtcbiAgICAgICAgYWN0aXZlID0gYWN0aXZlXG4gICAgICAgICAgLmNsb3Nlc3QoJ2xpLmRyb3Bkb3duJylcbiAgICAgICAgICAuYWRkQ2xhc3MoJ2FjdGl2ZScpXG4gICAgICB9XG5cbiAgICAgIGFjdGl2ZS50cmlnZ2VyKCdhY3RpdmF0ZS5icy5zY3JvbGxzcHknKVxuICAgIH1cblxuICAgIFNjcm9sbFNweS5wcm90b3R5cGUuY2xlYXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAkKHRoaXMuc2VsZWN0b3IpXG4gICAgICAgIC5wYXJlbnRzVW50aWwodGhpcy5vcHRpb25zLnRhcmdldCwgJy5hY3RpdmUnKVxuICAgICAgICAucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpXG4gICAgfVxuXG5cbiAgICAvLyBTQ1JPTExTUFkgUExVR0lOIERFRklOSVRJT05cbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICAgIGZ1bmN0aW9uIFBsdWdpbihvcHRpb24pIHtcbiAgICAgIHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgJHRoaXMgICA9ICQodGhpcylcbiAgICAgICAgdmFyIGRhdGEgICAgPSAkdGhpcy5kYXRhKCdicy5zY3JvbGxzcHknKVxuICAgICAgICB2YXIgb3B0aW9ucyA9IHR5cGVvZiBvcHRpb24gPT0gJ29iamVjdCcgJiYgb3B0aW9uXG5cbiAgICAgICAgaWYgKCFkYXRhKSAkdGhpcy5kYXRhKCdicy5zY3JvbGxzcHknLCAoZGF0YSA9IG5ldyBTY3JvbGxTcHkodGhpcywgb3B0aW9ucykpKVxuICAgICAgICBpZiAodHlwZW9mIG9wdGlvbiA9PSAnc3RyaW5nJykgZGF0YVtvcHRpb25dKClcbiAgICAgIH0pXG4gICAgfVxuXG4gICAgdmFyIG9sZCA9ICQuZm4uc2Nyb2xsc3B5XG5cbiAgICAkLmZuLnNjcm9sbHNweSAgICAgICAgICAgICA9IFBsdWdpblxuICAgICQuZm4uc2Nyb2xsc3B5LkNvbnN0cnVjdG9yID0gU2Nyb2xsU3B5XG5cblxuICAgIC8vIFNDUk9MTFNQWSBOTyBDT05GTElDVFxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PVxuXG4gICAgJC5mbi5zY3JvbGxzcHkubm9Db25mbGljdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICQuZm4uc2Nyb2xsc3B5ID0gb2xkXG4gICAgICByZXR1cm4gdGhpc1xuICAgIH1cblxuXG4gICAgLy8gU0NST0xMU1BZIERBVEEtQVBJXG4gICAgLy8gPT09PT09PT09PT09PT09PT09XG5cbiAgICAkKHdpbmRvdykub24oJ2xvYWQuYnMuc2Nyb2xsc3B5LmRhdGEtYXBpJywgZnVuY3Rpb24gKCkge1xuICAgICAgJCgnW2RhdGEtc3B5PVwic2Nyb2xsXCJdJykuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciAkc3B5ID0gJCh0aGlzKVxuICAgICAgICBQbHVnaW4uY2FsbCgkc3B5LCAkc3B5LmRhdGEoKSlcbiAgICAgIH0pXG4gICAgfSlcblxuICB9KGpRdWVyeSk7XG5cbiAgLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICogQm9vdHN0cmFwOiB0YWIuanMgdjMuMy4yXG4gICogaHR0cDovL2dldGJvb3RzdHJhcC5jb20vamF2YXNjcmlwdC8jdGFic1xuICAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAqIENvcHlyaWdodCAyMDExLTIwMTUgVHdpdHRlciwgSW5jLlxuICAqIExpY2Vuc2VkIHVuZGVyIE1JVCAoaHR0cHM6Ly9naXRodWIuY29tL3R3YnMvYm9vdHN0cmFwL2Jsb2IvbWFzdGVyL0xJQ0VOU0UpXG4gICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXG5cblxuICArZnVuY3Rpb24gKCQpIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICAvLyBUQUIgQ0xBU1MgREVGSU5JVElPTlxuICAgIC8vID09PT09PT09PT09PT09PT09PT09XG5cbiAgICB2YXIgVGFiID0gZnVuY3Rpb24gKGVsZW1lbnQpIHtcbiAgICAgIHRoaXMuZWxlbWVudCA9ICQoZWxlbWVudClcbiAgICB9XG5cbiAgICBUYWIuVkVSU0lPTiA9ICczLjMuMidcblxuICAgIFRhYi5UUkFOU0lUSU9OX0RVUkFUSU9OID0gMTUwXG5cbiAgICBUYWIucHJvdG90eXBlLnNob3cgPSBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgJHRoaXMgICAgPSB0aGlzLmVsZW1lbnRcbiAgICAgIHZhciAkdWwgICAgICA9ICR0aGlzLmNsb3Nlc3QoJ3VsOm5vdCguZHJvcGRvd24tbWVudSknKVxuICAgICAgdmFyIHNlbGVjdG9yID0gJHRoaXMuZGF0YSgndGFyZ2V0JylcblxuICAgICAgaWYgKCFzZWxlY3Rvcikge1xuICAgICAgICBzZWxlY3RvciA9ICR0aGlzLmF0dHIoJ2hyZWYnKVxuICAgICAgICBzZWxlY3RvciA9IHNlbGVjdG9yICYmIHNlbGVjdG9yLnJlcGxhY2UoLy4qKD89I1teXFxzXSokKS8sICcnKSAvLyBzdHJpcCBmb3IgaWU3XG4gICAgICB9XG5cbiAgICAgIGlmICgkdGhpcy5wYXJlbnQoJ2xpJykuaGFzQ2xhc3MoJ2FjdGl2ZScpKSByZXR1cm5cblxuICAgICAgdmFyICRwcmV2aW91cyA9ICR1bC5maW5kKCcuYWN0aXZlOmxhc3QgYScpXG4gICAgICB2YXIgaGlkZUV2ZW50ID0gJC5FdmVudCgnaGlkZS5icy50YWInLCB7XG4gICAgICAgIHJlbGF0ZWRUYXJnZXQ6ICR0aGlzWzBdXG4gICAgICB9KVxuICAgICAgdmFyIHNob3dFdmVudCA9ICQuRXZlbnQoJ3Nob3cuYnMudGFiJywge1xuICAgICAgICByZWxhdGVkVGFyZ2V0OiAkcHJldmlvdXNbMF1cbiAgICAgIH0pXG5cbiAgICAgICRwcmV2aW91cy50cmlnZ2VyKGhpZGVFdmVudClcbiAgICAgICR0aGlzLnRyaWdnZXIoc2hvd0V2ZW50KVxuXG4gICAgICBpZiAoc2hvd0V2ZW50LmlzRGVmYXVsdFByZXZlbnRlZCgpIHx8IGhpZGVFdmVudC5pc0RlZmF1bHRQcmV2ZW50ZWQoKSkgcmV0dXJuXG5cbiAgICAgIHZhciAkdGFyZ2V0ID0gJChzZWxlY3RvcilcblxuICAgICAgdGhpcy5hY3RpdmF0ZSgkdGhpcy5jbG9zZXN0KCdsaScpLCAkdWwpXG4gICAgICB0aGlzLmFjdGl2YXRlKCR0YXJnZXQsICR0YXJnZXQucGFyZW50KCksIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgJHByZXZpb3VzLnRyaWdnZXIoe1xuICAgICAgICAgIHR5cGU6ICdoaWRkZW4uYnMudGFiJyxcbiAgICAgICAgICByZWxhdGVkVGFyZ2V0OiAkdGhpc1swXVxuICAgICAgICB9KVxuICAgICAgICAkdGhpcy50cmlnZ2VyKHtcbiAgICAgICAgICB0eXBlOiAnc2hvd24uYnMudGFiJyxcbiAgICAgICAgICByZWxhdGVkVGFyZ2V0OiAkcHJldmlvdXNbMF1cbiAgICAgICAgfSlcbiAgICAgIH0pXG4gICAgfVxuXG4gICAgVGFiLnByb3RvdHlwZS5hY3RpdmF0ZSA9IGZ1bmN0aW9uIChlbGVtZW50LCBjb250YWluZXIsIGNhbGxiYWNrKSB7XG4gICAgICB2YXIgJGFjdGl2ZSAgICA9IGNvbnRhaW5lci5maW5kKCc+IC5hY3RpdmUnKVxuICAgICAgdmFyIHRyYW5zaXRpb24gPSBjYWxsYmFja1xuICAgICAgICAmJiAkLnN1cHBvcnQudHJhbnNpdGlvblxuICAgICAgICAmJiAoKCRhY3RpdmUubGVuZ3RoICYmICRhY3RpdmUuaGFzQ2xhc3MoJ2ZhZGUnKSkgfHwgISFjb250YWluZXIuZmluZCgnPiAuZmFkZScpLmxlbmd0aClcblxuICAgICAgZnVuY3Rpb24gbmV4dCgpIHtcbiAgICAgICAgJGFjdGl2ZVxuICAgICAgICAgIC5yZW1vdmVDbGFzcygnYWN0aXZlJylcbiAgICAgICAgICAuZmluZCgnPiAuZHJvcGRvd24tbWVudSA+IC5hY3RpdmUnKVxuICAgICAgICAgICAgLnJlbW92ZUNsYXNzKCdhY3RpdmUnKVxuICAgICAgICAgIC5lbmQoKVxuICAgICAgICAgIC5maW5kKCdbZGF0YS10b2dnbGU9XCJ0YWJcIl0nKVxuICAgICAgICAgICAgLmF0dHIoJ2FyaWEtZXhwYW5kZWQnLCBmYWxzZSlcblxuICAgICAgICBlbGVtZW50XG4gICAgICAgICAgLmFkZENsYXNzKCdhY3RpdmUnKVxuICAgICAgICAgIC5maW5kKCdbZGF0YS10b2dnbGU9XCJ0YWJcIl0nKVxuICAgICAgICAgICAgLmF0dHIoJ2FyaWEtZXhwYW5kZWQnLCB0cnVlKVxuXG4gICAgICAgIGlmICh0cmFuc2l0aW9uKSB7XG4gICAgICAgICAgZWxlbWVudFswXS5vZmZzZXRXaWR0aCAvLyByZWZsb3cgZm9yIHRyYW5zaXRpb25cbiAgICAgICAgICBlbGVtZW50LmFkZENsYXNzKCdpbicpXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZWxlbWVudC5yZW1vdmVDbGFzcygnZmFkZScpXG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZWxlbWVudC5wYXJlbnQoJy5kcm9wZG93bi1tZW51JykpIHtcbiAgICAgICAgICBlbGVtZW50XG4gICAgICAgICAgICAuY2xvc2VzdCgnbGkuZHJvcGRvd24nKVxuICAgICAgICAgICAgICAuYWRkQ2xhc3MoJ2FjdGl2ZScpXG4gICAgICAgICAgICAuZW5kKClcbiAgICAgICAgICAgIC5maW5kKCdbZGF0YS10b2dnbGU9XCJ0YWJcIl0nKVxuICAgICAgICAgICAgICAuYXR0cignYXJpYS1leHBhbmRlZCcsIHRydWUpXG4gICAgICAgIH1cblxuICAgICAgICBjYWxsYmFjayAmJiBjYWxsYmFjaygpXG4gICAgICB9XG5cbiAgICAgICRhY3RpdmUubGVuZ3RoICYmIHRyYW5zaXRpb24gP1xuICAgICAgICAkYWN0aXZlXG4gICAgICAgICAgLm9uZSgnYnNUcmFuc2l0aW9uRW5kJywgbmV4dClcbiAgICAgICAgICAuZW11bGF0ZVRyYW5zaXRpb25FbmQoVGFiLlRSQU5TSVRJT05fRFVSQVRJT04pIDpcbiAgICAgICAgbmV4dCgpXG5cbiAgICAgICRhY3RpdmUucmVtb3ZlQ2xhc3MoJ2luJylcbiAgICB9XG5cblxuICAgIC8vIFRBQiBQTFVHSU4gREVGSU5JVElPTlxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PVxuXG4gICAgZnVuY3Rpb24gUGx1Z2luKG9wdGlvbikge1xuICAgICAgcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciAkdGhpcyA9ICQodGhpcylcbiAgICAgICAgdmFyIGRhdGEgID0gJHRoaXMuZGF0YSgnYnMudGFiJylcblxuICAgICAgICBpZiAoIWRhdGEpICR0aGlzLmRhdGEoJ2JzLnRhYicsIChkYXRhID0gbmV3IFRhYih0aGlzKSkpXG4gICAgICAgIGlmICh0eXBlb2Ygb3B0aW9uID09ICdzdHJpbmcnKSBkYXRhW29wdGlvbl0oKVxuICAgICAgfSlcbiAgICB9XG5cbiAgICB2YXIgb2xkID0gJC5mbi50YWJcblxuICAgICQuZm4udGFiICAgICAgICAgICAgID0gUGx1Z2luXG4gICAgJC5mbi50YWIuQ29uc3RydWN0b3IgPSBUYWJcblxuXG4gICAgLy8gVEFCIE5PIENPTkZMSUNUXG4gICAgLy8gPT09PT09PT09PT09PT09XG5cbiAgICAkLmZuLnRhYi5ub0NvbmZsaWN0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgJC5mbi50YWIgPSBvbGRcbiAgICAgIHJldHVybiB0aGlzXG4gICAgfVxuXG5cbiAgICAvLyBUQUIgREFUQS1BUElcbiAgICAvLyA9PT09PT09PT09PT1cblxuICAgIHZhciBjbGlja0hhbmRsZXIgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpXG4gICAgICBQbHVnaW4uY2FsbCgkKHRoaXMpLCAnc2hvdycpXG4gICAgfVxuXG4gICAgJChkb2N1bWVudClcbiAgICAgIC5vbignY2xpY2suYnMudGFiLmRhdGEtYXBpJywgJ1tkYXRhLXRvZ2dsZT1cInRhYlwiXScsIGNsaWNrSGFuZGxlcilcbiAgICAgIC5vbignY2xpY2suYnMudGFiLmRhdGEtYXBpJywgJ1tkYXRhLXRvZ2dsZT1cInBpbGxcIl0nLCBjbGlja0hhbmRsZXIpXG5cbiAgfShqUXVlcnkpO1xuXG4gIC8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAqIEJvb3RzdHJhcDogYWZmaXguanMgdjMuMy4yXG4gICogaHR0cDovL2dldGJvb3RzdHJhcC5jb20vamF2YXNjcmlwdC8jYWZmaXhcbiAgKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgKiBDb3B5cmlnaHQgMjAxMS0yMDE1IFR3aXR0ZXIsIEluYy5cbiAgKiBMaWNlbnNlZCB1bmRlciBNSVQgKGh0dHBzOi8vZ2l0aHViLmNvbS90d2JzL2Jvb3RzdHJhcC9ibG9iL21hc3Rlci9MSUNFTlNFKVxuICAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xuXG5cbiAgK2Z1bmN0aW9uICgkKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgLy8gQUZGSVggQ0xBU1MgREVGSU5JVElPTlxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT1cblxuICAgIHZhciBBZmZpeCA9IGZ1bmN0aW9uIChlbGVtZW50LCBvcHRpb25zKSB7XG4gICAgICB0aGlzLm9wdGlvbnMgPSAkLmV4dGVuZCh7fSwgQWZmaXguREVGQVVMVFMsIG9wdGlvbnMpXG5cbiAgICAgIHRoaXMuJHRhcmdldCA9ICQodGhpcy5vcHRpb25zLnRhcmdldClcbiAgICAgICAgLm9uKCdzY3JvbGwuYnMuYWZmaXguZGF0YS1hcGknLCAkLnByb3h5KHRoaXMuY2hlY2tQb3NpdGlvbiwgdGhpcykpXG4gICAgICAgIC5vbignY2xpY2suYnMuYWZmaXguZGF0YS1hcGknLCAgJC5wcm94eSh0aGlzLmNoZWNrUG9zaXRpb25XaXRoRXZlbnRMb29wLCB0aGlzKSlcblxuICAgICAgdGhpcy4kZWxlbWVudCAgICAgPSAkKGVsZW1lbnQpXG4gICAgICB0aGlzLmFmZml4ZWQgICAgICA9XG4gICAgICB0aGlzLnVucGluICAgICAgICA9XG4gICAgICB0aGlzLnBpbm5lZE9mZnNldCA9IG51bGxcblxuICAgICAgdGhpcy5jaGVja1Bvc2l0aW9uKClcbiAgICB9XG5cbiAgICBBZmZpeC5WRVJTSU9OICA9ICczLjMuMidcblxuICAgIEFmZml4LlJFU0VUICAgID0gJ2FmZml4IGFmZml4LXRvcCBhZmZpeC1ib3R0b20nXG5cbiAgICBBZmZpeC5ERUZBVUxUUyA9IHtcbiAgICAgIG9mZnNldDogMCxcbiAgICAgIHRhcmdldDogd2luZG93XG4gICAgfVxuXG4gICAgQWZmaXgucHJvdG90eXBlLmdldFN0YXRlID0gZnVuY3Rpb24gKHNjcm9sbEhlaWdodCwgaGVpZ2h0LCBvZmZzZXRUb3AsIG9mZnNldEJvdHRvbSkge1xuICAgICAgdmFyIHNjcm9sbFRvcCAgICA9IHRoaXMuJHRhcmdldC5zY3JvbGxUb3AoKVxuICAgICAgdmFyIHBvc2l0aW9uICAgICA9IHRoaXMuJGVsZW1lbnQub2Zmc2V0KClcbiAgICAgIHZhciB0YXJnZXRIZWlnaHQgPSB0aGlzLiR0YXJnZXQuaGVpZ2h0KClcblxuICAgICAgaWYgKG9mZnNldFRvcCAhPSBudWxsICYmIHRoaXMuYWZmaXhlZCA9PSAndG9wJykgcmV0dXJuIHNjcm9sbFRvcCA8IG9mZnNldFRvcCA/ICd0b3AnIDogZmFsc2VcblxuICAgICAgaWYgKHRoaXMuYWZmaXhlZCA9PSAnYm90dG9tJykge1xuICAgICAgICBpZiAob2Zmc2V0VG9wICE9IG51bGwpIHJldHVybiAoc2Nyb2xsVG9wICsgdGhpcy51bnBpbiA8PSBwb3NpdGlvbi50b3ApID8gZmFsc2UgOiAnYm90dG9tJ1xuICAgICAgICByZXR1cm4gKHNjcm9sbFRvcCArIHRhcmdldEhlaWdodCA8PSBzY3JvbGxIZWlnaHQgLSBvZmZzZXRCb3R0b20pID8gZmFsc2UgOiAnYm90dG9tJ1xuICAgICAgfVxuXG4gICAgICB2YXIgaW5pdGlhbGl6aW5nICAgPSB0aGlzLmFmZml4ZWQgPT0gbnVsbFxuICAgICAgdmFyIGNvbGxpZGVyVG9wICAgID0gaW5pdGlhbGl6aW5nID8gc2Nyb2xsVG9wIDogcG9zaXRpb24udG9wXG4gICAgICB2YXIgY29sbGlkZXJIZWlnaHQgPSBpbml0aWFsaXppbmcgPyB0YXJnZXRIZWlnaHQgOiBoZWlnaHRcblxuICAgICAgaWYgKG9mZnNldFRvcCAhPSBudWxsICYmIHNjcm9sbFRvcCA8PSBvZmZzZXRUb3ApIHJldHVybiAndG9wJ1xuICAgICAgaWYgKG9mZnNldEJvdHRvbSAhPSBudWxsICYmIChjb2xsaWRlclRvcCArIGNvbGxpZGVySGVpZ2h0ID49IHNjcm9sbEhlaWdodCAtIG9mZnNldEJvdHRvbSkpIHJldHVybiAnYm90dG9tJ1xuXG4gICAgICByZXR1cm4gZmFsc2VcbiAgICB9XG5cbiAgICBBZmZpeC5wcm90b3R5cGUuZ2V0UGlubmVkT2Zmc2V0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKHRoaXMucGlubmVkT2Zmc2V0KSByZXR1cm4gdGhpcy5waW5uZWRPZmZzZXRcbiAgICAgIHRoaXMuJGVsZW1lbnQucmVtb3ZlQ2xhc3MoQWZmaXguUkVTRVQpLmFkZENsYXNzKCdhZmZpeCcpXG4gICAgICB2YXIgc2Nyb2xsVG9wID0gdGhpcy4kdGFyZ2V0LnNjcm9sbFRvcCgpXG4gICAgICB2YXIgcG9zaXRpb24gID0gdGhpcy4kZWxlbWVudC5vZmZzZXQoKVxuICAgICAgcmV0dXJuICh0aGlzLnBpbm5lZE9mZnNldCA9IHBvc2l0aW9uLnRvcCAtIHNjcm9sbFRvcClcbiAgICB9XG5cbiAgICBBZmZpeC5wcm90b3R5cGUuY2hlY2tQb3NpdGlvbldpdGhFdmVudExvb3AgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBzZXRUaW1lb3V0KCQucHJveHkodGhpcy5jaGVja1Bvc2l0aW9uLCB0aGlzKSwgMSlcbiAgICB9XG5cbiAgICBBZmZpeC5wcm90b3R5cGUuY2hlY2tQb3NpdGlvbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmICghdGhpcy4kZWxlbWVudC5pcygnOnZpc2libGUnKSkgcmV0dXJuXG5cbiAgICAgIHZhciBoZWlnaHQgICAgICAgPSB0aGlzLiRlbGVtZW50LmhlaWdodCgpXG4gICAgICB2YXIgb2Zmc2V0ICAgICAgID0gdGhpcy5vcHRpb25zLm9mZnNldFxuICAgICAgdmFyIG9mZnNldFRvcCAgICA9IG9mZnNldC50b3BcbiAgICAgIHZhciBvZmZzZXRCb3R0b20gPSBvZmZzZXQuYm90dG9tXG4gICAgICB2YXIgc2Nyb2xsSGVpZ2h0ID0gJCgnYm9keScpLmhlaWdodCgpXG5cbiAgICAgIGlmICh0eXBlb2Ygb2Zmc2V0ICE9ICdvYmplY3QnKSAgICAgICAgIG9mZnNldEJvdHRvbSA9IG9mZnNldFRvcCA9IG9mZnNldFxuICAgICAgaWYgKHR5cGVvZiBvZmZzZXRUb3AgPT0gJ2Z1bmN0aW9uJykgICAgb2Zmc2V0VG9wICAgID0gb2Zmc2V0LnRvcCh0aGlzLiRlbGVtZW50KVxuICAgICAgaWYgKHR5cGVvZiBvZmZzZXRCb3R0b20gPT0gJ2Z1bmN0aW9uJykgb2Zmc2V0Qm90dG9tID0gb2Zmc2V0LmJvdHRvbSh0aGlzLiRlbGVtZW50KVxuXG4gICAgICB2YXIgYWZmaXggPSB0aGlzLmdldFN0YXRlKHNjcm9sbEhlaWdodCwgaGVpZ2h0LCBvZmZzZXRUb3AsIG9mZnNldEJvdHRvbSlcblxuICAgICAgaWYgKHRoaXMuYWZmaXhlZCAhPSBhZmZpeCkge1xuICAgICAgICBpZiAodGhpcy51bnBpbiAhPSBudWxsKSB0aGlzLiRlbGVtZW50LmNzcygndG9wJywgJycpXG5cbiAgICAgICAgdmFyIGFmZml4VHlwZSA9ICdhZmZpeCcgKyAoYWZmaXggPyAnLScgKyBhZmZpeCA6ICcnKVxuICAgICAgICB2YXIgZSAgICAgICAgID0gJC5FdmVudChhZmZpeFR5cGUgKyAnLmJzLmFmZml4JylcblxuICAgICAgICB0aGlzLiRlbGVtZW50LnRyaWdnZXIoZSlcblxuICAgICAgICBpZiAoZS5pc0RlZmF1bHRQcmV2ZW50ZWQoKSkgcmV0dXJuXG5cbiAgICAgICAgdGhpcy5hZmZpeGVkID0gYWZmaXhcbiAgICAgICAgdGhpcy51bnBpbiA9IGFmZml4ID09ICdib3R0b20nID8gdGhpcy5nZXRQaW5uZWRPZmZzZXQoKSA6IG51bGxcblxuICAgICAgICB0aGlzLiRlbGVtZW50XG4gICAgICAgICAgLnJlbW92ZUNsYXNzKEFmZml4LlJFU0VUKVxuICAgICAgICAgIC5hZGRDbGFzcyhhZmZpeFR5cGUpXG4gICAgICAgICAgLnRyaWdnZXIoYWZmaXhUeXBlLnJlcGxhY2UoJ2FmZml4JywgJ2FmZml4ZWQnKSArICcuYnMuYWZmaXgnKVxuICAgICAgfVxuXG4gICAgICBpZiAoYWZmaXggPT0gJ2JvdHRvbScpIHtcbiAgICAgICAgdGhpcy4kZWxlbWVudC5vZmZzZXQoe1xuICAgICAgICAgIHRvcDogc2Nyb2xsSGVpZ2h0IC0gaGVpZ2h0IC0gb2Zmc2V0Qm90dG9tXG4gICAgICAgIH0pXG4gICAgICB9XG4gICAgfVxuXG5cbiAgICAvLyBBRkZJWCBQTFVHSU4gREVGSU5JVElPTlxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgICBmdW5jdGlvbiBQbHVnaW4ob3B0aW9uKSB7XG4gICAgICByZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyICR0aGlzICAgPSAkKHRoaXMpXG4gICAgICAgIHZhciBkYXRhICAgID0gJHRoaXMuZGF0YSgnYnMuYWZmaXgnKVxuICAgICAgICB2YXIgb3B0aW9ucyA9IHR5cGVvZiBvcHRpb24gPT0gJ29iamVjdCcgJiYgb3B0aW9uXG5cbiAgICAgICAgaWYgKCFkYXRhKSAkdGhpcy5kYXRhKCdicy5hZmZpeCcsIChkYXRhID0gbmV3IEFmZml4KHRoaXMsIG9wdGlvbnMpKSlcbiAgICAgICAgaWYgKHR5cGVvZiBvcHRpb24gPT0gJ3N0cmluZycpIGRhdGFbb3B0aW9uXSgpXG4gICAgICB9KVxuICAgIH1cblxuICAgIHZhciBvbGQgPSAkLmZuLmFmZml4XG5cbiAgICAkLmZuLmFmZml4ICAgICAgICAgICAgID0gUGx1Z2luXG4gICAgJC5mbi5hZmZpeC5Db25zdHJ1Y3RvciA9IEFmZml4XG5cblxuICAgIC8vIEFGRklYIE5PIENPTkZMSUNUXG4gICAgLy8gPT09PT09PT09PT09PT09PT1cblxuICAgICQuZm4uYWZmaXgubm9Db25mbGljdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICQuZm4uYWZmaXggPSBvbGRcbiAgICAgIHJldHVybiB0aGlzXG4gICAgfVxuXG5cbiAgICAvLyBBRkZJWCBEQVRBLUFQSVxuICAgIC8vID09PT09PT09PT09PT09XG5cbiAgICAkKHdpbmRvdykub24oJ2xvYWQnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAkKCdbZGF0YS1zcHk9XCJhZmZpeFwiXScpLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgJHNweSA9ICQodGhpcylcbiAgICAgICAgdmFyIGRhdGEgPSAkc3B5LmRhdGEoKVxuXG4gICAgICAgIGRhdGEub2Zmc2V0ID0gZGF0YS5vZmZzZXQgfHwge31cblxuICAgICAgICBpZiAoZGF0YS5vZmZzZXRCb3R0b20gIT0gbnVsbCkgZGF0YS5vZmZzZXQuYm90dG9tID0gZGF0YS5vZmZzZXRCb3R0b21cbiAgICAgICAgaWYgKGRhdGEub2Zmc2V0VG9wICAgICE9IG51bGwpIGRhdGEub2Zmc2V0LnRvcCAgICA9IGRhdGEub2Zmc2V0VG9wXG5cbiAgICAgICAgUGx1Z2luLmNhbGwoJHNweSwgZGF0YSlcbiAgICAgIH0pXG4gICAgfSlcblxuICB9KGpRdWVyeSk7XG59KTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vanMvY29tcG9uZW50cy9ib290c3RyYXAuanNcbi8vIG1vZHVsZSBpZCA9IDRcbi8vIG1vZHVsZSBjaHVua3MgPSAwIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///4\n")},/*!********************************!*\
  !*** ./js ^.*mensu\-blog\.js$ ***!
  \********************************/
/*! no static exports found */
/*! all exports used */
function(module,exports,__webpack_require__){eval('var map = {\n\t"./components/mensu-blog.js": 6\n};\nfunction webpackContext(req) {\n\treturn __webpack_require__(webpackContextResolve(req));\n};\nfunction webpackContextResolve(req) {\n\tvar id = map[req];\n\tif(!(id + 1)) // check for number or string\n\t\tthrow new Error("Cannot find module \'" + req + "\'.");\n\treturn id;\n};\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 5;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNS5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL2pzIF4uKm1lbnN1XFwtYmxvZ1xcLmpzJD81NTQ4Il0sInNvdXJjZXNDb250ZW50IjpbInZhciBtYXAgPSB7XG5cdFwiLi9jb21wb25lbnRzL21lbnN1LWJsb2cuanNcIjogNlxufTtcbmZ1bmN0aW9uIHdlYnBhY2tDb250ZXh0KHJlcSkge1xuXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyh3ZWJwYWNrQ29udGV4dFJlc29sdmUocmVxKSk7XG59O1xuZnVuY3Rpb24gd2VicGFja0NvbnRleHRSZXNvbHZlKHJlcSkge1xuXHR2YXIgaWQgPSBtYXBbcmVxXTtcblx0aWYoIShpZCArIDEpKSAvLyBjaGVjayBmb3IgbnVtYmVyIG9yIHN0cmluZ1xuXHRcdHRocm93IG5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIgKyByZXEgKyBcIicuXCIpO1xuXHRyZXR1cm4gaWQ7XG59O1xud2VicGFja0NvbnRleHQua2V5cyA9IGZ1bmN0aW9uIHdlYnBhY2tDb250ZXh0S2V5cygpIHtcblx0cmV0dXJuIE9iamVjdC5rZXlzKG1hcCk7XG59O1xud2VicGFja0NvbnRleHQucmVzb2x2ZSA9IHdlYnBhY2tDb250ZXh0UmVzb2x2ZTtcbm1vZHVsZS5leHBvcnRzID0gd2VicGFja0NvbnRleHQ7XG53ZWJwYWNrQ29udGV4dC5pZCA9IDU7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9qcyBeLiptZW5zdVxcLWJsb2dcXC5qcyRcbi8vIG1vZHVsZSBpZCA9IDVcbi8vIG1vZHVsZSBjaHVua3MgPSAwIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///5\n')},/*!*************************************!*\
  !*** ./js/components/mensu-blog.js ***!
  \*************************************/
/*! no static exports found */
/*! all exports used */
function(module,exports,__webpack_require__){eval("var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;(function (factory) {\n  if (typeof module === 'object' && module.exports) {\n    // Node/CommonJS\n    module.exports = function( root, jQuery ) {\n      if ( jQuery === undefined ) {\n        // require('jQuery') returns a factory that requires window to\n        // build a jQuery instance, we normalize how we use modules\n        // that require this pattern but the window provided is a noop\n        // if it's defined (how jquery works)\n        if ( typeof window !== 'undefined' ) {\n          jQuery = __webpack_require__(/*! ./jquery.js */ 0);\n        }\n        else {\n          jQuery = __webpack_require__(/*! ./jquery.js */ 0)(root);\n        }\n      }\n      factory(jQuery);\n      return jQuery;\n    };\n  } if (true) {\n    // AMD. Register as an anonymous module.\n    !(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(/*! ./jquery.js */ 0)], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?\n\t\t\t\t(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n  } else {\n    // Browser globals\n    factory(jQuery);\n  }\n})(function ($) {\n    /* like button */\n    // keep \"like\" button on the same line as \"share on\"\n    var previousDistance_dsShare_dsThread = \"0px\", class_dsMeta_previousWidth = 0;\n    var dsElementsReady = false;\n    var $pseudoDsMeta = null, $dsShare = null, $dsThread = null, $dsMeta = null;\n    $(document).ready(function() {\n      $pseudoDsMeta = $('.pseudo-ds-meta');\n      $dsShare = $('.ds-share'),\n      $dsThread = $('.ds-thread');\n      $dsMeta = $('.ds-meta');\n      modifyShareOn();\n    });\n    $('body').on('resize', function() {\n      // raise \"like\" button\n      var currentDistance_dsShare_dsThread = $dsShare[0].offsetTop - $dsThread[0].offsetTop - 5 + \"px\";\n      if (previousDistance_dsShare_dsThread != currentDistance_dsShare_dsThread) {\n        previousDistance_dsShare_dsThread = $dsMeta[0].style.top = currentDistance_dsShare_dsThread;\n      }\n\n      // change the offset of \"share on\" as the width of \"like\" button changes\n      var class_dsMeta_currentWidth = class_dsMeta[0].clientWidth;\n      if (class_dsMeta_previousWidth != class_dsMeta_currentWidth) {\n        $pseudoDsMeta[0].style.width = (class_dsMeta_currentWidth > 0) ? (class_dsMeta_currentWidth + 20 + \"px\") : \"0\";\n        class_dsMeta_previousWidth = class_dsMeta_currentWidth;\n      }\n    });\n\n\n    /* share on */\n    function modifyShareOn() {\n      // fix \"undefined\" problem\n      $('ul.ds-share-icons-16').on('mouseover', function() {\n        $('.ds-douban').text('Douban')\n        $('.ds-youdao').text('Youdao CloudNote');\n        $('ul.ds-share-icons-16').off('mouseover');\n      });\n    }\n\n\n    /* back to top button */\n    var $backToTop = $('#backtotop');\n    $backToTop.on('click', function () {\n        var documentBody = document.body;\n        var distanceFromTop = documentBody.scrollTop;\n        var time = distanceFromTop / 30;\n        if (time > 1500) time = 1500;\n        else if (time < 200) time = 200;\n        $('html, body').animate({\n          scrollTop: 0\n        }, time, 'swing');\n        // window.requestAnimationFrame((function() {\n        //   var calculatedScrollTop = parseInt(documentBody.scrollTop) - pace;\n        //   documentBody.scrollTop = ((calculatedScrollTop < 0) ? 0 : calculatedScrollTop);\n        //   if (parseInt(documentBody.scrollTop) > 0) window.requestAnimationFrame(arguments.callee);\n        // }));\n      // }, false);\n    });\n\n    /* gif view again */\n    $('.view-again').on('click', function() {\n      var img = this.parentNode.nextElementSibling.firstChild;\n      var imgSrc = img.src;\n      img.src = \"https://www.baidu.com/img/bd_logo1.png\";\n      img.src = imgSrc;\n    });\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNi5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL2pzL2NvbXBvbmVudHMvbWVuc3UtYmxvZy5qcz8wYzA0Il0sInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiAoZmFjdG9yeSkge1xuICBpZiAodHlwZW9mIG1vZHVsZSA9PT0gJ29iamVjdCcgJiYgbW9kdWxlLmV4cG9ydHMpIHtcbiAgICAvLyBOb2RlL0NvbW1vbkpTXG4gICAgbW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiggcm9vdCwgalF1ZXJ5ICkge1xuICAgICAgaWYgKCBqUXVlcnkgPT09IHVuZGVmaW5lZCApIHtcbiAgICAgICAgLy8gcmVxdWlyZSgnalF1ZXJ5JykgcmV0dXJucyBhIGZhY3RvcnkgdGhhdCByZXF1aXJlcyB3aW5kb3cgdG9cbiAgICAgICAgLy8gYnVpbGQgYSBqUXVlcnkgaW5zdGFuY2UsIHdlIG5vcm1hbGl6ZSBob3cgd2UgdXNlIG1vZHVsZXNcbiAgICAgICAgLy8gdGhhdCByZXF1aXJlIHRoaXMgcGF0dGVybiBidXQgdGhlIHdpbmRvdyBwcm92aWRlZCBpcyBhIG5vb3BcbiAgICAgICAgLy8gaWYgaXQncyBkZWZpbmVkIChob3cganF1ZXJ5IHdvcmtzKVxuICAgICAgICBpZiAoIHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICkge1xuICAgICAgICAgIGpRdWVyeSA9IHJlcXVpcmUoJy4vanF1ZXJ5LmpzJyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgalF1ZXJ5ID0gcmVxdWlyZSgnLi9qcXVlcnkuanMnKShyb290KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgZmFjdG9yeShqUXVlcnkpO1xuICAgICAgcmV0dXJuIGpRdWVyeTtcbiAgICB9O1xuICB9IGlmICh0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpIHtcbiAgICAvLyBBTUQuIFJlZ2lzdGVyIGFzIGFuIGFub255bW91cyBtb2R1bGUuXG4gICAgZGVmaW5lKFsnLi9qcXVlcnkuanMnXSwgZmFjdG9yeSk7XG4gIH0gZWxzZSB7XG4gICAgLy8gQnJvd3NlciBnbG9iYWxzXG4gICAgZmFjdG9yeShqUXVlcnkpO1xuICB9XG59KShmdW5jdGlvbiAoJCkge1xuICAgIC8qIGxpa2UgYnV0dG9uICovXG4gICAgLy8ga2VlcCBcImxpa2VcIiBidXR0b24gb24gdGhlIHNhbWUgbGluZSBhcyBcInNoYXJlIG9uXCJcbiAgICB2YXIgcHJldmlvdXNEaXN0YW5jZV9kc1NoYXJlX2RzVGhyZWFkID0gXCIwcHhcIiwgY2xhc3NfZHNNZXRhX3ByZXZpb3VzV2lkdGggPSAwO1xuICAgIHZhciBkc0VsZW1lbnRzUmVhZHkgPSBmYWxzZTtcbiAgICB2YXIgJHBzZXVkb0RzTWV0YSA9IG51bGwsICRkc1NoYXJlID0gbnVsbCwgJGRzVGhyZWFkID0gbnVsbCwgJGRzTWV0YSA9IG51bGw7XG4gICAgJChkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24oKSB7XG4gICAgICAkcHNldWRvRHNNZXRhID0gJCgnLnBzZXVkby1kcy1tZXRhJyk7XG4gICAgICAkZHNTaGFyZSA9ICQoJy5kcy1zaGFyZScpLFxuICAgICAgJGRzVGhyZWFkID0gJCgnLmRzLXRocmVhZCcpO1xuICAgICAgJGRzTWV0YSA9ICQoJy5kcy1tZXRhJyk7XG4gICAgICBtb2RpZnlTaGFyZU9uKCk7XG4gICAgfSk7XG4gICAgJCgnYm9keScpLm9uKCdyZXNpemUnLCBmdW5jdGlvbigpIHtcbiAgICAgIC8vIHJhaXNlIFwibGlrZVwiIGJ1dHRvblxuICAgICAgdmFyIGN1cnJlbnREaXN0YW5jZV9kc1NoYXJlX2RzVGhyZWFkID0gJGRzU2hhcmVbMF0ub2Zmc2V0VG9wIC0gJGRzVGhyZWFkWzBdLm9mZnNldFRvcCAtIDUgKyBcInB4XCI7XG4gICAgICBpZiAocHJldmlvdXNEaXN0YW5jZV9kc1NoYXJlX2RzVGhyZWFkICE9IGN1cnJlbnREaXN0YW5jZV9kc1NoYXJlX2RzVGhyZWFkKSB7XG4gICAgICAgIHByZXZpb3VzRGlzdGFuY2VfZHNTaGFyZV9kc1RocmVhZCA9ICRkc01ldGFbMF0uc3R5bGUudG9wID0gY3VycmVudERpc3RhbmNlX2RzU2hhcmVfZHNUaHJlYWQ7XG4gICAgICB9XG5cbiAgICAgIC8vIGNoYW5nZSB0aGUgb2Zmc2V0IG9mIFwic2hhcmUgb25cIiBhcyB0aGUgd2lkdGggb2YgXCJsaWtlXCIgYnV0dG9uIGNoYW5nZXNcbiAgICAgIHZhciBjbGFzc19kc01ldGFfY3VycmVudFdpZHRoID0gY2xhc3NfZHNNZXRhWzBdLmNsaWVudFdpZHRoO1xuICAgICAgaWYgKGNsYXNzX2RzTWV0YV9wcmV2aW91c1dpZHRoICE9IGNsYXNzX2RzTWV0YV9jdXJyZW50V2lkdGgpIHtcbiAgICAgICAgJHBzZXVkb0RzTWV0YVswXS5zdHlsZS53aWR0aCA9IChjbGFzc19kc01ldGFfY3VycmVudFdpZHRoID4gMCkgPyAoY2xhc3NfZHNNZXRhX2N1cnJlbnRXaWR0aCArIDIwICsgXCJweFwiKSA6IFwiMFwiO1xuICAgICAgICBjbGFzc19kc01ldGFfcHJldmlvdXNXaWR0aCA9IGNsYXNzX2RzTWV0YV9jdXJyZW50V2lkdGg7XG4gICAgICB9XG4gICAgfSk7XG5cblxuICAgIC8qIHNoYXJlIG9uICovXG4gICAgZnVuY3Rpb24gbW9kaWZ5U2hhcmVPbigpIHtcbiAgICAgIC8vIGZpeCBcInVuZGVmaW5lZFwiIHByb2JsZW1cbiAgICAgICQoJ3VsLmRzLXNoYXJlLWljb25zLTE2Jykub24oJ21vdXNlb3ZlcicsIGZ1bmN0aW9uKCkge1xuICAgICAgICAkKCcuZHMtZG91YmFuJykudGV4dCgnRG91YmFuJylcbiAgICAgICAgJCgnLmRzLXlvdWRhbycpLnRleHQoJ1lvdWRhbyBDbG91ZE5vdGUnKTtcbiAgICAgICAgJCgndWwuZHMtc2hhcmUtaWNvbnMtMTYnKS5vZmYoJ21vdXNlb3ZlcicpO1xuICAgICAgfSk7XG4gICAgfVxuXG5cbiAgICAvKiBiYWNrIHRvIHRvcCBidXR0b24gKi9cbiAgICB2YXIgJGJhY2tUb1RvcCA9ICQoJyNiYWNrdG90b3AnKTtcbiAgICAkYmFja1RvVG9wLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGRvY3VtZW50Qm9keSA9IGRvY3VtZW50LmJvZHk7XG4gICAgICAgIHZhciBkaXN0YW5jZUZyb21Ub3AgPSBkb2N1bWVudEJvZHkuc2Nyb2xsVG9wO1xuICAgICAgICB2YXIgdGltZSA9IGRpc3RhbmNlRnJvbVRvcCAvIDMwO1xuICAgICAgICBpZiAodGltZSA+IDE1MDApIHRpbWUgPSAxNTAwO1xuICAgICAgICBlbHNlIGlmICh0aW1lIDwgMjAwKSB0aW1lID0gMjAwO1xuICAgICAgICAkKCdodG1sLCBib2R5JykuYW5pbWF0ZSh7XG4gICAgICAgICAgc2Nyb2xsVG9wOiAwXG4gICAgICAgIH0sIHRpbWUsICdzd2luZycpO1xuICAgICAgICAvLyB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKChmdW5jdGlvbigpIHtcbiAgICAgICAgLy8gICB2YXIgY2FsY3VsYXRlZFNjcm9sbFRvcCA9IHBhcnNlSW50KGRvY3VtZW50Qm9keS5zY3JvbGxUb3ApIC0gcGFjZTtcbiAgICAgICAgLy8gICBkb2N1bWVudEJvZHkuc2Nyb2xsVG9wID0gKChjYWxjdWxhdGVkU2Nyb2xsVG9wIDwgMCkgPyAwIDogY2FsY3VsYXRlZFNjcm9sbFRvcCk7XG4gICAgICAgIC8vICAgaWYgKHBhcnNlSW50KGRvY3VtZW50Qm9keS5zY3JvbGxUb3ApID4gMCkgd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZShhcmd1bWVudHMuY2FsbGVlKTtcbiAgICAgICAgLy8gfSkpO1xuICAgICAgLy8gfSwgZmFsc2UpO1xuICAgIH0pO1xuXG4gICAgLyogZ2lmIHZpZXcgYWdhaW4gKi9cbiAgICAkKCcudmlldy1hZ2FpbicpLm9uKCdjbGljaycsIGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIGltZyA9IHRoaXMucGFyZW50Tm9kZS5uZXh0RWxlbWVudFNpYmxpbmcuZmlyc3RDaGlsZDtcbiAgICAgIHZhciBpbWdTcmMgPSBpbWcuc3JjO1xuICAgICAgaW1nLnNyYyA9IFwiaHR0cHM6Ly93d3cuYmFpZHUuY29tL2ltZy9iZF9sb2dvMS5wbmdcIjtcbiAgICAgIGltZy5zcmMgPSBpbWdTcmM7XG4gICAgfSk7XG59KTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vanMvY29tcG9uZW50cy9tZW5zdS1ibG9nLmpzXG4vLyBtb2R1bGUgaWQgPSA2XG4vLyBtb2R1bGUgY2h1bmtzID0gMCJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///6\n")},/*!******************************!*\
  !*** ./js ^.*hux\-blog\.js$ ***!
  \******************************/
/*! no static exports found */
/*! all exports used */
function(module,exports,__webpack_require__){eval('var map = {\n\t"./components/hux-blog.js": 8\n};\nfunction webpackContext(req) {\n\treturn __webpack_require__(webpackContextResolve(req));\n};\nfunction webpackContextResolve(req) {\n\tvar id = map[req];\n\tif(!(id + 1)) // check for number or string\n\t\tthrow new Error("Cannot find module \'" + req + "\'.");\n\treturn id;\n};\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 7;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL2pzIF4uKmh1eFxcLWJsb2dcXC5qcyQ/OTVkZCJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgbWFwID0ge1xuXHRcIi4vY29tcG9uZW50cy9odXgtYmxvZy5qc1wiOiA4XG59O1xuZnVuY3Rpb24gd2VicGFja0NvbnRleHQocmVxKSB7XG5cdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKHdlYnBhY2tDb250ZXh0UmVzb2x2ZShyZXEpKTtcbn07XG5mdW5jdGlvbiB3ZWJwYWNrQ29udGV4dFJlc29sdmUocmVxKSB7XG5cdHZhciBpZCA9IG1hcFtyZXFdO1xuXHRpZighKGlkICsgMSkpIC8vIGNoZWNrIGZvciBudW1iZXIgb3Igc3RyaW5nXG5cdFx0dGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIiArIHJlcSArIFwiJy5cIik7XG5cdHJldHVybiBpZDtcbn07XG53ZWJwYWNrQ29udGV4dC5rZXlzID0gZnVuY3Rpb24gd2VicGFja0NvbnRleHRLZXlzKCkge1xuXHRyZXR1cm4gT2JqZWN0LmtleXMobWFwKTtcbn07XG53ZWJwYWNrQ29udGV4dC5yZXNvbHZlID0gd2VicGFja0NvbnRleHRSZXNvbHZlO1xubW9kdWxlLmV4cG9ydHMgPSB3ZWJwYWNrQ29udGV4dDtcbndlYnBhY2tDb250ZXh0LmlkID0gNztcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL2pzIF4uKmh1eFxcLWJsb2dcXC5qcyRcbi8vIG1vZHVsZSBpZCA9IDdcbi8vIG1vZHVsZSBjaHVua3MgPSAwIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///7\n')},/*!***********************************!*\
  !*** ./js/components/hux-blog.js ***!
  \***********************************/
/*! no static exports found */
/*! all exports used */
function(module,exports,__webpack_require__){eval("var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/*!\n * Clean Blog v1.0.0 (http://startbootstrap.com)\n * Copyright 2015 Start Bootstrap\n * Licensed under Apache 2.0 (https://github.com/IronSummitMedia/startbootstrap/blob/gh-pages/LICENSE)\n */\n\n /*!\n * Hux Blog v1.6.0 (http://startbootstrap.com)\n * Copyright 2016 @huxpro\n * Licensed under Apache 2.0 \n */\n\n// Tooltip Init\n// Unuse by Hux since V1.6: Titles now display by default so there is no need for tooltip\n(function (factory) {\n  if (typeof module === 'object' && module.exports) {\n    // Node/CommonJS\n    module.exports = function( root, jQuery ) {\n      if ( jQuery === undefined ) {\n        // require('jQuery') returns a factory that requires window to\n        // build a jQuery instance, we normalize how we use modules\n        // that require this pattern but the window provided is a noop\n        // if it's defined (how jquery works)\n        if ( typeof window !== 'undefined' ) {\n          jQuery = __webpack_require__(/*! ./jquery.js */ 0);\n        }\n        else {\n          jQuery = __webpack_require__(/*! ./jquery.js */ 0)(root);\n        }\n      }\n      factory(jQuery);\n      return jQuery;\n    };\n  } if (true) {\n    // AMD. Register as an anonymous module.\n    !(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(/*! ./jquery.js */ 0)], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?\n\t\t\t\t(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n  } else {\n    // Browser globals\n    factory(jQuery);\n  }\n})(function ($) {\n  $(document).ready(function() {\n    $(\"[data-toggle='tooltip']\").tooltip();\n    __webpack_require__(/*! ./top-nav.js */ 9)(this, $);\n    // var FastClickAttach = require('./fastclick.min.js');\n    // var $nav = $('nav');\n    // if ($nav.length) {\n    //   FastClickAttach($nav[0]);\n    // }\n  });\n  \n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiOC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL2pzL2NvbXBvbmVudHMvaHV4LWJsb2cuanM/MjU2YyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiFcbiAqIENsZWFuIEJsb2cgdjEuMC4wIChodHRwOi8vc3RhcnRib290c3RyYXAuY29tKVxuICogQ29weXJpZ2h0IDIwMTUgU3RhcnQgQm9vdHN0cmFwXG4gKiBMaWNlbnNlZCB1bmRlciBBcGFjaGUgMi4wIChodHRwczovL2dpdGh1Yi5jb20vSXJvblN1bW1pdE1lZGlhL3N0YXJ0Ym9vdHN0cmFwL2Jsb2IvZ2gtcGFnZXMvTElDRU5TRSlcbiAqL1xuXG4gLyohXG4gKiBIdXggQmxvZyB2MS42LjAgKGh0dHA6Ly9zdGFydGJvb3RzdHJhcC5jb20pXG4gKiBDb3B5cmlnaHQgMjAxNiBAaHV4cHJvXG4gKiBMaWNlbnNlZCB1bmRlciBBcGFjaGUgMi4wIFxuICovXG5cbi8vIFRvb2x0aXAgSW5pdFxuLy8gVW51c2UgYnkgSHV4IHNpbmNlIFYxLjY6IFRpdGxlcyBub3cgZGlzcGxheSBieSBkZWZhdWx0IHNvIHRoZXJlIGlzIG5vIG5lZWQgZm9yIHRvb2x0aXBcbihmdW5jdGlvbiAoZmFjdG9yeSkge1xuICBpZiAodHlwZW9mIG1vZHVsZSA9PT0gJ29iamVjdCcgJiYgbW9kdWxlLmV4cG9ydHMpIHtcbiAgICAvLyBOb2RlL0NvbW1vbkpTXG4gICAgbW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiggcm9vdCwgalF1ZXJ5ICkge1xuICAgICAgaWYgKCBqUXVlcnkgPT09IHVuZGVmaW5lZCApIHtcbiAgICAgICAgLy8gcmVxdWlyZSgnalF1ZXJ5JykgcmV0dXJucyBhIGZhY3RvcnkgdGhhdCByZXF1aXJlcyB3aW5kb3cgdG9cbiAgICAgICAgLy8gYnVpbGQgYSBqUXVlcnkgaW5zdGFuY2UsIHdlIG5vcm1hbGl6ZSBob3cgd2UgdXNlIG1vZHVsZXNcbiAgICAgICAgLy8gdGhhdCByZXF1aXJlIHRoaXMgcGF0dGVybiBidXQgdGhlIHdpbmRvdyBwcm92aWRlZCBpcyBhIG5vb3BcbiAgICAgICAgLy8gaWYgaXQncyBkZWZpbmVkIChob3cganF1ZXJ5IHdvcmtzKVxuICAgICAgICBpZiAoIHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICkge1xuICAgICAgICAgIGpRdWVyeSA9IHJlcXVpcmUoJy4vanF1ZXJ5LmpzJyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgalF1ZXJ5ID0gcmVxdWlyZSgnLi9qcXVlcnkuanMnKShyb290KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgZmFjdG9yeShqUXVlcnkpO1xuICAgICAgcmV0dXJuIGpRdWVyeTtcbiAgICB9O1xuICB9IGlmICh0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpIHtcbiAgICAvLyBBTUQuIFJlZ2lzdGVyIGFzIGFuIGFub255bW91cyBtb2R1bGUuXG4gICAgZGVmaW5lKFsnLi9qcXVlcnkuanMnXSwgZmFjdG9yeSk7XG4gIH0gZWxzZSB7XG4gICAgLy8gQnJvd3NlciBnbG9iYWxzXG4gICAgZmFjdG9yeShqUXVlcnkpO1xuICB9XG59KShmdW5jdGlvbiAoJCkge1xuICAkKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbigpIHtcbiAgICAkKFwiW2RhdGEtdG9nZ2xlPSd0b29sdGlwJ11cIikudG9vbHRpcCgpO1xuICAgIHJlcXVpcmUoJy4vdG9wLW5hdi5qcycpKHRoaXMsICQpO1xuICAgIC8vIHZhciBGYXN0Q2xpY2tBdHRhY2ggPSByZXF1aXJlKCcuL2Zhc3RjbGljay5taW4uanMnKTtcbiAgICAvLyB2YXIgJG5hdiA9ICQoJ25hdicpO1xuICAgIC8vIGlmICgkbmF2Lmxlbmd0aCkge1xuICAgIC8vICAgRmFzdENsaWNrQXR0YWNoKCRuYXZbMF0pO1xuICAgIC8vIH1cbiAgfSk7XG4gIFxufSk7XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL2pzL2NvbXBvbmVudHMvaHV4LWJsb2cuanNcbi8vIG1vZHVsZSBpZCA9IDhcbi8vIG1vZHVsZSBjaHVua3MgPSAwIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///8\n")},/*!**********************************!*\
  !*** ./js/components/top-nav.js ***!
  \**********************************/
/*! no static exports found */
/*! all exports used */
function(module,exports,__webpack_require__){eval("var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;// var toggle = document.querySelector('.navbar-toggle');\n// var navbar = document.querySelector('#huxblog_navbar');\n// var collapse = document.querySelector('.navbar-collapse');\n\n// toggle.addEventListener('click', handleMagic, false);\n// function handleMagic(e) {\n//     if (navbar.className.indexOf('in') > 0) {\n//         // CLOSE\n//         navbar.className = \" \";\n//         // wait until animation end.\n//         setTimeout(function() {\n//             // prevent frequently toggle\n//             if (navbar.className.indexOf('in') < 0) {\n//                 collapse.style.height = \"0px\";\n//             }\n//         }, 400);\n//     } else {\n//         // OPEN\n//         collapse.style.height = \"auto\";\n//         navbar.className += \" in\";\n//     }\n// }\n\n(function (factory) {\n  if (typeof module === 'object' && module.exports) {\n    // Node/CommonJS\n    module.exports = function( root, jQuery ) {\n      if ( jQuery === undefined ) {\n        // require('jQuery') returns a factory that requires window to\n        // build a jQuery instance, we normalize how we use modules\n        // that require this pattern but the window provided is a noop\n        // if it's defined (how jquery works)\n        if ( typeof window !== 'undefined' ) {\n          jQuery = __webpack_require__(/*! ./jquery.js */ 0);\n        }\n        else {\n          jQuery = __webpack_require__(/*! ./jquery.js */ 0)(root);\n        }\n      }\n      factory(jQuery);\n      return jQuery;\n    };\n  } if (true) {\n    // AMD. Register as an anonymous module.\n    !(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(/*! ./jquery.js */ 0)], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?\n\t\t\t\t(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n  } else {\n    // Browser globals\n    factory(jQuery);\n  }\n})(function ($) {\n    // Drop Bootstarp low-performance Navbar\n    // Use customize navbar with high-quality material design animation\n    // in high-perf jank-free CSS3 implementation\n    var toggle = document.querySelector('.navbar-toggle');\n    var navbar = document.querySelector('#huxblog_navbar');\n    var collapse = document.querySelector('.navbar-collapse');\n\n    var __HuxNav__ = {\n        close: function() {\n            navbar.className = \" \";\n            // wait until animation end.\n            setTimeout(function() {\n                // prevent frequently toggle\n                if(navbar.className.indexOf('in') < 0) {\n                    collapse.style.height = \"0px\"\n                }\n            }, 400)\n        },\n        open: function() {\n            collapse.style.height = \"auto\"\n            navbar.className += \" in\";\n        }\n    };\n\n    // Bind Event\n    toggle.addEventListener('click', function(e) {\n        if (navbar.className.indexOf('in') > 0) {\n            __HuxNav__.close()\n        } else {\n            __HuxNav__.open()\n        }\n    });\n\n    /**\n     * Since Fastclick is used to delegate 'touchstart' globally\n     * to hack 300ms delay in iOS by performing a fake 'click',\n     * Using 'e.stopPropagation' to stop 'touchstart' event from \n     * toggle/collapse will break global delegation.\n     * \n     * Instead, we use a 'e.target' filter to prevent handler\n     * added to document close HuxNav.  \n     *\n     * Also, we use 'click' instead of 'touchstart' as compromise\n     */\n    document.addEventListener('click', function(e){\n        if(e.target == toggle) return;\n        if(e.target.className == 'icon-bar') return;\n        __HuxNav__.close();\n    });\n\n    var MQL = 1170;\n\n    // primary navigation slide-in effect\n    // if ($(window).width() > MQL) {\n      var $catalog = $('.side-catalog');\n      var headerHeight = $('.navbar-custom').height();\n      var bannerHeight  = $('.intro-header .container').height();     \n      $(window).on('scroll', {\n        previousTop: 0\n      }, function() {\n          var currentTop = $(window).scrollTop();\n\n          // check if user is scrolling up by mouse or keyborad\n          if (currentTop < this.previousTop) {\n              // if scrolling up...\n              if (currentTop > 0 && $('.navbar-custom').hasClass('is-fixed')) {\n                  $('.navbar-custom').addClass('is-visible');\n              } else {\n                  $('.navbar-custom').removeClass('is-visible is-fixed');\n              }\n          } else if (currentTop > this.previousTop) {\n              // if scrolling down...\n              $('.navbar-custom').removeClass('is-visible');\n              if (currentTop > headerHeight && !$('.navbar-custom').hasClass('is-fixed')) {\n                  $('.navbar-custom').addClass('is-fixed');\n              }\n              \n          }\n          this.previousTop = currentTop;\n\n          // adjust the appearance of side-catalog\n          $catalog.show();\n          adjustCatalog(currentTop);\n      });\n      function adjustCatalog(currentTop) {\n        if (currentTop > (bannerHeight + 20)) {\n            $catalog.addClass('fixed');\n        } else {\n            $catalog.removeClass('fixed');\n        }\n      }\n      adjustCatalog($(window).scrollTop());\n    // }\n    \n});\n\n\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiOS5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL2pzL2NvbXBvbmVudHMvdG9wLW5hdi5qcz9kNjgxIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIHZhciB0b2dnbGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubmF2YmFyLXRvZ2dsZScpO1xuLy8gdmFyIG5hdmJhciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNodXhibG9nX25hdmJhcicpO1xuLy8gdmFyIGNvbGxhcHNlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm5hdmJhci1jb2xsYXBzZScpO1xuXG4vLyB0b2dnbGUuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBoYW5kbGVNYWdpYywgZmFsc2UpO1xuLy8gZnVuY3Rpb24gaGFuZGxlTWFnaWMoZSkge1xuLy8gICAgIGlmIChuYXZiYXIuY2xhc3NOYW1lLmluZGV4T2YoJ2luJykgPiAwKSB7XG4vLyAgICAgICAgIC8vIENMT1NFXG4vLyAgICAgICAgIG5hdmJhci5jbGFzc05hbWUgPSBcIiBcIjtcbi8vICAgICAgICAgLy8gd2FpdCB1bnRpbCBhbmltYXRpb24gZW5kLlxuLy8gICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuLy8gICAgICAgICAgICAgLy8gcHJldmVudCBmcmVxdWVudGx5IHRvZ2dsZVxuLy8gICAgICAgICAgICAgaWYgKG5hdmJhci5jbGFzc05hbWUuaW5kZXhPZignaW4nKSA8IDApIHtcbi8vICAgICAgICAgICAgICAgICBjb2xsYXBzZS5zdHlsZS5oZWlnaHQgPSBcIjBweFwiO1xuLy8gICAgICAgICAgICAgfVxuLy8gICAgICAgICB9LCA0MDApO1xuLy8gICAgIH0gZWxzZSB7XG4vLyAgICAgICAgIC8vIE9QRU5cbi8vICAgICAgICAgY29sbGFwc2Uuc3R5bGUuaGVpZ2h0ID0gXCJhdXRvXCI7XG4vLyAgICAgICAgIG5hdmJhci5jbGFzc05hbWUgKz0gXCIgaW5cIjtcbi8vICAgICB9XG4vLyB9XG5cbihmdW5jdGlvbiAoZmFjdG9yeSkge1xuICBpZiAodHlwZW9mIG1vZHVsZSA9PT0gJ29iamVjdCcgJiYgbW9kdWxlLmV4cG9ydHMpIHtcbiAgICAvLyBOb2RlL0NvbW1vbkpTXG4gICAgbW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiggcm9vdCwgalF1ZXJ5ICkge1xuICAgICAgaWYgKCBqUXVlcnkgPT09IHVuZGVmaW5lZCApIHtcbiAgICAgICAgLy8gcmVxdWlyZSgnalF1ZXJ5JykgcmV0dXJucyBhIGZhY3RvcnkgdGhhdCByZXF1aXJlcyB3aW5kb3cgdG9cbiAgICAgICAgLy8gYnVpbGQgYSBqUXVlcnkgaW5zdGFuY2UsIHdlIG5vcm1hbGl6ZSBob3cgd2UgdXNlIG1vZHVsZXNcbiAgICAgICAgLy8gdGhhdCByZXF1aXJlIHRoaXMgcGF0dGVybiBidXQgdGhlIHdpbmRvdyBwcm92aWRlZCBpcyBhIG5vb3BcbiAgICAgICAgLy8gaWYgaXQncyBkZWZpbmVkIChob3cganF1ZXJ5IHdvcmtzKVxuICAgICAgICBpZiAoIHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICkge1xuICAgICAgICAgIGpRdWVyeSA9IHJlcXVpcmUoJy4vanF1ZXJ5LmpzJyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgalF1ZXJ5ID0gcmVxdWlyZSgnLi9qcXVlcnkuanMnKShyb290KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgZmFjdG9yeShqUXVlcnkpO1xuICAgICAgcmV0dXJuIGpRdWVyeTtcbiAgICB9O1xuICB9IGlmICh0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpIHtcbiAgICAvLyBBTUQuIFJlZ2lzdGVyIGFzIGFuIGFub255bW91cyBtb2R1bGUuXG4gICAgZGVmaW5lKFsnLi9qcXVlcnkuanMnXSwgZmFjdG9yeSk7XG4gIH0gZWxzZSB7XG4gICAgLy8gQnJvd3NlciBnbG9iYWxzXG4gICAgZmFjdG9yeShqUXVlcnkpO1xuICB9XG59KShmdW5jdGlvbiAoJCkge1xuICAgIC8vIERyb3AgQm9vdHN0YXJwIGxvdy1wZXJmb3JtYW5jZSBOYXZiYXJcbiAgICAvLyBVc2UgY3VzdG9taXplIG5hdmJhciB3aXRoIGhpZ2gtcXVhbGl0eSBtYXRlcmlhbCBkZXNpZ24gYW5pbWF0aW9uXG4gICAgLy8gaW4gaGlnaC1wZXJmIGphbmstZnJlZSBDU1MzIGltcGxlbWVudGF0aW9uXG4gICAgdmFyIHRvZ2dsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5uYXZiYXItdG9nZ2xlJyk7XG4gICAgdmFyIG5hdmJhciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNodXhibG9nX25hdmJhcicpO1xuICAgIHZhciBjb2xsYXBzZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5uYXZiYXItY29sbGFwc2UnKTtcblxuICAgIHZhciBfX0h1eE5hdl9fID0ge1xuICAgICAgICBjbG9zZTogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBuYXZiYXIuY2xhc3NOYW1lID0gXCIgXCI7XG4gICAgICAgICAgICAvLyB3YWl0IHVudGlsIGFuaW1hdGlvbiBlbmQuXG4gICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIC8vIHByZXZlbnQgZnJlcXVlbnRseSB0b2dnbGVcbiAgICAgICAgICAgICAgICBpZihuYXZiYXIuY2xhc3NOYW1lLmluZGV4T2YoJ2luJykgPCAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbGxhcHNlLnN0eWxlLmhlaWdodCA9IFwiMHB4XCJcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LCA0MDApXG4gICAgICAgIH0sXG4gICAgICAgIG9wZW46IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgY29sbGFwc2Uuc3R5bGUuaGVpZ2h0ID0gXCJhdXRvXCJcbiAgICAgICAgICAgIG5hdmJhci5jbGFzc05hbWUgKz0gXCIgaW5cIjtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvLyBCaW5kIEV2ZW50XG4gICAgdG9nZ2xlLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24oZSkge1xuICAgICAgICBpZiAobmF2YmFyLmNsYXNzTmFtZS5pbmRleE9mKCdpbicpID4gMCkge1xuICAgICAgICAgICAgX19IdXhOYXZfXy5jbG9zZSgpXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBfX0h1eE5hdl9fLm9wZW4oKVxuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBTaW5jZSBGYXN0Y2xpY2sgaXMgdXNlZCB0byBkZWxlZ2F0ZSAndG91Y2hzdGFydCcgZ2xvYmFsbHlcbiAgICAgKiB0byBoYWNrIDMwMG1zIGRlbGF5IGluIGlPUyBieSBwZXJmb3JtaW5nIGEgZmFrZSAnY2xpY2snLFxuICAgICAqIFVzaW5nICdlLnN0b3BQcm9wYWdhdGlvbicgdG8gc3RvcCAndG91Y2hzdGFydCcgZXZlbnQgZnJvbSBcbiAgICAgKiB0b2dnbGUvY29sbGFwc2Ugd2lsbCBicmVhayBnbG9iYWwgZGVsZWdhdGlvbi5cbiAgICAgKiBcbiAgICAgKiBJbnN0ZWFkLCB3ZSB1c2UgYSAnZS50YXJnZXQnIGZpbHRlciB0byBwcmV2ZW50IGhhbmRsZXJcbiAgICAgKiBhZGRlZCB0byBkb2N1bWVudCBjbG9zZSBIdXhOYXYuICBcbiAgICAgKlxuICAgICAqIEFsc28sIHdlIHVzZSAnY2xpY2snIGluc3RlYWQgb2YgJ3RvdWNoc3RhcnQnIGFzIGNvbXByb21pc2VcbiAgICAgKi9cbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uKGUpe1xuICAgICAgICBpZihlLnRhcmdldCA9PSB0b2dnbGUpIHJldHVybjtcbiAgICAgICAgaWYoZS50YXJnZXQuY2xhc3NOYW1lID09ICdpY29uLWJhcicpIHJldHVybjtcbiAgICAgICAgX19IdXhOYXZfXy5jbG9zZSgpO1xuICAgIH0pO1xuXG4gICAgdmFyIE1RTCA9IDExNzA7XG5cbiAgICAvLyBwcmltYXJ5IG5hdmlnYXRpb24gc2xpZGUtaW4gZWZmZWN0XG4gICAgLy8gaWYgKCQod2luZG93KS53aWR0aCgpID4gTVFMKSB7XG4gICAgICB2YXIgJGNhdGFsb2cgPSAkKCcuc2lkZS1jYXRhbG9nJyk7XG4gICAgICB2YXIgaGVhZGVySGVpZ2h0ID0gJCgnLm5hdmJhci1jdXN0b20nKS5oZWlnaHQoKTtcbiAgICAgIHZhciBiYW5uZXJIZWlnaHQgID0gJCgnLmludHJvLWhlYWRlciAuY29udGFpbmVyJykuaGVpZ2h0KCk7ICAgICBcbiAgICAgICQod2luZG93KS5vbignc2Nyb2xsJywge1xuICAgICAgICBwcmV2aW91c1RvcDogMFxuICAgICAgfSwgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgdmFyIGN1cnJlbnRUb3AgPSAkKHdpbmRvdykuc2Nyb2xsVG9wKCk7XG5cbiAgICAgICAgICAvLyBjaGVjayBpZiB1c2VyIGlzIHNjcm9sbGluZyB1cCBieSBtb3VzZSBvciBrZXlib3JhZFxuICAgICAgICAgIGlmIChjdXJyZW50VG9wIDwgdGhpcy5wcmV2aW91c1RvcCkge1xuICAgICAgICAgICAgICAvLyBpZiBzY3JvbGxpbmcgdXAuLi5cbiAgICAgICAgICAgICAgaWYgKGN1cnJlbnRUb3AgPiAwICYmICQoJy5uYXZiYXItY3VzdG9tJykuaGFzQ2xhc3MoJ2lzLWZpeGVkJykpIHtcbiAgICAgICAgICAgICAgICAgICQoJy5uYXZiYXItY3VzdG9tJykuYWRkQ2xhc3MoJ2lzLXZpc2libGUnKTtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICQoJy5uYXZiYXItY3VzdG9tJykucmVtb3ZlQ2xhc3MoJ2lzLXZpc2libGUgaXMtZml4ZWQnKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSBpZiAoY3VycmVudFRvcCA+IHRoaXMucHJldmlvdXNUb3ApIHtcbiAgICAgICAgICAgICAgLy8gaWYgc2Nyb2xsaW5nIGRvd24uLi5cbiAgICAgICAgICAgICAgJCgnLm5hdmJhci1jdXN0b20nKS5yZW1vdmVDbGFzcygnaXMtdmlzaWJsZScpO1xuICAgICAgICAgICAgICBpZiAoY3VycmVudFRvcCA+IGhlYWRlckhlaWdodCAmJiAhJCgnLm5hdmJhci1jdXN0b20nKS5oYXNDbGFzcygnaXMtZml4ZWQnKSkge1xuICAgICAgICAgICAgICAgICAgJCgnLm5hdmJhci1jdXN0b20nKS5hZGRDbGFzcygnaXMtZml4ZWQnKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBcbiAgICAgICAgICB9XG4gICAgICAgICAgdGhpcy5wcmV2aW91c1RvcCA9IGN1cnJlbnRUb3A7XG5cbiAgICAgICAgICAvLyBhZGp1c3QgdGhlIGFwcGVhcmFuY2Ugb2Ygc2lkZS1jYXRhbG9nXG4gICAgICAgICAgJGNhdGFsb2cuc2hvdygpO1xuICAgICAgICAgIGFkanVzdENhdGFsb2coY3VycmVudFRvcCk7XG4gICAgICB9KTtcbiAgICAgIGZ1bmN0aW9uIGFkanVzdENhdGFsb2coY3VycmVudFRvcCkge1xuICAgICAgICBpZiAoY3VycmVudFRvcCA+IChiYW5uZXJIZWlnaHQgKyAyMCkpIHtcbiAgICAgICAgICAgICRjYXRhbG9nLmFkZENsYXNzKCdmaXhlZCcpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgJGNhdGFsb2cucmVtb3ZlQ2xhc3MoJ2ZpeGVkJyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGFkanVzdENhdGFsb2coJCh3aW5kb3cpLnNjcm9sbFRvcCgpKTtcbiAgICAvLyB9XG4gICAgXG59KTtcblxuXG5cblxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9qcy9jb21wb25lbnRzL3RvcC1uYXYuanNcbi8vIG1vZHVsZSBpZCA9IDlcbi8vIG1vZHVsZSBjaHVua3MgPSAwIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///9\n")},/*!*************************************!*\
  !*** ./js ^.*jquery\.tagcloud\.js$ ***!
  \*************************************/
/*! no static exports found */
/*! all exports used */
function(module,exports,__webpack_require__){eval('var map = {\n\t"./components/jquery.tagcloud.js": 11\n};\nfunction webpackContext(req) {\n\treturn __webpack_require__(webpackContextResolve(req));\n};\nfunction webpackContextResolve(req) {\n\tvar id = map[req];\n\tif(!(id + 1)) // check for number or string\n\t\tthrow new Error("Cannot find module \'" + req + "\'.");\n\treturn id;\n};\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 10;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTAuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9qcyBeLipqcXVlcnlcXC50YWdjbG91ZFxcLmpzJD82YzMyIl0sInNvdXJjZXNDb250ZW50IjpbInZhciBtYXAgPSB7XG5cdFwiLi9jb21wb25lbnRzL2pxdWVyeS50YWdjbG91ZC5qc1wiOiAxMVxufTtcbmZ1bmN0aW9uIHdlYnBhY2tDb250ZXh0KHJlcSkge1xuXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyh3ZWJwYWNrQ29udGV4dFJlc29sdmUocmVxKSk7XG59O1xuZnVuY3Rpb24gd2VicGFja0NvbnRleHRSZXNvbHZlKHJlcSkge1xuXHR2YXIgaWQgPSBtYXBbcmVxXTtcblx0aWYoIShpZCArIDEpKSAvLyBjaGVjayBmb3IgbnVtYmVyIG9yIHN0cmluZ1xuXHRcdHRocm93IG5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIgKyByZXEgKyBcIicuXCIpO1xuXHRyZXR1cm4gaWQ7XG59O1xud2VicGFja0NvbnRleHQua2V5cyA9IGZ1bmN0aW9uIHdlYnBhY2tDb250ZXh0S2V5cygpIHtcblx0cmV0dXJuIE9iamVjdC5rZXlzKG1hcCk7XG59O1xud2VicGFja0NvbnRleHQucmVzb2x2ZSA9IHdlYnBhY2tDb250ZXh0UmVzb2x2ZTtcbm1vZHVsZS5leHBvcnRzID0gd2VicGFja0NvbnRleHQ7XG53ZWJwYWNrQ29udGV4dC5pZCA9IDEwO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vanMgXi4qanF1ZXJ5XFwudGFnY2xvdWRcXC5qcyRcbi8vIG1vZHVsZSBpZCA9IDEwXG4vLyBtb2R1bGUgY2h1bmtzID0gMCJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///10\n')},/*!******************************************!*\
  !*** ./js/components/jquery.tagcloud.js ***!
  \******************************************/
/*! no static exports found */
/*! all exports used */
function(module,exports,__webpack_require__){eval('var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;(function (factory) {\n  if (typeof module === \'object\' && module.exports) {\n    // Node/CommonJS\n    module.exports = function( root, jQuery ) {\n      if ( jQuery === undefined ) {\n        // require(\'jQuery\') returns a factory that requires window to\n        // build a jQuery instance, we normalize how we use modules\n        // that require this pattern but the window provided is a noop\n        // if it\'s defined (how jquery works)\n        if ( typeof window !== \'undefined\' ) {\n          jQuery = __webpack_require__(/*! ./jquery.js */ 0);\n        }\n        else {\n          jQuery = __webpack_require__(/*! ./jquery.js */ 0)(root);\n        }\n      }\n      factory(jQuery);\n      return jQuery;\n    };\n  } else if (true) {\n    // AMD. Register as an anonymous module.\n    !(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(/*! ./jquery.js */ 0)], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === \'function\' ?\n\t\t\t\t(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n  } else {\n    // Browser globals\n    factory(jQuery);\n  }\n})(function($) {\n  var jQuery = $;\n  $.fn.tagcloud = function(options) {\n    var opts = $.extend({}, $.fn.tagcloud.defaults, options);\n    tagWeights = this.map(function(){\n      return $(this).attr("rel");\n    });\n    tagWeights = jQuery.makeArray(tagWeights).sort(compareWeights);\n    lowest = tagWeights[0];\n    highest = tagWeights.pop();\n    range = highest - lowest;\n    if(range === 0) {range = 1;}\n    // Sizes\n    if (opts.size) {\n      fontIncr = (opts.size.end - opts.size.start)/range;\n    }\n    // Colors\n    if (opts.color) {\n      colorIncr = colorIncrement (opts.color, range);\n    }\n    return this.each(function() {\n      weighting = $(this).attr("rel") - lowest;\n      if (opts.size) {\n        $(this).css({"font-size": opts.size.start + (weighting * fontIncr) + opts.size.unit});\n      }\n      if (opts.color) {\n        // change color to background-color\n        $(this).css({"backgroundColor": tagColor(opts.color, colorIncr, weighting)});\n      }\n    });\n  };\n\n  $.fn.tagcloud.defaults = {\n    size: {start: 14, end: 18, unit: "pt"}\n  };\n\n  // Converts hex to an RGB array\n  function toRGB (code) {\n    if (code.length == 4) {\n      code = jQuery.map(/\\w+/.exec(code), function(el) {return el + el; }).join("");\n    }\n    hex = /(\\w{2})(\\w{2})(\\w{2})/.exec(code);\n    return [parseInt(hex[1], 16), parseInt(hex[2], 16), parseInt(hex[3], 16)];\n  }\n\n  // Converts an RGB array to hex\n  function toHex (ary) {\n    return "#" + jQuery.map(ary, function(i) {\n      hex =  i.toString(16);\n      hex = (hex.length == 1) ? "0" + hex : hex;\n      return hex;\n    }).join("");\n  }\n\n  function colorIncrement (color, range) {\n    return jQuery.map(toRGB(color.end), function(n, i) {\n      return (n - toRGB(color.start)[i])/range;\n    });\n  }\n\n  function tagColor (color, increment, weighting) {\n    rgb = jQuery.map(toRGB(color.start), function(n, i) {\n      ref = Math.round(n + (increment[i] * weighting));\n      if (ref > 255) {\n        ref = 255;\n      } else {\n        if (ref < 0) {\n          ref = 0;\n        }\n      }\n      return ref;\n    });\n    return toHex(rgb);\n  }\n\n  function compareWeights(a, b)\n  {\n    return a - b;\n  }\n\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTEuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9qcy9jb21wb25lbnRzL2pxdWVyeS50YWdjbG91ZC5qcz9hNzc1Il0sInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiAoZmFjdG9yeSkge1xuICBpZiAodHlwZW9mIG1vZHVsZSA9PT0gJ29iamVjdCcgJiYgbW9kdWxlLmV4cG9ydHMpIHtcbiAgICAvLyBOb2RlL0NvbW1vbkpTXG4gICAgbW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiggcm9vdCwgalF1ZXJ5ICkge1xuICAgICAgaWYgKCBqUXVlcnkgPT09IHVuZGVmaW5lZCApIHtcbiAgICAgICAgLy8gcmVxdWlyZSgnalF1ZXJ5JykgcmV0dXJucyBhIGZhY3RvcnkgdGhhdCByZXF1aXJlcyB3aW5kb3cgdG9cbiAgICAgICAgLy8gYnVpbGQgYSBqUXVlcnkgaW5zdGFuY2UsIHdlIG5vcm1hbGl6ZSBob3cgd2UgdXNlIG1vZHVsZXNcbiAgICAgICAgLy8gdGhhdCByZXF1aXJlIHRoaXMgcGF0dGVybiBidXQgdGhlIHdpbmRvdyBwcm92aWRlZCBpcyBhIG5vb3BcbiAgICAgICAgLy8gaWYgaXQncyBkZWZpbmVkIChob3cganF1ZXJ5IHdvcmtzKVxuICAgICAgICBpZiAoIHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICkge1xuICAgICAgICAgIGpRdWVyeSA9IHJlcXVpcmUoJy4vanF1ZXJ5LmpzJyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgalF1ZXJ5ID0gcmVxdWlyZSgnLi9qcXVlcnkuanMnKShyb290KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgZmFjdG9yeShqUXVlcnkpO1xuICAgICAgcmV0dXJuIGpRdWVyeTtcbiAgICB9O1xuICB9IGVsc2UgaWYgKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCkge1xuICAgIC8vIEFNRC4gUmVnaXN0ZXIgYXMgYW4gYW5vbnltb3VzIG1vZHVsZS5cbiAgICBkZWZpbmUoWycuL2pxdWVyeS5qcyddLCBmYWN0b3J5KTtcbiAgfSBlbHNlIHtcbiAgICAvLyBCcm93c2VyIGdsb2JhbHNcbiAgICBmYWN0b3J5KGpRdWVyeSk7XG4gIH1cbn0pKGZ1bmN0aW9uKCQpIHtcbiAgdmFyIGpRdWVyeSA9ICQ7XG4gICQuZm4udGFnY2xvdWQgPSBmdW5jdGlvbihvcHRpb25zKSB7XG4gICAgdmFyIG9wdHMgPSAkLmV4dGVuZCh7fSwgJC5mbi50YWdjbG91ZC5kZWZhdWx0cywgb3B0aW9ucyk7XG4gICAgdGFnV2VpZ2h0cyA9IHRoaXMubWFwKGZ1bmN0aW9uKCl7XG4gICAgICByZXR1cm4gJCh0aGlzKS5hdHRyKFwicmVsXCIpO1xuICAgIH0pO1xuICAgIHRhZ1dlaWdodHMgPSBqUXVlcnkubWFrZUFycmF5KHRhZ1dlaWdodHMpLnNvcnQoY29tcGFyZVdlaWdodHMpO1xuICAgIGxvd2VzdCA9IHRhZ1dlaWdodHNbMF07XG4gICAgaGlnaGVzdCA9IHRhZ1dlaWdodHMucG9wKCk7XG4gICAgcmFuZ2UgPSBoaWdoZXN0IC0gbG93ZXN0O1xuICAgIGlmKHJhbmdlID09PSAwKSB7cmFuZ2UgPSAxO31cbiAgICAvLyBTaXplc1xuICAgIGlmIChvcHRzLnNpemUpIHtcbiAgICAgIGZvbnRJbmNyID0gKG9wdHMuc2l6ZS5lbmQgLSBvcHRzLnNpemUuc3RhcnQpL3JhbmdlO1xuICAgIH1cbiAgICAvLyBDb2xvcnNcbiAgICBpZiAob3B0cy5jb2xvcikge1xuICAgICAgY29sb3JJbmNyID0gY29sb3JJbmNyZW1lbnQgKG9wdHMuY29sb3IsIHJhbmdlKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpIHtcbiAgICAgIHdlaWdodGluZyA9ICQodGhpcykuYXR0cihcInJlbFwiKSAtIGxvd2VzdDtcbiAgICAgIGlmIChvcHRzLnNpemUpIHtcbiAgICAgICAgJCh0aGlzKS5jc3Moe1wiZm9udC1zaXplXCI6IG9wdHMuc2l6ZS5zdGFydCArICh3ZWlnaHRpbmcgKiBmb250SW5jcikgKyBvcHRzLnNpemUudW5pdH0pO1xuICAgICAgfVxuICAgICAgaWYgKG9wdHMuY29sb3IpIHtcbiAgICAgICAgLy8gY2hhbmdlIGNvbG9yIHRvIGJhY2tncm91bmQtY29sb3JcbiAgICAgICAgJCh0aGlzKS5jc3Moe1wiYmFja2dyb3VuZENvbG9yXCI6IHRhZ0NvbG9yKG9wdHMuY29sb3IsIGNvbG9ySW5jciwgd2VpZ2h0aW5nKX0pO1xuICAgICAgfVxuICAgIH0pO1xuICB9O1xuXG4gICQuZm4udGFnY2xvdWQuZGVmYXVsdHMgPSB7XG4gICAgc2l6ZToge3N0YXJ0OiAxNCwgZW5kOiAxOCwgdW5pdDogXCJwdFwifVxuICB9O1xuXG4gIC8vIENvbnZlcnRzIGhleCB0byBhbiBSR0IgYXJyYXlcbiAgZnVuY3Rpb24gdG9SR0IgKGNvZGUpIHtcbiAgICBpZiAoY29kZS5sZW5ndGggPT0gNCkge1xuICAgICAgY29kZSA9IGpRdWVyeS5tYXAoL1xcdysvLmV4ZWMoY29kZSksIGZ1bmN0aW9uKGVsKSB7cmV0dXJuIGVsICsgZWw7IH0pLmpvaW4oXCJcIik7XG4gICAgfVxuICAgIGhleCA9IC8oXFx3ezJ9KShcXHd7Mn0pKFxcd3syfSkvLmV4ZWMoY29kZSk7XG4gICAgcmV0dXJuIFtwYXJzZUludChoZXhbMV0sIDE2KSwgcGFyc2VJbnQoaGV4WzJdLCAxNiksIHBhcnNlSW50KGhleFszXSwgMTYpXTtcbiAgfVxuXG4gIC8vIENvbnZlcnRzIGFuIFJHQiBhcnJheSB0byBoZXhcbiAgZnVuY3Rpb24gdG9IZXggKGFyeSkge1xuICAgIHJldHVybiBcIiNcIiArIGpRdWVyeS5tYXAoYXJ5LCBmdW5jdGlvbihpKSB7XG4gICAgICBoZXggPSAgaS50b1N0cmluZygxNik7XG4gICAgICBoZXggPSAoaGV4Lmxlbmd0aCA9PSAxKSA/IFwiMFwiICsgaGV4IDogaGV4O1xuICAgICAgcmV0dXJuIGhleDtcbiAgICB9KS5qb2luKFwiXCIpO1xuICB9XG5cbiAgZnVuY3Rpb24gY29sb3JJbmNyZW1lbnQgKGNvbG9yLCByYW5nZSkge1xuICAgIHJldHVybiBqUXVlcnkubWFwKHRvUkdCKGNvbG9yLmVuZCksIGZ1bmN0aW9uKG4sIGkpIHtcbiAgICAgIHJldHVybiAobiAtIHRvUkdCKGNvbG9yLnN0YXJ0KVtpXSkvcmFuZ2U7XG4gICAgfSk7XG4gIH1cblxuICBmdW5jdGlvbiB0YWdDb2xvciAoY29sb3IsIGluY3JlbWVudCwgd2VpZ2h0aW5nKSB7XG4gICAgcmdiID0galF1ZXJ5Lm1hcCh0b1JHQihjb2xvci5zdGFydCksIGZ1bmN0aW9uKG4sIGkpIHtcbiAgICAgIHJlZiA9IE1hdGgucm91bmQobiArIChpbmNyZW1lbnRbaV0gKiB3ZWlnaHRpbmcpKTtcbiAgICAgIGlmIChyZWYgPiAyNTUpIHtcbiAgICAgICAgcmVmID0gMjU1O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKHJlZiA8IDApIHtcbiAgICAgICAgICByZWYgPSAwO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVmO1xuICAgIH0pO1xuICAgIHJldHVybiB0b0hleChyZ2IpO1xuICB9XG5cbiAgZnVuY3Rpb24gY29tcGFyZVdlaWdodHMoYSwgYilcbiAge1xuICAgIHJldHVybiBhIC0gYjtcbiAgfVxuXG59KTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vanMvY29tcG9uZW50cy9qcXVlcnkudGFnY2xvdWQuanNcbi8vIG1vZHVsZSBpZCA9IDExXG4vLyBtb2R1bGUgY2h1bmtzID0gMCJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///11\n')}],[2]);